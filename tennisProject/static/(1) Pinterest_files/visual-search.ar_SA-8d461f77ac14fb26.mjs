(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14865,90907,52935,3923,33789,76089,8205,60037,84419,19555,4776,23121,71872,48045,64680,80310,15071,93775],{240684:(e,t,i)=>{i.d(t,{TA:()=>k,ZP:()=>C});var n=i(667294),a=i(263366),o=i(487462),r=i(497326),l=i(875068),s=i(659864),d=i(108679),c=i.n(d);function u(e,t){if(!e){var i=new Error("loadable: "+t);throw i.framesToPop=1,i.name="Invariant Violation",i}}function p(e){console.warn("loadable: "+e)}var _=n.createContext(),h="__LOADABLE_REQUIRED_CHUNKS__";function m(e){return""+e+h}var g={initialChunks:{}},y="PENDING",v="REJECTED";var f=function(e){return e};function x(e){var t=e.defaultResolveComponent,i=void 0===t?f:t,d=e.render,p=e.onLoad;function h(e,t){void 0===t&&(t={});var h=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),m={};function f(e){return t.cacheKey?t.cacheKey(e):h.resolve?h.resolve(e):"static"}function x(e,n,a){var o=t.resolveComponent?t.resolveComponent(e,n):i(e);if(t.resolveComponent&&!(0,s.isValidElementType)(o))throw new Error("resolveComponent returned something that is not a React component!");return c()(a,o,{preload:!0}),o}var b,P=function(e){function i(i){var n;return(n=e.call(this,i)||this).state={result:null,error:null,loading:!0,cacheKey:f(i)},u(!i.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),i.__chunkExtractor?(!1===t.ssr||(h.requireAsync(i).catch((function(){return null})),n.loadSync(),i.__chunkExtractor.addChunk(h.chunkName(i))),(0,r.Z)(n)):(!1!==t.ssr&&(h.isReady&&h.isReady(i)||h.chunkName&&g.initialChunks[h.chunkName(i)])&&n.loadSync(),n)}(0,l.Z)(i,e),i.getDerivedStateFromProps=function(e,t){var i=f(e);return(0,o.Z)({},t,{cacheKey:i,loading:t.loading||t.cacheKey!==i})};var n=i.prototype;return n.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===v&&this.setCache(),this.state.loading&&this.loadAsync()},n.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},n.componentWillUnmount=function(){this.mounted=!1},n.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},n.getCacheKey=function(){return f(this.props)},n.getCache=function(){return m[this.getCacheKey()]},n.setCache=function(e){void 0===e&&(e=void 0),m[this.getCacheKey()]=e},n.triggerOnLoad=function(){var e=this;p&&setTimeout((function(){p(e.state.result,e.props)}))},n.loadSync=function(){if(this.state.loading)try{var e=x(h.requireSync(this.props),this.props,S);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},n.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var i=x(t,e.props,{Loadable:S});e.safeSetState({result:i,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},n.resolveAsync=function(){var e=this,t=this.props,i=(t.__chunkExtractor,t.forwardedRef,(0,a.Z)(t,["__chunkExtractor","forwardedRef"])),n=this.getCache();return n||((n=h.requireAsync(i)).status=y,this.setCache(n),n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(e.props),chunkName:h.chunkName(e.props),error:t?t.message:t}),n.status=v}))),n},n.render=function(){var e=this.props,i=e.forwardedRef,n=e.fallback,r=(e.__chunkExtractor,(0,a.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),l=this.state,s=l.error,c=l.loading,u=l.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===y)throw this.loadAsync();if(s)throw s;var p=n||t.fallback||null;return c?p:d({fallback:p,result:u,options:t,props:(0,o.Z)({},r,{ref:i})})},i}(n.Component),w=(b=P,function(e){return n.createElement(_.Consumer,null,(function(t){return n.createElement(b,Object.assign({__chunkExtractor:t},e))}))}),S=n.forwardRef((function(e,t){return n.createElement(w,Object.assign({forwardedRef:t},e))}));return S.preload=function(e){h.requireAsync(e)},S.load=function(e){return h.requireAsync(e)},S}return{loadable:h,lazy:function(e,t){return h(e,(0,o.Z)({},t,{suspense:!0}))}}}var b=x({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,i=e.props;return n.createElement(t,i)}}),P=b.loadable,w=b.lazy,S=x({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,i=e.props;return i.children?i.children(t):null}}),I=S.loadable,T=S.lazy,A="undefined"!=typeof window;function k(e,t){void 0===e&&(e=function(){});var i=(void 0===t?{}:t).namespace,n=void 0===i?"":i;if(!A)return p("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var a=null;if(A){var o=m(n),r=document.getElementById(o);if(r){a=JSON.parse(r.textContent);var l=document.getElementById(o+"_ext");if(!l)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(l.textContent).namedChunks.forEach((function(e){g.initialChunks[e]=!0}))}}if(!a)return p("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var s=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,i=t.push.bind(t);function n(){a.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(s||(s=!0,e()))}t.push=function(){i.apply(void 0,arguments),n()},n()})).then(e)}var E=P;E.lib=I,w.lib=T;const C=E},294184:(e,t)=>{var i;!function(){var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)&&i.length){var r=a.apply(null,i);r&&e.push(r)}else if("object"===o)for(var l in i)n.call(i,l)&&i[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(i=function(){return a}.apply(t,[]))||(e.exports=i)}()},701305:e=>{var t=[],i=[];function n(e,t,i,a){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var o=Object.prototype.toString,r=o.call(e);if(r!=o.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var l=i.length;l--;)if(i[l]==e)return a[l]==t;i.push(e),a.push(t);var s=0;if("[object Array]"===r){if((s=e.length)!==t.length)return!1;for(;s--;)if(!n(e[s],t[s],i,a))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var d=Object.keys(e);if(d.length!=Object.keys(t).length)return!1;for(var c=0;c<d.length;c++)if(!n(e[d[c]],t[d[c]],i,a))return!1}return i.pop(),a.pop(),!0}e.exports=function(e,a){var o=t.length?t.pop():[],r=i.length?i.pop():[],l=n(e,a,o,r);return o.length=0,r.length=0,t.push(o),i.push(r),l}},60139:e=>{function t(e){return function(){return e}}var i=function(){};i.thatReturns=t,i.thatReturnsFalse=t(!1),i.thatReturnsTrue=t(!0),i.thatReturnsNull=t(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},663620:(e,t,i)=>{var n=i(60139);e.exports=n},371659:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},217649:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},36855:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},624645:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},130133:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},538282:e=>{e.exports="https://s.pinimg.com/webapp/handle_bottom_left-80eb8fea.svg"},129261:e=>{e.exports="https://s.pinimg.com/webapp/handle_bottom_right-61aecc74.svg"},346184:e=>{e.exports="https://s.pinimg.com/webapp/handle_top_left-892a69ad.svg"},136880:e=>{e.exports="https://s.pinimg.com/webapp/handle_top_right-ee54bc08.svg"},108679:(e,t,i)=>{var n=i(121296),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return n.isMemo(e)?r:l[e.$$typeof]||a}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[n.Memo]=r;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,i,n){if("string"!=typeof i){if(h){var a=_(i);a&&a!==h&&e(t,a,n)}var r=c(i);u&&(r=r.concat(u(i)));for(var l=s(t),m=s(i),g=0;g<r.length;++g){var y=r[g];if(!(o[y]||n&&n[y]||m&&m[y]||l&&l[y])){var v=p(i,y);try{d(t,y,v)}catch(f){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,o=i?Symbol.for("react.fragment"):60107,r=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,s=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,c=i?Symbol.for("react.async_mode"):60111,u=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,_=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case o:case l:case r:case _:return e;default:switch(e=e&&e.$$typeof){case d:case p:case s:return e;default:return t}}case m:case h:case a:return t}}}function y(e){return g(e)===u}t.typeOf=g,t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=s,t.Element=n,t.ForwardRef=p,t.Fragment=o,t.Lazy=m,t.Memo=h,t.Portal=a,t.Profiler=l,t.StrictMode=r,t.Suspense=_,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===l||e===r||e===_||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===s||e.$$typeof===d||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||g(e)===c},t.isConcurrentMode=y,t.isContextConsumer=function(e){return g(e)===d},t.isContextProvider=function(e){return g(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===o},t.isLazy=function(e){return g(e)===m},t.isMemo=function(e){return g(e)===h},t.isPortal=function(e){return g(e)===a},t.isProfiler=function(e){return g(e)===l},t.isStrictMode=function(e){return g(e)===r},t.isSuspense=function(e){return g(e)===_}},121296:(e,t,i)=>{e.exports=i(396103)},562705:(e,t,i)=>{var n=i(555639).Symbol;e.exports=n},896874:e=>{e.exports=function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}},228483:(e,t,i)=>{var n=i(225063)();e.exports=n},644239:(e,t,i)=>{var n=i(562705),a=i(789607),o=i(902333),r=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?a(e):o(e)}},105976:(e,t,i)=>{var n=i(406557),a=i(545357),o=i(430061);e.exports=function(e,t){return o(a(e,t,n),e+"")}},356560:(e,t,i)=>{var n=i(575703),a=i(538777),o=i(406557),r=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=r},727561:(e,t,i)=>{var n=i(567990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},225063:e=>{e.exports=function(e){return function(t,i,n){for(var a=-1,o=Object(t),r=n(t),l=r.length;l--;){var s=r[e?l:++a];if(!1===i(o[s],s,o))break}return t}}},538777:(e,t,i)=>{var n=i(610852),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},431957:(e,t,i)=>{var n="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;e.exports=n},789607:(e,t,i)=>{var n=i(562705),a=Object.prototype,o=a.hasOwnProperty,r=a.toString,l=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,l),i=e[l];try{e[l]=void 0;var n=!0}catch(s){}var a=r.call(e);return n&&(t?e[l]=i:delete e[l]),a}},816612:(e,t,i)=>{var n=i(977813),a=i(498612),o=i(565776),r=i(513218);e.exports=function(e,t,i){if(!r(i))return!1;var l=typeof t;return!!("number"==l?a(i)&&o(t,i.length):"string"==l&&t in i)&&n(i[t],e)}},902333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},545357:(e,t,i)=>{var n=i(896874),a=Math.max;e.exports=function(e,t,i){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,r=-1,l=a(o.length-t,0),s=Array(l);++r<l;)s[r]=o[t+r];r=-1;for(var d=Array(t+1);++r<t;)d[r]=o[r];return d[t]=i(s),n(e,this,d)}}},555639:(e,t,i)=>{var n=i(431957),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();e.exports=o},430061:(e,t,i)=>{var n=i(356560),a=i(521275)(n);e.exports=a},521275:e=>{var t=Date.now;e.exports=function(e){var i=0,n=0;return function(){var a=t(),o=16-(a-n);if(n=a,o>0){if(++i>=800)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}},567990:e=>{var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},575703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,t,i)=>{var n=i(513218),a=i(707771),o=i(14841),r=Math.max,l=Math.min;e.exports=function(e,t,i){var s,d,c,u,p,_,h=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var i=s,n=d;return s=d=void 0,h=t,u=e.apply(n,i)}function f(e){var i=e-_;return void 0===_||i>=t||i<0||g&&e-h>=c}function x(){var e=a();if(f(e))return b(e);p=setTimeout(x,function(e){var i=t-(e-_);return g?l(i,c-(e-h)):i}(e))}function b(e){return p=void 0,y&&s?v(e):(s=d=void 0,u)}function P(){var e=a(),i=f(e);if(s=arguments,d=this,_=e,i){if(void 0===p)return function(e){return h=e,p=setTimeout(x,t),m?v(e):u}(_);if(g)return clearTimeout(p),p=setTimeout(x,t),v(_)}return void 0===p&&(p=setTimeout(x,t)),u}return t=o(t)||0,n(i)&&(m=!!i.leading,c=(g="maxWait"in i)?r(o(i.maxWait)||0,t):c,y="trailing"in i?!!i.trailing:y),P.cancel=function(){void 0!==p&&clearTimeout(p),h=0,s=_=d=p=void 0},P.flush=function(){return void 0===p?u:b(a())},P}},406557:e=>{e.exports=function(e){return e}},701469:e=>{var t=Array.isArray;e.exports=t},637005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},707771:(e,t,i)=>{var n=i(555639);e.exports=function(){return n.Date.now()}},14841:(e,t,i)=>{var n=i(727561),a=i(513218),o=i(733448),r=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var i=l.test(e);return i||s.test(e)?d(e.slice(2),i?2:8):r.test(e)?NaN:+e}},869921:(e,t)=>{var i="function"==typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,o=i?Symbol.for("react.fragment"):60107,r=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,s=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,c=i?Symbol.for("react.async_mode"):60111,u=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,_=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,v=i?Symbol.for("react.fundamental"):60117,f=i?Symbol.for("react.responder"):60118,x=i?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case o:case l:case r:case _:return e;default:switch(e=e&&e.$$typeof){case d:case p:case g:case m:case s:return e;default:return t}}case a:return t}}}function P(e){return b(e)===u}t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=s,t.Element=n,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=a,t.Profiler=l,t.StrictMode=r,t.Suspense=_,t.isAsyncMode=function(e){return P(e)||b(e)===c},t.isConcurrentMode=P,t.isContextConsumer=function(e){return b(e)===d},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===m},t.isPortal=function(e){return b(e)===a},t.isProfiler=function(e){return b(e)===l},t.isStrictMode=function(e){return b(e)===r},t.isSuspense=function(e){return b(e)===_},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===l||e===r||e===_||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===s||e.$$typeof===d||e.$$typeof===p||e.$$typeof===v||e.$$typeof===f||e.$$typeof===x||e.$$typeof===y)},t.typeOf=b},659864:(e,t,i)=>{e.exports=i(869921)},615071:(e,t,i)=>{i.d(t,{Z:()=>b});var n=i(487462),a=i(263366),o=i(875068);i(45697);function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var l=i(667294),s=i(973935);const d=!1;var c=i(500220),u="unmounted",p="exited",_="entering",h="entered",m="exiting",g=function(e){function t(t,i){var n;n=e.call(this,t,i)||this;var a,o=i&&!i.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?o?(a=p,n.appearStatus=_):a=h:a=t.unmountOnExit||t.mountOnEnter?u:p,n.state={status:a},n.nextCallback=null,n}(0,o.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:p}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var i=this.state.status;this.props.in?i!==_&&i!==h&&(t=_):i!==_&&i!==h||(t=m)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,i,n=this.props.timeout;return e=t=i=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,i=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:i}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===_?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:u})},i.performEnter=function(e){var t=this,i=this.props.enter,n=this.context?this.context.isMounting:e,a=this.props.nodeRef?[n]:[s.findDOMNode(this),n],o=a[0],r=a[1],l=this.getTimeouts(),c=n?l.appear:l.enter;!e&&!i||d?this.safeSetState({status:h},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,r),this.safeSetState({status:_},(function(){t.props.onEntering(o,r),t.onTransitionEnd(c,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(o,r)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,i=this.getTimeouts(),n=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!d?(this.props.onExit(n),this.safeSetState({status:m},(function(){e.props.onExiting(n),e.onTransitionEnd(i.exit,(function(){e.safeSetState({status:p},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(n)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,i=!0;return this.nextCallback=function(n){i&&(i=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var i=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(i&&!n){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],o=a[0],r=a[1];this.props.addEndListener(o,r)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,i=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,a.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(c.Z.Provider,{value:null},"function"==typeof i?i(e,n):l.cloneElement(l.Children.only(i),n))},t}(l.Component);function y(){}g.contextType=c.Z,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},g.UNMOUNTED=u,g.EXITED=p,g.ENTERING=_,g.ENTERED=h,g.EXITING=m;const v=g;var f=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((i=e).classList?i.classList.remove(n):"string"==typeof i.className?i.className=r(i.className,n):i.setAttribute("class",r(i.className&&i.className.baseVal||"",n)));var i,n}))},x=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,i){var n=t.resolveArguments(e,i),a=n[0],o=n[1];t.removeClasses(a,"exit"),t.addClass(a,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,i)},t.onEntering=function(e,i){var n=t.resolveArguments(e,i),a=n[0],o=n[1]?"appear":"enter";t.addClass(a,o,"active"),t.props.onEntering&&t.props.onEntering(e,i)},t.onEntered=function(e,i){var n=t.resolveArguments(e,i),a=n[0],o=n[1]?"appear":"enter";t.removeClasses(a,o),t.addClass(a,o,"done"),t.props.onEntered&&t.props.onEntered(e,i)},t.onExit=function(e){var i=t.resolveArguments(e)[0];t.removeClasses(i,"appear"),t.removeClasses(i,"enter"),t.addClass(i,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var i=t.resolveArguments(e)[0];t.addClass(i,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var i=t.resolveArguments(e)[0];t.removeClasses(i,"exit"),t.addClass(i,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,i){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,i]},t.getClassNames=function(e){var i=t.props.classNames,n="string"==typeof i,a=n?""+(n&&i?i+"-":"")+e:i[e];return{baseClassName:a,activeClassName:n?a+"-active":i[e+"Active"],doneClassName:n?a+"-done":i[e+"Done"]}},t}(0,o.Z)(t,e);var i=t.prototype;return i.addClass=function(e,t,i){var n=this.getClassNames(t)[i+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===i&&a&&(n+=" "+a),"active"===i&&e&&e.scrollTop,n&&(this.appliedClasses[t][i]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((i=e).classList?i.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(i,n)||("string"==typeof i.className?i.className=i.className+" "+n:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+n)));var i,n}))}(e,n))},i.removeClasses=function(e,t){var i=this.appliedClasses[t],n=i.base,a=i.active,o=i.done;this.appliedClasses[t]={},n&&f(e,n),a&&f(e,a),o&&f(e,o)},i.render=function(){var e=this.props,t=(e.classNames,(0,a.Z)(e,["classNames"]));return l.createElement(v,(0,n.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);x.defaultProps={classNames:""},x.propTypes={};const b=x},500220:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i(667294).createContext(null)},560053:(e,t)=>{function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var n=i-1>>>1,a=e[n];if(!(0<o(a,t)))break e;e[n]=t,e[i]=a,i=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,a=e.length,r=a>>>1;n<r;){var l=2*(n+1)-1,s=e[l],d=l+1,c=e[d];if(0>o(s,i))d<a&&0>o(c,s)?(e[n]=c,e[d]=i,n=d):(e[n]=s,e[l]=i,n=l);else{if(!(d<a&&0>o(c,i)))break e;e[n]=c,e[d]=i,n=d}}}return t}function o(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var d=[],c=[],u=1,p=null,_=3,h=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,f="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=n(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,i(d,t)}t=n(c)}}function b(e){if(g=!1,x(e),!m)if(null!==n(d))m=!0,D(P);else{var t=n(c);null!==t&&O(b,t.startTime-e)}}function P(e,i){m=!1,g&&(g=!1,v(T),T=-1),h=!0;var o=_;try{for(x(i),p=n(d);null!==p&&(!(p.expirationTime>i)||e&&!E());){var r=p.callback;if("function"==typeof r){p.callback=null,_=p.priorityLevel;var l=r(p.expirationTime<=i);i=t.unstable_now(),"function"==typeof l?p.callback=l:p===n(d)&&a(d),x(i)}else a(d);p=n(d)}if(null!==p)var s=!0;else{var u=n(c);null!==u&&O(b,u.startTime-i),s=!1}return s}finally{p=null,_=o,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,I=null,T=-1,A=5,k=-1;function E(){return!(t.unstable_now()-k<A)}function C(){if(null!==I){var e=t.unstable_now();k=e;var i=!0;try{i=I(!0,e)}finally{i?w():(S=!1,I=null)}}else S=!1}if("function"==typeof f)w=function(){f(C)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,R=j.port2;j.port1.onmessage=C,w=function(){R.postMessage(null)}}else w=function(){y(C,0)};function D(e){I=e,S||(S=!0,w())}function O(e,i){T=y((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,D(P))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(e){switch(_){case 1:case 2:case 3:var t=3;break;default:t=_}var i=_;_=t;try{return e()}finally{_=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=_;_=e;try{return t()}finally{_=i}},t.unstable_scheduleCallback=function(e,a,o){var r=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?r+o:r:o=r,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>r?(e.sortIndex=o,i(c,e),null===n(d)&&e===n(c)&&(g?(v(T),T=-1):g=!0,O(b,o-r))):(e.sortIndex=l,i(d,e),m||h||(m=!0,D(P))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=_;return function(){var i=_;_=t;try{return e.apply(this,arguments)}finally{_=i}}}},363840:(e,t,i)=>{e.exports=i(560053)},653250:(e,t,i)=>{var n=i(667294);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,r=n.useEffect,l=n.useLayoutEffect,s=n.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!a(e,i)}catch(n){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var i=t(),n=o({inst:{value:i,getSnapshot:t}}),a=n[0].inst,c=n[1];return l((function(){a.value=i,a.getSnapshot=t,d(a)&&c({inst:a})}),[e,i,t]),r((function(){return d(a)&&c({inst:a}),e((function(){d(a)&&c({inst:a})}))}),[e]),s(i),i};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},950139:(e,t,i)=>{var n=i(667294),a=i(61688);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=a.useSyncExternalStore,l=n.useRef,s=n.useEffect,d=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,i,n,a){var u=l(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=d((function(){function e(e){if(!s){if(s=!0,r=e,e=n(e),void 0!==a&&p.hasValue){var t=p.value;if(a(t,e))return l=t}return l=e}if(t=l,o(r,e))return t;var i=n(e);return void 0!==a&&a(t,i)?t:(r=e,l=i)}var r,l,s=!1,d=void 0===i?null:i;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]}),[t,i,n,a]);var _=r(e,u[0],u[1]);return s((function(){p.hasValue=!0,p.value=_}),[_]),c(_),_}},61688:(e,t,i)=>{e.exports=i(653250)},552798:(e,t,i)=>{e.exports=i(950139)},17314:(e,t,i)=>{i.d(t,{Z:()=>d});var n,a,o=i(813653),r=i(861470),l=0,s=0;const d=function(e,t,i){var d=t&&i||0,c=t||new Array(16),u=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){var _=e.random||(e.rng||o.Z)();null==u&&(u=n=[1|_[0],_[1],_[2],_[3],_[4],_[5]]),null==p&&(p=a=16383&(_[6]<<8|_[7]))}var h=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:s+1,g=h-l+(m-s)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||h>l)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,s=m,a=p;var y=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;c[d++]=y>>>24&255,c[d++]=y>>>16&255,c[d++]=y>>>8&255,c[d++]=255&y;var v=h/4294967296*1e4&268435455;c[d++]=v>>>8&255,c[d++]=255&v,c[d++]=v>>>24&15|16,c[d++]=v>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var f=0;f<6;++f)c[d+f]=u[f];return t||(0,r.Z)(c)}},456778:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null,hash:"1c6b4e45a045976cb346fc1824fa2578"};e.exports=t},103018:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null,hash:"bc3408725d4de6a75e59ac3d2aefd4b2"};e.exports=t},366234:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[t,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};i.hash="ff1a2bcbfbb7f8e808bf69c80a931d09",e.exports=i},67153:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"474x")'},{alias:"coverImage136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"136x136")'},{alias:"coverImage170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"170x")'},{alias:"coverImage222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"222x")'},{alias:"coverImage90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"90x90")'}],type:"ExploreArticle",abstractKey:null};i.hash="bc8b8afb394eb9f724930319c776249a",e.exports=i},126210:e=>{var t,i,n,a,o,r,l,s,d,c,u,p,_,h,m,g,y,v,f,x,b,P,w,S={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FlashlightPagePinQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},s={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},u={alias:"imageOrig",args:d=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},_={alias:"image736x",args:p=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"736x")'},m={alias:"image564x",args:h=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"564x")'},y={alias:"image474x",args:g=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"474x")'},f={alias:"image236x",args:v=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"236x")'},P={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:b=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageOrig",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x=[o,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:c,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:h,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:g,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:v,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},w={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:b,storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FlashlightPagePinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,o,r,l,s,u,_,m,y,f,P,w,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"2fbe7c612e0b9e55147a27059ea1cb52fb3420abce761a50d75549302dd620bd",metadata:{},name:"FlashlightPagePinQuery",operationKind:"query",text:null}};S.hash="3e072d3a492316c79a629968e8cd0a07",e.exports=S,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(S)},414700:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HeaderModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:t,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};i.hash="4bee3a400f6e868da4c768b56562f0ea",e.exports=i},502763:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_pin",selections:[{alias:"pinId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null,hash:"696867be037ab8477fab30bc1731946e"};e.exports=t},839914:e=>{var t,i,n,a,o,r,l,s,d,c,u,p,_,h,m,g,y,v,f,x,b,P,w,S,I={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},l={alias:"imageOrig",args:o=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},d={alias:"image736x",args:s=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},u={alias:"image564x",args:c=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"564x")'},_={alias:"image474x",args:p=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},m={alias:"image236x",args:h=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},v={alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[y={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageOrig",args:o,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:"image736x",args:s,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"image564x",args:c,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"564x")'},{alias:"image474x",args:p,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"image236x",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'}],storageKey:null}],storageKey:null},b={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:x=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:"additionalImageOrig",args:o,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f=[y,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:r,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:c,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:s,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:h,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"236x")'}],storageKey:null}],storageKey:null},P={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:x,storageKey:null},w={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,a,l,d,u,_,m,{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[g,v,S={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},b,P,w,S],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c849c16890001791719605eee00998b40fff9507756fec792bdb95a1a6c3feeb",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};I.hash="724f360ccc5e62a89e40f566310c2ff9",e.exports=I,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(I)},991102:e=>{var t,i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i=[t],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null};n.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=n},441959:e=>{var t,i,n,a,o,r,l,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},r={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,o,r,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},l],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(s)},182964:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"c4db8a7b324600a215bc35cef16f2f83"};e.exports=t},256468:e=>{var t,i,n,a,o,r,l,s,d,c,u,p,_,h,m,g,y,v={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},t,u={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p=[d,c,a,u],storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[i,o,r,_={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},l],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:h=[i,o,r,_,l],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i,a],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},o,r,_,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[s,m={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[g,n,y={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[n,y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[i,n,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:h,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[i,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},c,u,a],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};v.hash="5aae6d9d072ed2153cf7eaf56ea290d0",e.exports=v},788536:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="5b16e8d36c1fe0135f65a9c3aaec6092",e.exports=i},599271:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null,hash:"8d0233fe1acbc77ec2b5a1754e0a6e36"};e.exports=t},937711:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"8f9d12b0eee9d408e23c20c11af28777"};e.exports=t},359433:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredFeedStoryModule_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselModule_story"}],type:"Story",abstractKey:null,hash:"975714093f2b429b06d47cdfccbec3c2"};e.exports=t},944488:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=t},897614:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=t},823722:e=>{var t,i,n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesUrlsFragment_pin"}],type:"Pin",abstractKey:null};a.hash="bc20288ea74e1d8ef595707db3aeb8ce",e.exports=a},608614:e=>{var t,i,n,a,o,r,l,s,d,c,u,p,_,h,m,g,y,v,f,x,b,P,w,S,I,T,A,k,E,C,j,R,D,O,L,z,F,N,M,B,Z,U,G,H,K,V,W,$,q,Y,X,J,Q,ee,te={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},y={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[v={alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:w=[f={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:w,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:S=[n,f,x,b,P],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,I={alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},m,T={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},g],storageKey:null},R={alias:"imageOrig",args:A=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j=[k={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},g,E={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'images(spec:"orig")'},O={alias:"image564x",args:D=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"564x")'},z={alias:"image736x",args:L=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"736x")'},N={alias:"image474x",args:F=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"474x")'},B={alias:"image236x",args:M=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"236x")'},Z={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},Y={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[o,s,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[m,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[m,E],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[m,U={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null},H={alias:"additionalImageOrig",args:A,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G=[a,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[C,g,k],storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},K={alias:"additionalImage564x",args:D,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G,storageKey:'additionalImagesPerSpec(spec:"564x")'},V={alias:"additionalImage736x",args:L,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G,storageKey:'additionalImagesPerSpec(spec:"736x")'},W={alias:"additionalImage474x",args:F,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G,storageKey:'additionalImagesPerSpec(spec:"474x")'},$={alias:"additionalImage236x",args:M,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[a,q={alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},X={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[m,U,H,K,V,W,$,{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[q,a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,a,o,r,l,s,d,c,u,p,_,h,y,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[v,J={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:Q=[f,x,b,P,J],storageKey:null},J],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ee=[n,f,x,b,P,J],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,I,m,T,g,J],storageKey:null},R,O,z,N,B,Z,Y,X,J],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"5f09d38fcc19ea4defe9a2ced0ea73c23f12ec0bc0e6d4bd4f24974e35d6e8ea",metadata:{},name:"UnauthDesktopFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};te.hash="41066749b18be6f77425904cd44e3d69",e.exports=te,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(te)},143453:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"2fb133623620997264f81544f7f43636"};e.exports=t},717988:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=t},298262:e=>{var t,i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},i,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};n.hash="dda341dce5f1fa956d1837dec35496de",e.exports=n},782194:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=t},172803:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesUrlsFragment_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};i.hash="410a7880516268b381d4d03bb7a09fc3",e.exports=i},436800:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),a=i(702664),o=i(883119),r=i(434012),l=i(162190),s=i(162474);var d=i(785893);function c({favorited:e,favoriteCount:t,isCloseupButton:i,onFavorite:c,onUnfavorite:u,pinId:p,size:_}){const h=(0,r.ZP)(),m=(0,a.useDispatch)(),[g,y]=(0,n.useState)(!1),[v,f]=(0,n.useState)(e),[x,b]=(0,n.useState)(null!=t?t:0),P=async()=>{var e;f(!v),y(!0),v?(b(x-1),await m((e=p,async t=>{await(0,s.Z)({url:`/v3/pins/${e}/favorite/`,method:"DELETE"}),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),u(),y(!1)):(b(x+1),await m(function(e){return async t=>{await(0,s.Z)({url:`/v3/pins/${e}/favorite/`,method:"POST"}),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(p)),c(),y(!1))},w=x<10?x:h.bt("  9 ", "9+", "favoriteButton.favoriteCountText", undefined, true);return(0,d.jsxs)(o.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==t&&x>0&&(0,d.jsx)(o.xv,{size:"200",weight:"bold",children:w}),(0,d.jsx)(l.Z,{isCloseupButton:i,isDisabled:g,isFavorited:v,onTap:()=>{P()},size:_})]})}},600999:(e,t,i)=>{i.d(t,{H1:()=>d,HW:()=>o,iL:()=>s,pN:()=>l,s_:()=>r});var n=i(835686),a=i(578662);const o=new Date(2022,1,1);function r(){const{checkExperiment:e}=(0,n.F)(),t=["enabled_public","employees"].includes(e("web_ip_plays",{dangerouslySkipActivation:!0}).group),i=e("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled,a=e("android_ios_web_ip_plays_dark_reads").anyEnabled;return t||i||a}function l({isOwnPin:e,isStoryPin:t,pinCreationDate:i,surface:r}){const l=(0,a.Z)(),{checkExperiment:s}=(0,n.F)(),d=s("web_play_playtime_pin_stats",{dangerouslySkipActivation:!0}).anyEnabled,c=!!("CreatorProfileStoryPinGrid"===r&&t&&i&&i.getTime()>=o.getTime()&&d&&l.isPartner&&e)&&s("web_ip_plays").anyEnabled,u=["enabled_public","employees"].includes(s("web_ip_plays",{dangerouslySkipActivation:!0}).group);if("CreatorProfileStoryPinGrid"===r&&t&&i&&i.getTime()>=o.getTime()){if(l.isPartner)return e&&c||!e&&u;if(s("web_ip_pinner_plays").anyEnabled)return!0}return!1}function s({isOwnPin:e,isPartner:t}){const{checkExperiment:i}=(0,n.F)(),a=["enabled_public","employees"].includes(i("web_ip_plays",{dangerouslySkipActivation:!0}).group),o=i("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(e||!(o&&!t||a&&t))}function d({isOwnPin:e,isPartner:t}){const{checkExperiment:i}=(0,n.F)(),a=i("web_ip_plays",{dangerouslySkipActivation:!0}).anyEnabled,o=i("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(!e||!(a&&t||o&&!t))}},975985:(e,t,i)=>{i.r(t),i.d(t,{default:()=>f});var n=i(667294),a=i(702664),o=i(883119),r=i(842181),l=i(434012),s=i(56397),d=i(835686),c=i(260531),u=i(675475),p=i(359587),_=i(504407),h=i(597698),m=i(498562),g=i(785893);const y=50,v=60;function f({feedbackData:e,feedbackType:t,pin:i,pinTitle:f,setForcePrimary:x,transparentBackground:b}){var P,w,S,I;const T=(0,l.ZP)(),{isAuthenticated:A,isBot:k,isSocialBot:E}=(0,c.B)(),C=(0,a.useDispatch)(),{viewParameter:j,viewType:R}=(0,_.E)(),{reportPin:D}=(0,m.f)(),[O,L]=(0,n.useState)(!1),[z,F]=(0,n.useState)(),{ad_match_reason:N,show_ad_reasons:M,category:B,description:Z,id:U="",images:G,is_promoted:H,pinner:K,promoter:V,videos:W}=i;var $;const q=($=H?v:y,function(e){return(0,u.ZP)((e||"").trim(),$)})(null!=Z?Z:""),Y=null==G||null===(P=G["236x"])||void 0===P?void 0:P.url,X=!(null==W||!W.video_list),J=(0,p.Z)(101,{component:0,element:981,object_id_str:U,aux_data:{feedback_type:t}}),Q=()=>{M||(x(!1),C((0,h.i0)(U)),L(!1))},{checkExperiment:ee}=(0,d.F)(),te=A?ee("web_auth_exclude_original_images").anyEnabled:ee("web_unauth_exclude_original_images").anyEnabled;return(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(o.xu,{"data-test-id":"feedback-button",ref:F,children:(0,g.jsx)(o.hU,{accessibilityLabel:T.bt("  ", "More information", "accessibility label for overflow menu button", undefined, true),bgColor:b?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{O?Q():(x(!0),L(!0)),J()},size:"sm"})}),O&&(0,g.jsx)(o.xu,{onFocus:e=>e.stopPropagation(),children:(0,g.jsx)(r.Z,{anchor:z,ad_match_reason:N,bestPinImgSrc:(0,s.Z)({imagesUrls:i.images?Object.keys(i.images).reduce(((e,t)=>{var n,a;return t?{...e,[t]:null===(n=i.images)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.url}:e}),{}):void 0,embedSrc:null===(w=i.embed)||void 0===w?void 0:w.src,embedType:null===(S=i.embed)||void 0===S?void 0:S.type,excludeOriginals:!k&&!E&&te}),board:i.board&&{entityId:i.board.id,imageThumbnailUrl:i.board.image_thumbnail_url,name:i.board.name,url:i.board.url},feedbackData:e,feedbackType:t,hideDownload:X,isPromoted:H,onLinkClick:()=>{O&&Q()},onDismiss:Q,onHide:Q,onDownloadHideFlyout:()=>{x(!1),L(!1)},pinCategory:B,pinDescription:q,pinId:U,pinImgSrc:Y,pinner:K&&{explicitlyFollowedByMe:K.explicitly_followed_by_me,entityId:K.id,fullName:K.full_name,imageSmallUrl:K.image_small_url,username:K.username},pinTitle:f,promoter:V&&{fullName:V.full_name,username:V.username},recommendationReason:i.recommendation_reason&&{board:i.recommendation_reason.board&&{name:i.recommendation_reason.board.name,url:i.recommendation_reason.board.url},reason:i.recommendation_reason.reason,reasonId:i.recommendation_reason.reason_id,throughProperties:(ie=i.recommendation_reason.through_properties,ie&&Object.keys(ie).map((e=>({key:e,data:ie[e]}))))},reportPin:()=>{D(i,j,R),Q()},sourceInterest:i.source_interest&&{entityId:null!==(I=i.source_interest.id)&&void 0!==I?I:"",name:i.source_interest.name,urlName:i.source_interest.url_name},viewParameter:j,viewType:R})})]});var ie}},842181:(e,t,i)=>{i.d(t,{Z:()=>T});var n=i(667294),a=i(702664),o=i(616550),r=i(883119),l=i(698901),s=i(545168),d=i(434012),c=i(376410),u=i(257877),p=i(728036),_=i(92143),h=i(744589),m=i(211516),g=i(340289),y=i(294160),v=i(844149),f=i(155342),x=i(328227),b=i(597698),P=i(836153),w=i(785893);function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class I extends n.Component{constructor(e){super(e),S(this,"getRecommendationDescription",(()=>{var e,t,i;const{i18n:n,ad_match_reason:a,board:o,feedbackType:r,pinner:l,promoter:s,recommendationReason:d,sourceInterest:c}=this.props,u={i18n:n,makeNavigateLink:this.makeNavigateLink};switch(r){case"pfy":return(0,p.Ud)({...u,feedback:{type:"pfy"}});case"pfyBoard":return(0,p.Ud)({...u,feedback:{type:"pfyBoard",recommendationReasonBoard:(null==d?void 0:d.board)&&{name:null!==(e=d.board.name)&&void 0!==e?e:"",url:null!==(t=d.board.url)&&void 0!==t?t:""}}});case"topic":return(0,p.Ud)({...u,feedback:{type:"topic",sourceInterest:c&&c.name&&c.urlName?{name:c.name,url_name:c.urlName}:null}});case"followed":return(0,p.Ud)({...u,feedback:{type:"followed",followed:null!=l&&l.explicitlyFollowedByMe?{type:"pinner",pinner:l.fullName?{full_name:l.fullName,username:null!==(i=l.username)&&void 0!==i?i:""}:null}:{type:"board",board:o&&o.name&&o.url?{name:o.name,url:o.url}:null}}});case"promoted":return(0,p.Ud)({...u,feedback:{type:"promoted",promoter:!a&&s&&s.fullName?{full_name:s.fullName,username:s.username}:null}});default:return null}})),S(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:t,pinner:i,recommendationReason:n}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let a,o,l;var s;if(i&&i.explicitlyFollowedByMe)a=i.imageSmallUrl,o="50%",l=`/${null!==(s=i.username)&&void 0!==s?s:""}`;else if(e&&e.imageThumbnailUrl){var d;a=e.imageThumbnailUrl,o="4px",l=(null==n||null===(d=n.board)||void 0===d?void 0:d.url)||e.url}return a?(0,w.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:o}},flex:"none",marginStart:3,overflow:"hidden",children:(0,w.jsx)(r.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,w.jsx)(r.zd,{height:40,wash:!0,width:40,children:(0,w.jsx)(r.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:a})})})}):null})),S(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:t,i18n:i,pinner:n,sourceInterest:a}=this.props;switch(t){case"followed":return n&&e?(0,p.oK)({i18n:i,makeNavigateLink:this.makeNavigateLink,boardId:e.entityId,display:n.explicitlyFollowedByMe?{type:"pinner",data:{full_name:n.fullName,username:n.username}}:{type:"board",data:{name:e.name,url:e.url}}}):null;case"topic":if(!a)return null;const{entityId:t,name:o,urlName:r}=a;return t&&o&&r?(0,p.Iv)({i18n:i,makeNavigateLink:this.makeNavigateLink,sourceInterest:{id:t,name:o,url_name:r}}):null;default:return null}})),S(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n.bt("  ", "Follow again", "Caption for button to undo a unfollowing of a topic", undefined, true):"")),S(this,"makeNavigateLink",((e,t,i,n)=>(0,w.jsx)(r.rU,{onClick:this.props.onLinkClick,href:t,display:"inlineBlock",underline:"hover",children:(0,w.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:n?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:i})},e))),S(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n.bt("  ", "Report Pin", "Report a pin in the dropdown", undefined, true),description:this.props.i18n.bt("     Pinterest", "This goes against Pinterest's community guidelines", "Description for the report pin option", undefined, true),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),S(this,"hidePinOption",(e=>{const{clientTrackingParams:t,feedbackData:i,feedbackType:n,pinId:a,recommendationReason:o}=this.props,r="search"===n?973:982,{action:l,actionOptions:s}=(0,_.Z)({feedbackData:i,feedbackType:n,pinId:a,pinFeedbackType:"pfy"===n?4:10,recommendationReason:o&&{board:o.board&&{entityId:o.board.entityId},reasonId:o.reasonId,reason:o.reason,throughProperties:o.throughProperties},clientTrackingParams:t(a)}),d=this.props.i18n.bt(" ", "Hide Pin", "message displayed in pin feedback list", undefined, true);return{action:l,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:d,description:this.props.i18n.bt("      ", "See fewer Pins like this", "Description for the hide pin option", undefined, true),elementType:r}})),S(this,"stopRecommendationOption",(()=>{var e;const{clientTrackingParams:t,feedbackData:i,feedbackType:n,pinId:a,recommendationReason:o}=this.props,r="pfyBoard"===n,{action:l,actionOptions:s}=(0,_.Z)({feedbackData:i,feedbackType:n,pinId:a,pinFeedbackType:r?2:4,recommendationReason:o&&{board:o.board&&{entityId:o.board.entityId},reasonId:o.reasonId,reason:o.reason,throughProperties:o.throughProperties},clientTrackingParams:t(a)}),d=null!=o&&o.board&&o.board.url&&o.board.name?this.makeNavigateLink("boardUrl",o.board.url,o.board.name,!0):"";return{action:l,actionOptions:s,feedbackText:{subTitle:r&&o?(0,c.nk)(this.props.i18n.bt("       {{ formattedBoard }}  .", "We won't show you Pins inspired by your board {{ formattedBoard }} anymore.", "Primary caption displayed in pin feedback list to unfollow a board", undefined, true),{formattedBoard:d}):this.props.i18n.bt("!        .", "Got it! We won't show you Pins like this in the future.", "message displayed after stopping recommendations from a pin", undefined, true)},text:r&&o?(0,c.nk)(this.props.i18n.bt("      {{ boardName }}", "Stop seeing Pins inspired by {{ boardName }}", "Primary caption displayed in pin feedback list to unfollow a board", undefined, true),{boardName:null===(e=o.board)||void 0===e?void 0:e.name}):this.props.i18n.bt("      ", "See fewer Pins like this", "Feedback option to stop recommendations inspired by this Pin", undefined, true),elementType:284}})),S(this,"unfollowBoardOption",(()=>{var e,t;const{board:i}=this.props,n=i?this.makeNavigateLink("boardUrl",null!==(e=i.url)&&void 0!==e?e:"",null!==(t=i.name)&&void 0!==t?t:"",!0):"",a=(0,c.nk)(this.props.i18n.bt("  {{ boardName }}", "Unfollow {{ boardName }}", "Primary caption displayed in pin feedback list to unfollow a board", undefined, true),{boardName:null==i?void 0:i.name}),o=(0,c.nk)(this.props.i18n.bt("!    {{ formattedBoard }}        .", "Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.", "Confirmation text after unfollowing a board", undefined, true),{formattedBoard:n});return{action:"unfollowBoard",actionOptions:{board_id:null==i?void 0:i.entityId},feedbackText:{title:"",subTitle:o},text:a,description:(0,c.nk)(this.props.i18n.bt("      \"{{ boardName }}\"", "Stop seeing Pins from the board \"{{ boardName }}\"", "Secondary caption displayed in pin feedback list to unfollow a board", undefined, true),{boardName:null==i?void 0:i.name}),elementType:10614}})),S(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{entityId:t,name:i="",urlName:n}=e,a=`/topics/${null!=n?n:""}`,o=this.makeNavigateLink("topicUrl",a,null!=i?i:"",!0),r=(0,c.nk)(this.props.i18n.bt("    {{ topicName }}", "See fewer Pins from {{ topicName }}", "Primary caption displayed in pin feedback list to unfollow a topic", undefined, true),{topicName:i}),l=(0,c.nk)(this.props.i18n.bt("     {{ formattedTopic }}  .", "We'll show you fewer Pins from {{ formattedTopic }} in the future.", "Confirmation text after unfollowing a topic", undefined, true),{formattedTopic:o});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:h.X},feedbackText:{title:"",subTitle:l},text:r,description:(0,c.nk)(this.props.i18n.bt("      \"{{ topicName }}\"", "Stop seeing Pins from the topic \"{{ topicName }}\"", "Secondary caption displayed in pin feedback list to unfollow a topic", undefined, true),{topicName:e.name}),elementType:976}}return null})),S(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{entityId:t,username:i,fullName:n}=null!=e?e:{},a=`/${i}`,o=e?this.makeNavigateLink("pinnerUrl",a,null!=n?n:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:(0,c.nk)(this.props.i18n.bt("!    {{ formattedUser }}      .", "Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.", "Confirmation text after unfollowing a user", undefined, true),{formattedUser:o})},text:(0,c.nk)(this.props.i18n.bt("  {{ fullName }}", "Unfollow {{ fullName }}", "Primary caption displayed in pin feedback list to unfollow a user", undefined, true),{fullName:n}),description:this.props.i18n.bt("    ", "Stop seeing all their Pins", "Secondary caption displayed in pin feedback list to unfollow a user", undefined, true),elementType:10640}})),S(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n.bt(" ", "Download image", "Button to download Pin image", undefined, true),elementType:10836}))),S(this,"_pinFeedbackText",(()=>{var e,t,i,n;const{location:a,feedbackType:o,hideDownload:r,pinner:l}=this.props,s="followed"===this.props.feedbackType,d=a.pathname.includes("following"),c=(s||"topic"===o)&&!d,u=this.hidePinOption(c),p=this.reportPinOption(),_="promoted"!==o&&!r;switch(o){case"followed":const a=d,r=!a&&this.getRecommendationDescription(),s=null!=l&&l.explicitlyFollowedByMe?this.unfollowUserOption():this.unfollowBoardOption();return{...r?{description:r}:{},options:[u,...c||a?[s]:[],..."promoted"!==o?[this.downloadPinOption()]:[],p]};case"promoted":const{pinId:h,showAdReasonsModal:m}=this.props,g=[u,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n.bt("   ", "Why am I seeing this ad?", "app.common.react.components.PinFeedbackDropdown.adReasonText", undefined, true),callback:()=>{m(h)}},p];return{description:null!==(e=this.getRecommendationDescription())&&void 0!==e?e:void 0,options:g};case"topic":const y=this.unfollowTopicOption(),v=[u,...c&&y?[y]:[],..._?[this.downloadPinOption()]:[],p];return{description:null!==(t=this.getRecommendationDescription())&&void 0!==t?t:void 0,options:v};case"pfy":case"pfyBoard":const f=[u,..."pfyBoard"===o?[this.stopRecommendationOption()]:[],..._?[this.downloadPinOption()]:[],p];return{description:null!==(i=this.getRecommendationDescription())&&void 0!==i?i:void 0,options:f};default:const x=[u,..._?[this.downloadPinOption()]:[],p];return{description:null!==(n=this.getRecommendationDescription())&&void 0!==n?n:void 0,options:x}}})),S(this,"pinHiddenFeedbackText",(e=>{const{isPromoted:t,promoter:i}=this.props,n=e?null:this.getUnfollowAction();return t&&null!=i&&i.fullName?{title:"",subTitle:(0,c.nk)(this.props.i18n.bt(" {{ promoter }}          .", "{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.", "webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle", undefined, true),{promoter:i.fullName})}:n?{title:"",subTitle:this.getRecommendationDescription(),unfollow:n}:{title:"",subTitle:this.props.i18n.bt("!       .", "Got it! We won't show you this Pin in the future.", "message displayed after hiding a pin", undefined, true)}}));const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,i){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,u.t)(t.action,t.actionOptions,i)}onPinHide(e,t,i,n){const{hidePinFeedback:a,onHide:o,pinId:r,showPinFeedback:l,showPinFeedbackOverlay:s,showPinFeedbackUndo:d,viewParameter:c,viewType:u,logContextEvent:_}=this.props;t&&i&&n?d(r,e,(0,p.EF)(i,n,r,u,c,a,_),this.getUndoText(n)):l(r,e),!i||i.promoted||10!==i.feedback_type&&4!==i.feedback_type?o():(this.setState({showSecondary:!0}),s(r))}handleClickLogging(e,t={}){const{feedbackType:i,viewParameter:n,viewType:a,logContextEvent:o}=this.props;o({event_type:101,view_type:a,view_parameter:n,element:e,component:(0,p.nb)(i),aux_data:{...t}})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:i,viewType:n,viewParameter:a,logContextEvent:o,isWindowsPwa:l}=this.props,{pinFeedbackConfig:s}=this.state,{options:d}=s,c=[],p=d.length;for(let _=0;_<p;_+=1){const s=d[_],p=u.P.includes(s.action),h=s.callback?s.callback:()=>this.onPinHide(s.feedbackText,p,s.actionOptions,s.action);if("downloadPin"!==s.action){const e=(0,g.Z)({url:s.link||""});let t="";Array.isArray(s.text)?t=s.text.join(""):"string"!=typeof s.text&&"number"!=typeof s.text||(t=s.text.toString()),c.push(s.link?(0,w.jsx)(r.Lt.Link,{href:s.link,isExternal:e,option:{value:s.action||"",label:t},dataTestId:s.dataTestId||""}):(0,w.jsx)(r.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,s,h),option:{value:s.action||"",label:t},dataTestId:s.dataTestId||""}))}else if(!e&&!1===l){const{bestPinImgSrc:e,pinTitle:l,pinDescription:s,pinCategory:d}=this.props;c.push((0,w.jsx)(r.Lt.Item,{onSelect:()=>{(0,x.ZP)({category:d,filename:l||s,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:i,viewParameter:a,viewType:n},o)},option:{value:"downloadImage",label:this.props.i18n.bt(" ", "Download image", "pinRep.pinFeedbackDropdown.downloadImage", undefined, true)}}))}}return c}render(){var e;const{pinFeedbackConfig:t,showSecondary:i}=this.state,{anchor:a,onDismiss:o,feedbackData:l,feedbackType:s,hideAdReasonsModal:d,pinId:c,onHide:u,recommendationReason:p,showAdReasons:_,viewParameter:h,viewType:m}=this.props,{description:g}=t,x=this.getRecommendationDescriptionImage();return(0,w.jsxs)(n.Fragment,{children:[i?(0,w.jsx)(v.Z,{anchor:a,feedbackData:l,feedbackType:s,pinId:c,onDismiss:o,onHide:u,recommendationReason:p&&{board:p.board&&{entityId:p.board.entityId},reasonId:p.reasonId,reason:p.reason,throughProperties:null===(e=p.throughProperties)||void 0===e?void 0:e.map((({data:e,key:t})=>({data:e,key:t})))},viewParameter:h,viewType:m}):(0,w.jsx)(r.Lt,{anchor:a,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:f.lI,headerContent:g&&(0,w.jsxs)(r.kC,{alignItems:"center",children:[(0,w.jsx)(r.xu,{"data-pin-recommendation-reason":null==p?void 0:p.reason,maxHeight:56,overflow:"hidden",children:(0,w.jsx)(r.xv,{color:"default",overflow:"normal",size:"200",children:g})}),x]}),children:this.renderButtons()}),_&&(0,w.jsx)(y.ZP,{onDismiss:()=>d(c),pinId:c})]})}}function T(e){const{logContextEvent:t}=(0,s.v)(),i=(0,l.Z)(),n=(0,d.ZP)(),r=(0,P.S6)()(e.pinId),{ad_targeting_attribution:c,show_ad_reasons:u=!1}=null!=r?r:{},p=(0,m.kf)(),_=(0,a.useDispatch)();return(0,w.jsx)(I,{...e,clientTrackingParams:i,showAdReasons:u,adTargetingAttribution:c,history:(0,o.useHistory)(),i18n:n,isWindowsPwa:p,location:(0,o.useLocation)(),logContextEvent:t,hidePinFeedback:e=>_((0,b.I1)(e)),showPinFeedback:(e,t)=>_((0,b.q1)(e,t)),showPinFeedbackOverlay:e=>_((0,b.Ib)(e)),showPinFeedbackUndo:(e,t,i,n)=>_((0,b.NA)({id:e,text:t,undoAction:i,undoText:n})),showAdReasonsModal:e=>_((0,b.b9)(e)),hideAdReasonsModal:e=>_((0,b.yj)(e))})}},58362:(e,t,i)=>{i.d(t,{$:()=>c,r:()=>u});var n=i(667294),a=i(946689),o=i(589504),r=i(260531),l=i(278286),s=i(785893);const{Provider:d,useHook:c}=(0,a.Z)("PinRep");function u({children:e}){const{isAuthenticated:t}=(0,r.B)(),[i,a]=(0,n.useState)(!0),[c,u]=(0,n.useState)(!1),p=(0,o.Z)(1000069);(0,l.Z)((()=>{(async()=>{var e,i,n,o;if(!t)return void a(!1);const r=await p.fetchAllExperiences();r&&r.payload&&500417===(null===(e=r.payload.experiences)||void 0===e||null===(i=e[1000069])||void 0===i?void 0:i.experience_id)&&null!==(n=r.payload.experiences)&&void 0!==n&&null!==(o=n[1000069])&&void 0!==o&&o.display_data.hide_footer?p.viewExperience(1000069,500417):a(!1),u(!0)})()}));const _=(0,n.useMemo)((()=>({hasSimplifiedPinGridExpLoaded:c,hidePinRepFooter:i})),[c,i]);return(0,s.jsx)(d,{value:_,children:e})}},733789:(e,t,i)=>{i.d(t,{Z:()=>fn});var n=i(667294),a=i(702664),o=i(616550),r=i(883119),l=i(384045),s=i(600999),d=i(483240),c=i(434012),u=i(694170),p=i(260531),_=i(898960),h=i(55592),m=i(158645),g=i(2561),y=i(597587),v=i(243084),f=i(359587),x=i(504407),b=i(602245);var P=i(785893);const w={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function S({pin:e,sourceLinkStyle:t,surface:i,url:a}){var l,s,d,u,p,_;const h=(0,c.ZP)(),[S,I]=(0,n.useState)(!1),T=(null===(l=e.carousel_data)||void 0===l?void 0:l.index)||0,{id:A}=e,k=function({adDestinationUrl:e,domain:t,carouselDataId:i,carouselSlotLink:n}){let a=t||"";return e&&(a=(0,b.Z)(e).hostname||""),i&&(a=n&&(0,b.Z)(n).hostname||""),a.replace("www.","")}({adDestinationUrl:e.ad_destination_url,domain:e.domain,carouselDataId:null===(s=e.carousel_data)||void 0===s?void 0:s.id,carouselSlotLink:null===(d=e.carousel_data)||void 0===d||null===(u=d.carousel_slots)||void 0===u?void 0:u[T].link}),E=(0,o.useLocation)(),C=(0,g.Kl)(e)||{},{slotIndex:j}=(0,x.E)(),R=(0,m.Z)({boardUrl:null===(p=e.board)||void 0===p?void 0:p.url,location:E,pinId:e.id,pinnerUserName:null===(_=e.pinner)||void 0===_?void 0:_.username,storyPinDataId:e.story_pin_data_id,trackingParams:e.tracking_params,trackingParamsMap:e.tracking_params_map}),D=(0,f.Z)(12,{object_id_str:A,clientTrackingParams:R,aux_data:{grid_index:j,...(0,g.Kl)(e)||{}}}),O=(0,f.Z)(101,{element:162,object_id_str:A,clientTrackingParams:R,aux_data:{...(0,g.Kl)(e)||{}}}),L=(0,f.Z)(8948,{object_id_str:A,clientTrackingParams:R,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:j,...(0,g.Kl)(e)||{}}}),z=()=>{D(),O(),L()},F=(0,v.Z)({href:a,target:"blank",externalData:{auxData:C,pin:e,surface:i}});return"icon-only"===t?(0,P.jsx)(r.hU,{accessibilityLabel:h.bt("", "link", "Website url link", undefined, true),bgColor:"white",href:a,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),z(),F({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{...w.container,...S?w.containerHovered:Object.freeze({}),..."truncated-text"===t?w.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),position:"relative",children:(0,P.jsx)(y.Z,{hovered:S,pin:e,slotIndex:j,viewType:1,children:(0,P.jsx)(r.iP,{fullWidth:!1,href:a,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),z(),F({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,P.jsxs)(r.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:w.text},display:"flex",justifyContent:"between",children:[(0,P.jsx)(r.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,P.jsx)(r.JO,{accessibilityLabel:h.bt("", "link", "Website url link", undefined, true),color:"default",icon:"arrow-up-right",size:9})}),(0,P.jsx)(r.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,P.jsx)(r.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:k})})]})})})})}var I=i(274650),T=i(892713);const A=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(47424),i.e(18081),i.e(48035)]).then(i.bind(i,985717)))),k=(0,n.lazy)((()=>Promise.resolve().then(i.bind(i,975985)))),E=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(23057),i.e(1629),i.e(5035)]).then(i.bind(i,267614))));const C=({pinId:e})=>{const{onSendButtonClick:t}=(0,I.R)(),i=(0,f.Z)(101,{element:72,object_id_str:e});return(0,P.jsx)(T.Z,{onSendButtonClick:t,trackShareTap:i,size:"sm",bgColor:"white"})},j=(0,n.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:i,layout:a,onToggleFlyout:o,pin:s,pinTitle:m,setForcePrimary:g,showEditButton:y,showOverflowMenu:v,showShareButton:f,showSourceLinkButton:b,sourceLinkStyle:w,surface:I}){var T,j,R,D,O;const L=(0,c.ZP)(),z=(0,r.JZ)(),{isRTL:F}=(0,p.B)(),N=!(0,h.HG)(),{viewParameter:M,viewType:B}=(0,x.E)(),{carousel_data:Z,id:U,savedInfo:G,tracked_link:H,link:K,ad_destination_url:V}=s,W=null!==(T=null!==(j=null!=V?V:H)&&void 0!==j?j:K)&&void 0!==T?T:"",{showLeadPinStdAlpha:$}=(0,l.Z)({promotedIsLeadAd:s.promoted_is_lead_ad}),[q,Y]=(0,n.useState)(y),[X,J]=(0,n.useState)(y),[Q,ee]=(0,n.useState)(y),te={...F?{marginLeft:y&&v?-44:0}:{marginRight:y&&v?-44:0},transition:F?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},ie={opacity:Q?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},ne={...F?{marginRight:X?4:0}:{marginLeft:X?4:0},transition:F?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,n.useEffect)((()=>{let e;return y&&v?(J(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{Y(!0),requestAnimationFrame((()=>{ee(!0)}))}))}),800)):(J(y),Y(y),requestAnimationFrame((()=>{ee(y)}))),()=>{clearTimeout(e)}}),[y,v]);let ae=null;if(b){const e=`/pin/${U}`;ae=(0,P.jsx)(u.Z,{children:$?(0,P.jsx)(r.ZP,{accessibilityLabel:L.bt("      ", "Link for closeup view and learn more", "[m10n] pinRep.actionBar.learnMore", undefined, true),size:"sm",href:e,text:L.bt("  ", "Learn more", "[m10n] pinRep.actionBar.learnMore", undefined, true)}):(0,P.jsx)(S,{pin:s,sourceLinkStyle:w,surface:I,url:W})})}const oe=f&&(0,P.jsx)(d.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,P.jsx)(_.Z,{children:(0,P.jsx)(r.xu,{"data-test-id":"send-share-link",children:(0,P.jsx)(u.Z,{children:N?(0,P.jsx)(C,{pinId:s.id}):(0,P.jsx)(E,{imageUrl:null===(R=s.images)||void 0===R||null===(D=R["236x"])||void 0===D?void 0:D.url,ownerId:null===(O=s.pinner)||void 0===O?void 0:O.id,pinId:s.id,setForcePrimary:g})})})})}),re=Boolean(null==G?void 0:G.localPinId)?null==G?void 0:G.localPinId:U,le=q&&(0,P.jsx)(d.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,P.jsx)(_.Z,{children:(0,P.jsx)(r.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:z?void 0:{__style:ie},children:(0,P.jsx)(u.Z,{children:(0,P.jsx)(A,{carouselSlotCurrentIndex:Z&&Z.index,component:0,onToggleModal:o,pinId:re,style:{size:"sm"},view:B,viewParameter:M,useLegoStyles:!0})})})})});return"equally-spaced"===a?(0,P.jsxs)(r.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:ae}),e?le:oe,e?oe:le]}):(0,P.jsxs)(r.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,P.jsx)(r.xu,{flex:"shrink",children:ae}),(0,P.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:z?void 0:{__style:te},children:(0,P.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[e?le:oe,e?oe:le,v&&(0,P.jsx)(d.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,P.jsx)(_.Z,{children:(0,P.jsx)(r.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:z?void 0:{__style:ne},children:(0,P.jsx)(u.Z,{children:(0,P.jsx)(k,{feedbackData:t,feedbackType:i,pin:s,pinTitle:m,setForcePrimary:g})})})})})]})})]})}));var R=i(436800),D=i(492016),O=i(545168),L=i(152935),z=i(578662),F=i(986315),N=i(122127),M=i(681679),B=i(190462),Z=i(249114);const U=312,G=20;function H({board:e,favoriteCount:t,favorited:i,pinId:o}){const{logContextEvent:l}=(0,O.v)(),s=(0,a.useDispatch)(),{slotIndex:d}=(0,x.E)(),{currentFilter:c,eligibleFilters:u,refreshData:p=(()=>{}),sectionId:_,setShowExperienceTooltip:h}=(0,B.s)(),m=(0,n.useRef)(null),g=(0,z.Z)(),y=(0,D.Z)(g,e),v=c===Z.Ac&&(!t||1===t),f=(0,F.E)(u,Z.Ac),b=e=>{l({event_type:101,component:0,element:e?12225:12226,object_id_str:o,view_type:5,view_parameter:y?3069:3070})};return(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(r.xu,{ref:m,children:(0,P.jsx)(R.Z,{favorited:i,favoriteCount:t,onFavorite:()=>{b(!0),f&&p(),h&&h(!0)},onUnfavorite:()=>{b(!1),e&&v&&s((0,N.EX)({feedId:_||e.id,feedType:_?M.Z.BOARD_SECTION_PINS:M.Z.BOARDFEED,itemIds:[o],itemType:"pin"}))},pinId:o,size:G})}),m&&!i&&!_&&0===d&&(0,P.jsx)(r.mh,{children:(0,P.jsx)(L.default,{anchor:m.current,experienceIds:[502973],flyoutSize:U,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}const K=e=>{const t=new URL(e);return t.searchParams.delete("epik"),t.href};var V=i(691546),W=i(327007),$=i(835686),q=i(836153);function Y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class X extends n.Component{constructor(...e){super(...e),Y(this,"state",{spamCheck:null}),Y(this,"mounted",!1),Y(this,"handleSpammyDomainCheck",(()=>{const{clientTrackingParams:e,location:t,pin:i,surface:n,url:a}=this.props;a&&i&&(!i.promoter||i.is_downstream_promotion)&&(0,V.$3)({location:t,pinId:i.id,surface:n})&&(0,V.iw)({clientTrackingParams:e,isMounted:this.mounted,pinId:i.id,spamCheckCallback:e=>this.setState({spamCheck:e}),href:a})})),Y(this,"handleClick",(e=>{const{auxData:t,clientTrackingParams:i,onClick:n,navigateToOffsiteUrl:a,pin:o,pinId:r,url:l}=this.props;(0,V.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),n&&n(e),l&&a({auxData:t,clientTrackingParams:i,pin:o&&{attributionSourceId:o.attribution_source_id,campaignId:o.campaign_id,isPromoted:o.is_promoted,pinPromotionId:o.pin_promotion_id},pinId:r,url:l}))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,pin:t,shouldHideEpikSearchParam:i,url:n}=this.props;return(0,P.jsx)("a",{"aria-label":(null==t?void 0:t.domain)||"",href:i?K(n):n,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}function J(e){var t,i,n;const a=(0,q.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),{checkExperiment:r}=(0,$.F)(),{isAuthenticated:l}=(0,p.B)(),s=(0,o.useLocation)(),d=a?(0,m.Z)({boardUrl:null===(i=a.board)||void 0===i?void 0:i.url,location:s,pinId:a.id,pinnerUserName:null===(n=a.pinner)||void 0===n?void 0:n.username,storyPinDataId:a.story_pin_data_id,trackingParams:a.tracking_params,trackingParamsMap:a.tracking_params_map}):null,c=(0,W.Z)({isFromClickthroughLink:!0});return(0,P.jsx)(X,{...e,clientTrackingParams:d,location:(0,o.useLocation)(),navigateToOffsiteUrl:c,pin:a,shouldHideEpikSearchParam:!l||r("web_hide_epik_param_in_promoted_urls").anyEnabled})}var Q=i(491190),ee=i(593954);function te(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:i}=window.prefetchCompletion[e];return i?(t/i*100).toFixed(3).toString():"-1"}function ie({children:e,componentType:t,contextLogData:i,pin:n,surface:a,viewParameter:o,viewType:l}){const{logContextEvent:s}=(0,O.v)(),d=(0,x.E)(),{ad_destination_url:c,carousel_data:u,id:p,link:_,tracked_link:h}=n;let m,g=c||h||_||"",y="one-tap-desktop";const v=(0,Q.SU)();if(u){const{carousel_slots:e=[],id:t,index:i=0}=u;e[i]&&e[i].link&&(g=e[i].link),m={carousel_slot_id:e[i]&&e[i].id,carousel_data_id:t,carousel_slot_index:i},y+="-carousel"}return(0,P.jsx)(r.xu,{"data-test-id":"otpp",children:(0,P.jsx)(ee.Z,{id:y,children:(0,P.jsx)(J,{auxData:m,onClick:()=>{s({event_type:12,view_type:l||d.viewType,view_parameter:o||d.viewParameter,component:t||d.componentType,object_id_str:p,aux_data:{...i,grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:te(_||"")}}),s({event_type:8948,view_type:l||d.viewType,view_parameter:o||d.viewParameter,component:t||d.componentType,object_id_str:p,aux_data:{...i,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:te(_||"")}}),s({event_type:13,object_id_str:p,component:t||d.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...d.contextLogData,...i}}),s({event_type:13,view_type:v.viewType,view_parameter:v.viewParameter,view_data:v.viewData})},pinId:p,surface:a,url:g,children:e})})})}var ne=i(588333);function ae(e){var t;const{surface:i,...n}=e,{pin:a}=e,o=!!a.promoted_is_lead_ad,r=!!a.is_eligible_for_web_closeup,l=!!a.promoter&&!a.is_downstream_promotion,s=!(null===(t=a.videos)||void 0===t||!t.video_list),d=!o&&(r||s&&l)?ie:ne.Z;return(0,P.jsx)(d,{surface:r?i:void 0,...n})}function oe({pin:e,pinNoteText:t,surface:i}){return(0,P.jsx)(ae,{pin:e,children:(0,P.jsx)(r.xv,{lineClamp:"AdsRepositoryDetails"===i?void 0:1,overflow:"normal",size:"200",children:t})})}var re=i(976641);const le=(e,t)=>t?[{align:"center",displayText:e.bt(" ", "Video views", "pinRep.pinStats.videoViews", undefined, true),field:"video_views",iconType:"play"},{align:"center",displayText:e.bt(" ", "Avg. time", "pinRep.pinStats.videoAverageTime", undefined, true),field:"video_average_time",iconType:"clock",valueFormat:"TIME"}]:[{align:"start",displayText:e.bt(" ", "Video views", "pinRep.pinStats.videoViews", undefined, true),field:"video_views",iconType:"play"},{align:"center",displayText:e.bt(" ", "Avg. time", "pinRep.pinStats.videoAverageTime", undefined, true),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:e.bt(" ", "Saves", "pinRep.pinStats.save", undefined, true),field:"save",iconType:"angled-pin"}],se=(e,t)=>t?[{align:"center",displayText:e.bt(" ", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"center",displayText:e.bt("   ", "Link clicks", "pinRep.pinStats.clickthrough", undefined, true),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]:[{align:"start",displayText:e.bt(" ", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"center",displayText:e.bt(" ", "Saves", "pinRep.pinStats.save", undefined, true),field:"save",iconType:"angled-pin"},{align:"end",displayText:e.bt("   ", "Link clicks", "pinRep.pinStats.clickthrough", undefined, true),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}],de=(e,t,i,n)=>e?[{align:"start",displayText:i.bt("     ", "Full screen plays", "pinRep.pinStats.fullScreenPlays", undefined, true),field:"full_screen_play",iconType:"play"}]:t?[{align:"start",displayText:i.bt("     ", "Full screen plays", "pinRep.pinStats.fullScreenPlays", undefined, true),field:"full_screen_play",iconType:"play"},{align:"center",displayText:i.bt(" ", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"end",displayText:i.bt(" ", "Saves", "pinRep.pinStats.save", undefined, true),field:"save",iconType:"angled-pin"}]:n?[{align:"center",displayText:i.bt(" ", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"center",displayText:i.bt(" ", "Closeups", "pinRep.pinStats.closeups", undefined, true),field:"closeup",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:i.bt(" ", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"center",displayText:i.bt(" ", "Closeups", "pinRep.pinStats.closeups", undefined, true),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:i.bt(" ", "Saves", "pinRep.pinStats.save", undefined, true),field:"save",iconType:"angled-pin"}],ce=(e,t)=>t?[{align:"center",displayText:e.bt(" ", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"center",displayText:e.bt("   ", "Pin clicks", "pinRep.pinStats.pinclick", undefined, true),field:"pin_click",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:e.bt(" ", "Impressions", "pinRep.pinStats.impression", undefined, true),field:"impression",iconType:"eye"},{align:"center",displayText:e.bt(" ", "Saves", "pinRep.pinStats.save", undefined, true),field:"save",iconType:"angled-pin"},{align:"end",displayText:e.bt("   ", "Pin clicks", "pinRep.pinStats.pinclick", undefined, true),field:"pin_click",iconSize:10,iconType:"hand-pointing"}];var ue=i(639429),pe=i(765767),_e=i(992935);function he({value:e,valueFormat:t}){const i=(0,c.ZP)();return e||0===e?"TIME"===t?(0,pe.Z)(e):(0,P.jsx)(_e.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,P.jsx)(r.u,{idealDirection:"up",text:i.bt("    ", "This stat is not available yet", "closeup.partnerAnalytics.unavailableStat", undefined, true),children:""})}function me({pin:e}){var t,i;const n=(0,c.ZP)(),a=(0,z.Z)(),o=!!e.story_pin_data_id,l=!(null===(t=e.videos)||void 0===t||!t.video_list),d=a.isAuth&&(null===(i=e.pinner)||void 0===i?void 0:i.id)===a.id&&!e.is_repin,u=a.isAuth&&a.isPartner,p=(0,re.Z)("pinStats"),_=!!u&&p(),h=(0,s.iL)({isOwnPin:d,isPartner:u}),m=(0,s.H1)({isOwnPin:d,isPartner:u}),g=e.created_at?new Date(e.created_at):null,y=(h||m)&&g&&g.getTime()<=s.HW.getTime(),v=h?function(e){const{public_creator_analytics:t}=e;return e.story_pin_data_id&&t?t:null}(e):function(e,t){const{aggregated_pin_data:i,creator_analytics:n}=e,a=(0,ue.Nc)({pin:e,isSCEEnabled:t}),{creator_analytics:o}=i||{};return a?o:n}(e,_),f=Boolean(e.promoted_is_removable),x=function({isAdsOnlyPin:e,isStoryPin:t,isVideo:i,i18n:n,showPublicPinStats:a,showPrivateFullScreenPinStats:o,showSCEMetrics:r}){return r&&!a?ce(n,e):i?le(n,e):t?de(a,o,n,e):se(n,e)}({isAdsOnlyPin:f,isVideo:l,isStoryPin:o,i18n:n,showPublicPinStats:h,showPrivateFullScreenPinStats:m,showSCEMetrics:_});let b;return b=_?(null==v?void 0:v.all_time_realtime)||(null==v?void 0:v["30d_realtime"]):(l||o)&&(null==v?void 0:v.all_time_realtime)||(null==v?void 0:v["30d_realtime"]),(0,P.jsx)(r.kC,{alignItems:"start",justifyContent:f?"around":"between",children:x.map((({align:e,displayText:t,field:i,iconType:n,iconSize:a=12,valueFormat:o})=>{var l;return(0,P.jsxs)(r.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,P.jsx)(r.xu,{display:"inlineBlock",marginEnd:1,children:(0,P.jsx)(r.JO,{accessibilityLabel:t,color:"default",icon:n,size:a})}),(0,P.jsx)(r.xv,{inline:!0,size:"200",children:(0,P.jsx)(he,{value:"full_screen_play"===i&&y?null:null===(l=b)||void 0===l?void 0:l[i],valueFormat:o})})]},i)}))})}function ge({currentPrice:e,disableLink:t,originalPrice:i,pin:n,surface:a}){const o=i&&i!==e,l=(0,P.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,P.jsx)(r.xv,{color:"default",size:"200",weight:"bold",children:e}),o&&(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,P.jsx)(r.xv,{color:"subtle",size:"200",weight:"bold",children:i})})]});return t?l:(0,P.jsx)(ae,{pin:n,surface:a,children:l})}var ye=i(439685);function ve({disableLink:e,pin:t,surface:i}){const n=(0,P.jsx)(r.xu,{"data-test-id":"pin-source",display:"flex",alignItems:"stretch",justifyContent:"start",children:(0,P.jsx)(r.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:(0,ye.Z)(t,i)})});return e?n:(0,P.jsx)(ae,{pin:t,surface:i,children:n})}var fe=i(564342),xe=i(396681),be=i(884510);function Pe({disableLink:e,numberOfLines:t=2,pin:i,pinTitle:n,surface:a}){const o=(0,p.B)(),{checkExperiment:l}=(0,$.F)(),s=!!i.promoter&&!i.is_downstream_promotion,d=e?n:(0,P.jsx)(ae,{pin:i,surface:a,children:n}),c=(0,fe.G6)(o.userAgent.browserName),u="iphone"===(0,be.v)(o),_="ipad"===(0,be.v)(o);return(u||_||c)&&!s&&l("hfp_title_truncation_safari_web").anyEnabled?(0,P.jsxs)(r.xv,{color:"default",size:"200",weight:"bold",children:[(0,P.jsx)(xe.Z,{unsafeCSS:"\n  .shorten-title > a {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .shorten-title {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  "}),(0,P.jsx)("div",{className:"shorten-title",children:d})]}):(0,P.jsx)(r.xv,{color:"default",lineClamp:t,size:"200",weight:"bold",children:d})}var we=i(975985),Se=i(371659),Ie=i.n(Se),Te=i(217649),Ae=i.n(Te),ke=i(36855),Ee=i.n(ke),Ce=i(624645),je=i.n(Ce),Re=i(130133),De=i.n(Re),Oe=i(443782);const Le={goodIdea:Ie(),love:Ee(),thanks:je(),wow:De(),haha:Ae()},ze={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},Fe=["CreatorProfileStoryPinGrid"];const Ne=function({alignment:e="start",pinId:t,pinner:i,reactionCounts:n,surface:a}){const o=(0,z.Z)(),l=n?(0,Oe.At)(n):null,s=n?(0,Oe.Ud)(n):0,d=Boolean(o.isAuth&&(null==i?void 0:i.id)===o.id),c=!!l&&l.length>0&&l.map(((e,t)=>{const i=Le[ze[e]];return(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,P.jsx)(r.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${i})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),u=!!c&&(0,P.jsx)(r.iP,{role:"link",href:`/pin/${t}/`,children:(0,P.jsxs)(r.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,P.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:c}),(0,P.jsx)(r.xu,{paddingX:1,children:(0,P.jsx)(r.xv,{size:"200",children:(0,P.jsx)(_e.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),p=d&&Fe.includes(a)&&(0,P.jsx)(r.xu,{height:24});return u||p};var Me=i(733984),Be=i(658342);const Ze=32;function Ue({accessibilityLabel:e,attributionNameLink:t,avatarUrl:i,fullWidth:n=!0,name:a="",onClick:o,outline:l=!1,size:s=Ze,shouldRenderAdsOnlyProfileClick:d=!1}){const c=(0,P.jsx)(r.xu,{"data-test-id":"attribution-avatar",height:s,width:s,children:(0,P.jsx)(Be.qE,{name:a,src:i,accessibilityLabel:"",outline:l})});return t?(0,P.jsx)(r.iP,{fullWidth:n,role:"link",href:t,rel:d?"nofollow":void 0,target:d?"blank":void 0,onTap:o,accessibilityLabel:e,children:c}):c}var Ge=i(695255);function He({isHover:e,attributionNameLink:t,name:i,onClick:n,regularWeight:a}){return(0,P.jsx)(r.xu,{children:t?(0,P.jsx)(r.xv,{underline:e,size:"200",lineClamp:1,weight:a?"normal":"bold",children:(0,P.jsx)(r.rU,{onClick:n,href:t,children:i})}):(0,P.jsx)(Ge.Z,{underline:e,size:"200",lineClamp:1,weight:a?"normal":"bold",children:i})})}function Ke({isHover:e,link:t,onClick:i,title:n,weight:a}){return n?(0,P.jsx)(r.xv,{inline:!0,underline:e,size:"200",weight:a,children:t?(0,P.jsx)(r.rU,{onClick:i,href:t,children:n}):n}):null}var Ve=i(581966),We=i(149129);const $e=32,qe=64,Ye=-45;function Xe({attributionNameLink:e,attributionTitle:t,avatarUrl:i,display:a="default",isPromotedByPinCreator:o,name:l,url:s,verifiedIdentity:d,isVerifiedMerchant:c,shouldRenderAdsOnlyProfileClick:u,pinId:p,storyPinDataId:_,hasPromoter:h,hasSponsorship:m,sponsorshipCreatorId:g,isDownstreamPromotion:y}){const v=(0,We.f)(),[x,b]=(0,n.useState)(!1),w=h&&!y,{logContextEvent:S}=(0,O.v)(),I=!!_,T=(0,f.Z)(101,{view_type:3,element:w?283:27,object_id_str:p,component:I?230:void 0,aux_data:{...g?{creator_id:g,pin_id:p}:{}}}),A=()=>{v.setMostRecentPinId(p),T()},k=()=>{b((e=>!e))},E=s&&!e,C=E?"":l,j="overlay"===a,R=(0,P.jsxs)(r.xu,{alignItems:"center",display:j?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,P.jsx)(r.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:j?"flex":void 0,justifyContent:"center",children:(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:j?{__style:{marginTop:Ye}}:void 0,children:(0,P.jsx)(Ue,{attributionNameLink:C?e:void 0,avatarUrl:i,name:C,onClick:()=>A(),accessibilityLabel:C,size:j?qe:$e,outline:j})})}),(0,P.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:j?"flex":void 0,justifyContent:"center",marginTop:j?2:void 0,children:[(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,P.jsxs)(r.kC,{gap:{row:1,column:0},children:[(0,P.jsx)(He,{attributionNameLink:e,name:l,onClick:()=>A(),regularWeight:!(w&&!m||o),isHover:x}),(0,P.jsx)(Ve.Z,{size:"sm",hasVerifiedIdentity:d,isVerifiedMerchant:c})]})}),(0,P.jsx)(Ke,{isHover:x,title:t,weight:"normal"})]})]});return E?(0,P.jsx)(r.iP,{role:"link",onTap:({event:e})=>{u&&S({event_type:9371,element:13382,aux_data:{aop_origin:"Attribution"}}),e.stopPropagation(),A()},href:s,rel:u?"nofollow":void 0,target:u?"blank":void 0,onMouseEnter:k,onMouseLeave:k,children:R}):R}var Je=i(241471);const Qe={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Je.X}ms ease`},visible:{opacity:1}}};var et=i(699372);function tt({feedbackType:e,pin:t}){const i=(0,c.ZP)(),{pinner:n,source_interest:a}=t,{full_name:o,username:l}=n||{},{name:s}=a||{},d="topic"===e,u=!d&&"followed"===e,p=`/${l}/`,_=(0,et.Z)(s),h=`/search/pins/?q=${encodeURIComponent(_)}&rs=image_only_attribution`,m=d?h:p,g={topic:i.bt(" {topic}", "From {topic}", "attribution on pin rep", undefined, true),followed:i.bt(" {pinnerName}", "From {pinnerName}", "attribution on pin rep", undefined, true),pfyBoard:i.bt("   ", "Picked for you", "attribution on pin rep", undefined, true),pfy:i.bt("   ", "Picked for you", "attribution on pin rep", undefined, true)}[e];if(!g)return null;if(u||d){const e=0===g.indexOf("{"),t=d?s:o,i=e?g.slice(g.indexOf("}")+1):g.slice(0,g.indexOf("{"));return e?(0,P.jsxs)(r.xu,{children:[(0,P.jsx)(r.rU,{display:"inlineBlock",href:m,underline:"hover",children:(0,P.jsx)(r.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:t})}),(0,P.jsx)(r.xv,{inline:!0,size:"200",children:i})]}):(0,P.jsxs)(r.xu,{children:[(0,P.jsx)(r.xv,{inline:!0,size:"200",children:i}),(0,P.jsx)(r.rU,{display:"inlineBlock",href:m,underline:"hover",children:(0,P.jsx)(r.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:t})})]})}return(0,P.jsx)(r.xu,{children:(0,P.jsx)(ne.Z,{pin:t,children:(0,P.jsx)(r.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:g})})})}var it=i(31106),nt=i(293747);function at({attributionType:e,board:t,feedbackData:i,feedbackType:o,hasTextContent:l,hasTitleOrSource:s,hoverTransitionState:d,pin:p,pinNoteText:_,pinTitle:h,productCurrentPrice:m,productOriginalPrice:g,setForcePrimary:y,showCarouselEllipsis:v,showFavoriteButton:x,showGroupBoardAvatar:b,showNativeReactions:w,showOverflowMenu:S,showPinStats:I,showSource:T,showTextContent:A,showAttribution:k,surface:E,titleLines:C}){var j,R,D,O;const L=(0,c.ZP)(),F=(0,z.Z)(),N=(0,a.useDispatch)(),{favorited_by_me:M,favorite_user_count:B,id:Z,pinner:U,reaction_counts:G,sponsorship:K,story_pin_data:V}=p,{has_affiliate_products:W}=V||{},$=function(e,t,i){var n,a,o,r,l;const{board:s,link_domain:d={},promoter:c,sponsorship:u,native_creator:p}=e,{sponsor:_}=u||{},h=!!e.promoter&&!e.is_downstream_promotion,{official_user:m}=d||{},g=h&&!!u&&(null==p?void 0:p.id)!==(null==c?void 0:c.id),y=e.pinner||{};let v="",f="",x="",b="",P="",w="",S=!1,I=!1,T=!1;function A(e,t){return!!e&&!!t}var k,E,C,j,R,D,O,L;if(g)v=null!==(k=null!==(E=null==p?void 0:p.image_medium_url)&&void 0!==E?E:null==p?void 0:p.image_small_url)&&void 0!==k?k:"",f=A(null==p?void 0:p.is_ads_only_profile,null==p?void 0:p.ads_only_profile_site)?null!==(C=p.ads_only_profile_site)&&void 0!==C?C:"":`/${null!==(j=null==p?void 0:p.username)&&void 0!==j?j:""}/`,x=null==c?void 0:c.full_name,b=null==p?void 0:p.full_name,w=A(null==p?void 0:p.is_ads_only_profile,null==p?void 0:p.ads_only_profile_site)?null!==(R=p.ads_only_profile_site)&&void 0!==R?R:"":`/${null!==(D=null==p?void 0:p.username)&&void 0!==D?D:""}/`,P=`/${null!==(O=null==c?void 0:c.username)&&void 0!==O?O:""}/`,S=null==p||null===(L=p.verified_identity)||void 0===L?void 0:L.verified,I=null==p?void 0:p.is_verified_merchant,T=A(null==p?void 0:p.is_ads_only_profile,null==p?void 0:p.ads_only_profile_site);else if(h&&c)v=c.image_medium_url||c.image_small_url,x=c.full_name,b=i.bt("  ", "Promoted by", "indicating the username of the person who promoted the pin", undefined, true),w=A(c.is_ads_only_profile,c.ads_only_profile_site)?c.ads_only_profile_site:`/${c.username}/`,T=A(c.is_ads_only_profile,c.ads_only_profile_site);else if(u&&null!=_&&_.username){var z,F,N,M,B,Z,U,G,H;v=null!==(z=null!==(F=null!==(N=null==p?void 0:p.image_large_url)&&void 0!==N?N:null==p?void 0:p.image_medium_url)&&void 0!==F?F:null==p?void 0:p.image_small_url)&&void 0!==z?z:"",f=A(null==p?void 0:p.is_ads_only_profile,null==p?void 0:p.ads_only_profile_site)?null!==(M=p.ads_only_profile_site)&&void 0!==M?M:"":`/${null!==(B=null==p?void 0:p.username)&&void 0!==B?B:""}/`,x=_.full_name,b=null==p?void 0:p.full_name,w=A(null==p?void 0:p.is_ads_only_profile,null==p?void 0:p.ads_only_profile_site)?null!==(Z=p.ads_only_profile_site)&&void 0!==Z?Z:"":`/${null!==(U=null==p?void 0:p.username)&&void 0!==U?U:""}/`,P=`/${null!==(G=_.username)&&void 0!==G?G:""}/`,S=null==p||null===(H=p.verified_identity)||void 0===H?void 0:H.verified,I=null==p?void 0:p.is_verified_merchant,T=A(null==p?void 0:p.is_ads_only_profile,null==p?void 0:p.ads_only_profile_site)}else if(p){var K,V,W,$;v=null!==(K=null!==(V=null!==(W=p.image_large_url)&&void 0!==W?W:p.image_medium_url)&&void 0!==V?V:p.image_small_url)&&void 0!==K?K:"",b=p.full_name,w=A(p.is_ads_only_profile,p.ads_only_profile_site)?p.ads_only_profile_site:`/${p.username}/`,S=null===($=p.verified_identity)||void 0===$?void 0:$.verified,I=p.is_verified_merchant,T=A(p.is_ads_only_profile,p.ads_only_profile_site)}else if("show-for-claimed-content"===t){var q,Y,X,J,Q;null!=m&&m.is_primary_website_verified&&m.username&&(v=null!==(q=null!==(Y=null!==(X=m.image_large_url)&&void 0!==X?X:m.image_medium_url)&&void 0!==Y?Y:m.image_small_url)&&void 0!==q?q:"",b=m.full_name,w=A(m.is_ads_only_profile,m.ads_only_profile_site)?m.ads_only_profile_site:`/${null!==(J=m.username)&&void 0!==J?J:""}/`,S=null===(Q=m.verified_identity)||void 0===Q?void 0:Q.verified,I=m.is_verified_merchant,T=A(m.is_ads_only_profile,m.ads_only_profile_site))}else{var ee,te,ie,ne;v=null!==(ee=null!==(te=null!==(ie=y.image_large_url)&&void 0!==ie?ie:y.image_medium_url)&&void 0!==te?te:y.image_small_url)&&void 0!==ee?ee:"",f=`/${y.username}/`,b=y.full_name,w=s?s.url:"",S=null===(ne=y.verified_identity)||void 0===ne?void 0:ne.verified,I=y.is_verified_merchant}return{avatarUrl:null!==(n=v)&&void 0!==n?n:"",attributionNameLink:null!==(a=f)&&void 0!==a?a:"",attributionTitle:null!==(o=x)&&void 0!==o?o:"",name:null!==(r=b)&&void 0!==r?r:"",sponsorUrl:P,url:null!==(l=w)&&void 0!==l?l:"",verifiedIdentity:!!S,isVerifiedMerchant:!!I,shouldRenderAdsOnlyProfileClick:!!T}}(p,e,L),{avatarUrl:q,attributionNameLink:Y,attributionTitle:X,name:J,sponsorUrl:Q,url:ee,verifiedIdentity:te,isVerifiedMerchant:ie,shouldRenderAdsOnlyProfileClick:ne}=$,ae=!!p.promoter&&!p.is_downstream_promotion,re=ae&&(null===(j=p.native_creator)||void 0===j?void 0:j.id)===(null===(R=p.promoter)||void 0===R?void 0:R.id),le=(0,f.Z)(101,{view_type:3,element:27,object_id_str:Z,component:p.story_pin_data_id?230:void 0,aux_data:{pin_id:Z,...null!=K&&null!==(D=K.creator)&&void 0!==D&&D.id&&null!==(O=K.sponsor)&&void 0!==O&&O.id?{creator_id:K.creator.id,sponsor_id:K.sponsor.id}:{}}}),se=e=>N(se(e)),{full_name:de}=(null==K?void 0:K.sponsor)||{},ce="ConversationView"===E?{padding:"8px"}:Qe.container;return(0,P.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:ce},children:[v&&(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:s||b||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,P.jsx)(u.Z,{children:(0,P.jsx)(it.default,{pinId:Z})})}),I&&(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%","data-test-id":"pin-stats-footer",children:(0,P.jsx)(me,{pin:p})}),(0,P.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:(0,P.jsxs)(r.xu,{flex:"grow",children:[(!!K||W&&!ae)&&!re&&(0,P.jsx)(r.xu,{marginBottom:1,children:(0,P.jsx)(r.xu,{flex:"grow",overflow:"hidden",children:(0,P.jsx)(nt.Z,{hasAffiliateProducts:W,href:Q||ee,isPromoted:ae,sponsorName:de,sponsorshipStatus:null==K?void 0:K.status,onNavigateSponsorClick:()=>{se(Z),le()},textWeight:"bold"})})}),(A&&l||x)&&(0,P.jsxs)(r.xu,{marginBottom:1,children:[(g||m)&&(0,P.jsx)(r.xu,{marginBottom:1,children:(0,P.jsx)(ge,{currentPrice:m,originalPrice:g,pin:p,surface:E})}),x?(0,P.jsxs)(r.kC,{alignItems:"start",children:[(0,P.jsx)(r.kC,{flex:"grow",children:(0,P.jsx)(Pe,{numberOfLines:C,pin:p,pinTitle:h,surface:E})}),(0,P.jsx)(r.xu,{marginStart:3,children:(0,P.jsx)(H,{board:t,favorited:!!M,favoriteCount:null!=t&&t.is_collaborative&&(0,Me.Z)({board:t,viewer:F})?null!=B?B:0:void 0,pinId:Z})})]}):(0,P.jsx)(Pe,{numberOfLines:C,pin:p,pinTitle:h,surface:E}),T&&(0,P.jsx)(r.xu,{marginBottom:2,children:(0,P.jsx)(ve,{pin:p,surface:E})})]}),k&&(0,P.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,P.jsx)(r.xu,{flex:"grow",children:(()=>{var t,i;const n=(0,P.jsx)(Xe,{attributionNameLink:Y,attributionTitle:ae&&!K||re?X:"",avatarUrl:q,isPromotedByPinCreator:!!re,isVerifiedMerchant:ie,shouldRenderAdsOnlyProfileClick:ne,name:J,url:ee,verifiedIdentity:te,pinId:p.id,storyPinDataId:p.story_pin_data_id,hasPromoter:!!p.promoter,hasSponsorship:!!p.sponsorship,sponsorshipCreatorId:null===(t=p.sponsorship)||void 0===t||null===(i=t.creator)||void 0===i?void 0:i.id,isDownstreamPromotion:p.is_downstream_promotion});switch(e){case"none":return null;case"image-only-credit":return(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:Qe.imageOnlyAttribution["active"===d?"visible":"hidden"]},children:(0,P.jsx)(tt,{pin:p,feedbackType:o})});default:return Object.values($).some((e=>Boolean(e)))?n:null}})()}),S&&(0,P.jsx)(r.xu,{flex:"none",children:(0,P.jsx)(we.default,{feedbackData:i,feedbackType:o,pin:p,pinTitle:h,setForcePrimary:y,transparentBackground:!0})})]}),w&&!!G&&Object.keys(G).length>0&&(0,P.jsx)(r.xu,{marginTop:"ConversationView"===E?2:void 0,children:(0,P.jsx)(Ne,{pinId:Z,pinner:U,reactionCounts:G,surface:E})}),_&&(0,P.jsx)(r.xu,{marginBottom:1,children:(0,P.jsx)(oe,{pin:p,pinNoteText:_,surface:E})}),b&&!x&&(0,P.jsx)(r.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(Ue,{attributionNameLink:Y||ee,avatarUrl:q,fullWidth:!1,name:J,accessibilityLabel:J,shouldRenderAdsOnlyProfileClick:ne}),(0,P.jsx)(r.xu,{marginStart:2,flex:"grow",children:(0,P.jsx)(r.xv,{size:"200",children:J})})]})})]})},`${p.id}-sponsor-name-link`)]})}var ot=i(499934);const rt=6,lt=10,st=18,dt=14;function ct({dimension:e,color:t,isSelected:i,img:n,selectVariant:a}){var o,l,s;const d=(0,c.ZP)(),u=(0,P.jsx)(r.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onMouseEnter:({event:i})=>{i.preventDefault(),i.stopPropagation(),a({dimensionName:e,variant:t})},onFocus:()=>{a({dimensionName:e,variant:t})},children:(0,P.jsx)(r.xu,{"data-test-id":`primary-variant-preview-icon-${t}`,height:st,width:st,rounding:1,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{border:i?"1px solid black":"1px solid #EFEFEF"}},children:(0,P.jsx)(r.xu,{height:dt,width:dt,position:"absolute",rounding:1,overflow:"hidden",children:(0,P.jsx)(r.xu,{"data-test-id":`${t}-variant-preview-wrapper`,dangerouslySetInlineStyle:{__style:{transform:`scale(${lt},${lt})`}},children:(0,P.jsx)(r.zd,{height:dt,width:dt,rounding:1,children:(0,P.jsx)(r.Ee,{alt:d.bt("   ", "Color variant preview image", "MerchantStorefront.Variant.VariantPreviewIcon.Image", undefined, true),naturalHeight:null!==(o=n.height)&&void 0!==o?o:1,naturalWidth:null!==(l=n.width)&&void 0!==l?l:1,src:null!==(s=n.url)&&void 0!==s?s:"",fit:"contain"})})})})})});return(0,P.jsx)(r.xu,{"data-test-id":`primary-variant-main-${t}`,display:"inlineBlock",height:st,rounding:1,width:st,children:u})}function ut(){const{logContextEvent:e}=(0,O.v)(),t=(0,ot.Xx)(),i=t&&t.primaryVariants.filter((e=>e.image)).length>0;if((0,n.useEffect)((()=>{e({event_type:120,component:14092})}),[i,e]),!t)return null;const{primaryVariants:a,primaryDimName:o}=t,l=a.slice(0,rt).map((e=>{const i=e.value,n=e.value===t.selectedMap[o],a=e.image;return a?(0,P.jsx)(ct,{dimension:o,color:i,isSelected:n,img:a,selectVariant:t.selectVariant},i):null})).filter(Boolean);if(a.length>rt){const e=a.length-rt;l.push((0,P.jsx)(r.xu,{"data-test-id":"plus-number",display:"flex",height:st,rounding:1,width:st,justifyContent:"center",children:(0,P.jsxs)(r.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onTap:({event:e})=>{e.stopPropagation()},children:["+",e]})},rt))}return(0,P.jsx)(r.kC,{justifyContent:"start",alignItems:"center",gap:3,children:l})}var pt=i(51842),_t=i(340289);function ht(){const e=(0,c.ZP)();return(0,P.jsx)(r.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e.bt(" ", "Sold out", "pinrep.footer.outOfStock", undefined, true)})}function mt(){const e=(0,c.ZP)();return(0,P.jsx)(r.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e.bt("    ", "See price on site", "pinrep.footer.staleProduct", undefined, true)})}function gt({contentType:e,hasTextContent:t,pin:i,pinTitle:a,productCurrentPrice:o,productOriginalPrice:l,productRating:s,productShipping:d,showSource:u,showVisitSiteButton:p,surface:_,titleLines:h}){var m;const{logContextEvent:g}=(0,O.v)(),y=(0,c.ZP)(),{checkExperiment:v}=(0,$.F)(),f=(null===(m=i.rich_summary)||void 0===m?void 0:m.url)||i.link;let x=null;if((0,ot.Xx)()){const{anyEnabled:e}=v("storefront_variant_pins");e&&(x=(0,P.jsx)(ut,{}))}const b=(0,_t.Z)({url:f})?"nofollow":"none";return(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:Qe.productContainer},height:"100%",children:(0,P.jsx)(r.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:t&&(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(ae,{pin:i,surface:_,children:(0,P.jsxs)(r.kC,{direction:"column",gap:1,children:[(l||o)&&(0,P.jsx)(ge,{currentPrice:o,disableLink:!0,originalPrice:l,pin:i,surface:_}),i.is_oos_product&&(0,P.jsx)(ht,{}),i.is_stale_product&&(0,P.jsx)(mt,{}),(0,P.jsx)(Pe,{disableLink:!0,numberOfLines:h,pin:i,pinTitle:a,surface:_}),u&&(0,P.jsx)(ve,{disableLink:!0,pin:i,surface:_}),"shopping"===e&&(s||Number.isFinite(null==d?void 0:d.free_shipping_value))&&(0,P.jsx)(pt.Z,{count:null==s?void 0:s.count,countFormat:"number",isGridView:!0,ratingValue:null==s?void 0:s.rating,shippingInfo:d}),x]})}),p&&f?(0,P.jsx)(r.xu,{marginTop:2,children:(0,P.jsx)(r.ZP,{fullWidth:!0,href:f,rel:b,onClick:()=>{g({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:y.bt(" ", "Visit site", "ShoppingList.Pin.CTA.Button.VisitSite.Text", undefined, true)})}):null]})})})}const yt=(0,n.memo)((function({attributionType:e,blockClickEvents:t,board:i,contentType:n,feedbackData:a,feedbackType:o,hoverTransitionState:l,pin:s,pinNoteText:d,pinTitle:c,productCurrentPrice:p,productOriginalPrice:_,productRating:h,productShipping:m,setForcePrimary:g,showCarouselEllipsis:y,showFavoriteButton:v,showGroupBoardAvatar:f,showNativeReactions:x,showOverflowMenu:b,showPinStats:w,showSource:S,showTextContent:I,showVisitSiteButton:T,showAttribution:A=!0,surface:k,titleLines:E}){const C=c||S,j="shopping"===n?(0,P.jsx)(gt,{contentType:n,hasTextContent:!!C,pin:s,pinTitle:c,productCurrentPrice:p,productOriginalPrice:_,productRating:h,productShipping:m,showSource:S,showVisitSiteButton:T,surface:k,titleLines:E}):(0,P.jsx)(at,{attributionType:e,board:i,feedbackData:a,feedbackType:o,hasTextContent:!!C,hasTitleOrSource:!!C,hoverTransitionState:l,pin:s,pinNoteText:d,pinTitle:c,productCurrentPrice:p,productOriginalPrice:_,setForcePrimary:g,showCarouselEllipsis:y,showFavoriteButton:v,showGroupBoardAvatar:f,showNativeReactions:x,showOverflowMenu:b,showPinStats:w,showSource:S,showTextContent:I,showAttribution:A,surface:k,titleLines:E});return t?(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:j}):(0,P.jsx)(r.kC,{flex:"grow",children:(0,P.jsx)(u.Z,{fullWidth:!0,children:j})})}));var vt=i(233423),ft=i(868198),xt=i(733463);const bt=(0,n.lazy)((()=>i.e(34979).then(i.bind(i,993224)))),Pt=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(47424),i.e(18081),i.e(89992),i.e(43473)]).then(i.bind(i,33662)))),wt=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(47424),i.e(18081),i.e(89992),i.e(22347)]).then(i.bind(i,750353)))),St=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(22538)]).then(i.bind(i,50444)))),It=(0,n.lazy)((()=>i.e(1593).then(i.bind(i,62303))));function Tt({derivedSaveButtonOptions:e,forcePrimaryContent:t,showEnabledSaveBehavior:i,onToggleFlyout:o,onToggleModal:l,pin:s}){const c=(0,ot.Xx)(),p=function(e){return(0,vt.Z)(e?{name:"PinResource",options:{id:e}}:null)}(null==c?void 0:c.variantUrl),h=p&&p.data?p.data:s,{id:m,savedInfo:g}=h,y=(0,n.useRef)(!!g),v=(0,z.Z)(),{checkExperiment:b}=(0,$.F)();let w=0;v.boardCount&&(w+=v.boardCount),v.secretBoardCount&&(w+=v.secretBoardCount);const S="number"==typeof v.pinCount&&v.pinCount>2||w>1,I=(0,a.useSelector)((({experiences:e})=>{const t=e[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),{saveBehaviorType:T}=(0,xt.tY)(i);void 0===T||!["classic","controlled","inline"].includes(e.type)||S&&b("board_picker_holdout").anyEnabled||(e=T);const{viewParameter:A}=(0,x.E)(),k=(0,f.Z)(101,{element:0,object_id_str:m});let E=null;if(e.hidePinBetterSaveDropdown||!(I||i&&["classic","controlled"].includes(e.type))||!["classic","controlled","inline"].includes(e.type)||S&&b("board_picker_holdout").anyEnabled)if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:t}=e;E=(0,P.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,P.jsx)(_.Z,{children:(0,P.jsx)(r.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,P.jsx)(u.Z,{children:(0,P.jsx)(Pt,{onClickCallback:k,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:h,renderPinSaveTooltip:t,renderSavedStatus:()=>!!g&&(0,P.jsx)(u.Z,{children:(0,P.jsx)(ft.Z,{isNewlySaved:!y.current,name:g.title,type:g.type,url:g.url})}),variant:"lego",viewParameter:A})})})})})}else if("inline"===e.type){const t=h,{initialSelection:i,onSave:n,renderPinSaveTooltip:a,hidePinBetterSaveDropdown:s}=e;E=(0,P.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,P.jsx)(_.Z,{children:(0,P.jsx)(r.xu,{"data-test-id":"better-save",children:(0,P.jsx)(u.Z,{children:(0,P.jsx)(wt,{initialSelection:i,onSave:n,onToggleFlyout:o,onToggleModal:l,pin:t,renderPinSaveTooltip:a,renderSavedStatus:({savedInfo:e})=>e&&(0,P.jsx)(u.Z,{children:(0,P.jsx)(ft.Z,{isNewlySaved:!y.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:A,hideDropdown:s})})})})})}else"persistentOneClickSave"===e.type?E=(0,P.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,P.jsx)(_.Z,{children:(0,P.jsx)(r.xu,{"data-test-id":"persistent-one-click-save",children:(0,P.jsx)(u.Z,{children:(0,P.jsx)(bt,{saveOptions:e})})})})}):"promote"===e.type&&(E=(0,P.jsx)(r.kC,{alignItems:"stretch",justifyContent:"end",children:(0,P.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,P.jsx)(_.Z,{children:(0,P.jsx)(r.xu,{"data-test-id":"pin-promote-button",children:(0,P.jsx)(u.Z,{children:(0,P.jsx)(It,{pin:h})})})})})}));else{const{renderPinSaveTooltip:n}=e;E=(0,P.jsx)(d.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,P.jsx)(_.Z,{children:(0,P.jsx)(u.Z,{children:(0,P.jsx)(St,{experience:I||void 0,forcePrimaryContent:t,pin:h,renderPinSaveTooltip:n,showEnabledSaveBehavior:i,viewParameter:A})})})})}return(0,P.jsx)(d.Z,{name:"PinRepPrimaryContent",children:(0,P.jsx)(r.xu,{display:"flex",margin:3,children:E&&(0,P.jsx)(r.xu,{marginStart:"auto",flex:"grow",children:E})})})}const At={marginTop:"1px"},kt=32,Et=12;function Ct({cta:e}){const t=(0,c.ZP)();return(0,P.jsx)(r.iP,{children:(0,P.jsx)(r.xu,{"data-test-id":"pinrep-chin",minHeight:kt,color:"secondary",dangerouslySetInlineStyle:{__style:At},children:(0,P.jsxs)(r.xu,{padding:2,display:"flex",justifyContent:"between",children:[(0,P.jsx)(r.xv,{size:"200",weight:"bold",children:e||t.bt("  ", "Learn more", "[m10n] pinRep.chin.learnMore", undefined, true)}),(0,P.jsx)(r.JO,{icon:"arrow-forward",size:Et,accessibilityLabel:t.bt("    ", "Go to lead ad", "[m10n] pinRep.chin.arrowForwardIcon", undefined, true),color:"default"})]})})})}var jt=i(537043),Rt=i(12198),Dt=i(515146),Ot=i(226246);const Lt={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function zt({isSelected:e}){const t=(0,c.ZP)();return(0,P.jsx)(r.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?Lt:{},children:(0,P.jsx)(r.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,P.jsx)(r.xu,{alignItems:"center",color:e?"dark":"default",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,P.jsx)(r.JO,{accessibilityLabel:t.bt("    ", "Pin is selected to be saved", "SectionSuggestionPin.iconOnPin.selectedPin", undefined, true),color:"inverse",icon:"check",size:12})})})})}var Ft=i(741208);const Nt={},Mt=e=>{Ft.Z.increment("web_prefetch_via_xhr.attempt",1);const t=(0,b.Z)(e);return new Promise(((i,n)=>{if(window.navigator&&window.navigator.connection){const{connection:e}=window.navigator;e.saveData&&(Ft.Z.increment("web_prefetch_via_xhr.saveDataOn",1),i()),/2g/.test(e.effectiveType)&&(Ft.Z.increment("web_prefetch_via_xhr.poorConnection",1),i())}const a=new XMLHttpRequest;a.open("GET",e),a.onload=()=>{200===a.status?(Nt[e]&&(Nt[e].loaded=!0),Ft.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),i(a.response)):(Ft.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),n())},Nt[e]||(a.send(),Nt[e]={added:!0,xhr:a},Ft.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},Bt=e=>{Nt[e]&&Nt[e].xhr&&!Nt[e].loaded&&(Ft.Z.increment("web_prefetch_abort_xhr",1),Nt[e].xhr.abort(),Nt[e].aborted=!0)};var Zt=i(235735),Ut=i(829241);const Gt={},Ht=(e,t)=>{const i="string"==typeof e?e:e.url;if(t&&i){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";return i.replace("v1.pinimg.com",e)}return i};function Kt(e,t){return(Ht("https://v1.pinimg.com/videos/mc/hls/",t)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}var Vt=i(117427);const Wt=55,$t=420,qt=236,Yt=250,Xt=164;const Jt=e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width};function Qt({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:i,imageFit:a,imageHeightModifier:o,isDenseView:l,isHovering:s,onError:d,onLoad:c,pin:u,pinImageCrop:p,resolution:_="default",rootMargin:h,selectionState:m,showCarousel:g,showPromotedVideos:v,showLeadPinStdBeta:f,showUnavailablePin:b,surface:w}){var S;const{contextLogData:I,slotIndex:T,viewParameter:A,viewType:k}=(0,x.E)(),{checkExperiment:E}=(0,$.F)(),{group:C}=E("web_prefetch_video_in_feed"),{id:j="",aggregated_pin_data:R,image_signature:D,story_pin_data:O}=u,{pin_tags_chips:L}=R||{},z=!!u.is_eligible_for_web_closeup,F=!(null===(S=u.videos)||void 0===S||!S.video_list),N=!!u.promoter&&!u.is_downstream_promotion,{cropHeight:M,cropWidth:B}=Jt(p);let Z=null;if(b)Z=(0,P.jsx)(Dt.Z,{isDenseView:l,height:l?Yt:$t,rounding:0,width:l?Xt:qt});else if(e||!F||!v&&N||"BoardCoverSelectablePin"===w)if(g)Z=(0,P.jsx)(r.xu,{"data-test-id":"pinrep-carousel",children:(0,P.jsx)(Vt.Z,{cropHeight:M,cropWidth:B,onError:d,onLoad:c,highResOnly:"high-res"===_,lowResOnly:"low-res"===_,pinId:j,showCarouselBadge:!1,pin:u})});else{const e="backend"===p?function({images:e,image_crop:t}){var i;const n=e&&(null===(i=e["236x"])||void 0===i?void 0:i.height);if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e=0,max_y:i=0}=t;return{marginTop:(e>0?-1*e*(null!=n?n:0):0)+"px",marginBottom:`${i<1?Math.round(-1*(1-i)*(null!=n?n:0)):0}px`}}return{}}(u):{};Z=(0,P.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:Wt,children:[(0,P.jsx)(jt.Z,{cropHeight:M,cropWidth:B,fallbackColor:i,imageFit:a,highResOnly:"high-res"===_,lowResOnly:"low-res"===_,mediumResOnly:"medium-res"===_,onLoad:c,onError:d,pin:u}),f&&(0,P.jsx)(Ct,{cta:u.call_to_action_text})]})}else Z=(0,P.jsxs)(r.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:M||void 0,justifyContent:"center",children:[(0,P.jsx)(Rt.Z,{cropHeight:M,cropWidth:B,highResOnly:"high-res"===_,imageHeightModifier:o,inAdsDesktopVideoExperiment:F&&v,isExperimentalPinRep:!0,lowResOnly:"low-res"===_,onError:d,onLoad:c,pin:u,rootMargin:h,surface:w,viewParameter:A,viewType:k}),f&&(0,P.jsx)(Ct,{cta:u.call_to_action_text})]});const U=(0,P.jsx)(r.zd,{wash:!0,children:(0,P.jsx)(y.Z,{hovered:s,pin:u,slotIndex:T,viewType:1,children:Z})}),G=["selected-image-only","deselected-image-only"].includes(m),H="selected-image-only"===m,K=(0,n.useRef)(!0),V=(0,n.useRef)(!1),W=(0,n.useRef)(!1),q=E("web_video_quic").group;if((0,n.useEffect)((()=>{var e,i;K.current||!s||z||t||V.current?s||!V.current||W.current||((i=(null==O?void 0:O.id)||u.id)&&Gt[i]&&Gt[i].length>0&&Gt[i].forEach((e=>{Bt(e)})),W.current=!0):O?(!function(e,t){var i;const{id:n,pages:a,pages_preview:o}=e;if(!o&&!a)return;const r=o?o[0]:null==a?void 0:a[0],l=null==r||null===(i=r.blocks)||void 0===i?void 0:i.find((e=>3===e.block_type));if(l&&l.video){const{hlsv3:e,mp4:i}=(0,Zt.Z)(l.video)||{},a=i||e;if(a&&n){var s;const e=null!==(s=Ht(a,t))&&void 0!==s?s:"";Gt[n]=Gt[n]?Gt[n].concat(e):[e],Mt(e)}}}(O,q),V.current=!0):(null!==(e=u.videos)&&void 0!==e&&e.video_list&&function({pinId:e,videosId:t,videoList:i,quicExpGroup:n}){var a;const{vHLS3Mobile:o,vHLSV4:r,...l}=i,s=e&&t&&(null===(a=[o,r].find((e=>e&&e.thumbnail&&e.url&&!!e.width&&!!e.height)))||void 0===a?void 0:a.url);if(s){var d;const t=null!==(d=Ht(s,n))&&void 0!==d?d:"";return Gt[e]=Gt[e]?Gt[e].concat(t):[t],void Mt(t).then((t=>{let i=[];if("string"==typeof t&&(i=t.split("\n").filter((e=>e.endsWith(".m3u8")))),i&&i[Ut.V]){const t=Kt(i[Ut.V],n);return Gt[e]=Gt[e].concat(t),Mt(null!=t?t:"")}return null})).then((t=>{let i=[];if("string"==typeof t&&(i=t.split("\n").filter((e=>e.endsWith(".ts")))),i&&i[0]){const t=Kt(i[0],n);return Gt[e]=Gt[e].concat(t),Mt(null!=t?t:"")}return null}))}const c=(0,Zt.t)(l);if(null!=c&&c.url){var u;const t=null!==(u=Ht(c.url,n))&&void 0!==u?u:"";Mt(t),Gt[e]=Gt[e]?Gt[e].concat(t):[t]}}({pinId:u.id,videosId:u.videos.id,videoList:{vExp3:u.videos.video_list.V_EXP3,vExp4:u.videos.video_list.V_EXP4,vExp5:u.videos.video_list.V_EXP5,vExp6:u.videos.video_list.V_EXP6,vExp7:u.videos.video_list.V_EXP7,v720p:u.videos.video_list.V_720P,vHLS3Mobile:u.videos.video_list.V_HLSV3_MOBILE,vHLSV4:u.videos.video_list.V_HLSV4},quicExpGroup:q}),V.current=!0);K.current=!1}),[t,s,z,O,u,C,q]),t)return(0,P.jsxs)(n.Fragment,{children:[U,G&&(0,P.jsx)(zt,{isSelected:H}),L&&(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,P.jsx)(Ot.Z,{pin:u,enableCloseupLink:!0})})]});const{commerce_data:Y,story_type:X,board_id:J,board_pin_count:Q}=I||{};return(0,P.jsxs)(ae,{contextLogData:{commerce_data:Y,grid_index:T,image_signature:D,story_type:X,board_id:J,board_pin_count:Q},elementType:O?12372:35,pin:u,surface:w,children:[U,L&&(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,P.jsx)(Ot.Z,{pin:u,enableCloseupLink:!1})})]})}var ei=i(289288),ti=i(882345),ii=i(597698);function ni({direction:e,swipeHandler:t}){const i=(0,c.ZP)(),n={left:i.bt(" ", "View Previous", "Button to advance carousel to the previous image", undefined, true),right:i.bt(" ", "View Next", "Button to advance carousel to the next image", undefined, true)};return(0,P.jsx)(r.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,P.jsx)(r.iP,{fullHeight:!0,fullWidth:!0,onTap:t,children:(0,P.jsx)(r.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,P.jsx)(r.JO,{accessibilityLabel:n[e],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}function ai({pin:e}){const{logContextEvent:t}=(0,O.v)(),{componentType:i,viewParameter:n,viewType:o}=(0,x.E)(),l=(0,a.useDispatch)(),s=(0,ti.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary});if(!s)return null;const{id:d=""}=e,{carousel_slots:c=[],index:p=0,id:_}=s;function h(a){return()=>{const r="left"===a?p-1:p+1;((e,t)=>{l((0,ii.yR)(e,t))})(d,r),((a=0,r)=>{t({event_type:108,object_id_str:d,component:i,view_type:o,view_parameter:n,event_data:{pinCarouselSlotEventData:{carouselSlotId:c[a]&&Number(c[a].id),carouselDataId:Number(_),carouselSlotIndex:a,toCarouselSlotIndex:r}},aux_data:{...(0,g.Kl)(e)||{}}})})(p,r)}}return(0,P.jsxs)(r.xu,{height:"100%",position:"relative",width:"100%",children:[p>0&&(0,P.jsx)(u.Z,{children:(0,P.jsx)(ni,{direction:"left",swipeHandler:h("left")})}),p<c.length-1&&(0,P.jsx)(u.Z,{children:(0,P.jsx)(ni,{direction:"right",swipeHandler:h("right")})})]})}function oi(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function ri(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}var li=i(915898);const si={impressed:{backgroundColor:"#adebad"}},di=()=>void 0!==(0,li.Z)().debug_impression_log;function ci({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:si.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,P.jsx)(r.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"selected",children:(0,P.jsx)(r.xv,{color:"inverse",children:(0,P.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}var ui=i(801553),pi=i(112964);const _i=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],hi=14,mi=12,gi={allPins:{component:210,view_type:4,view_parameter:3106},board:{view_type:5,view_parameter:3069},created:{component:13668,view_type:4,view_parameter:3106}};function yi({pinId:e,surface:t}){const{logContextEvent:i}=(0,O.v)(),n=(0,c.ZP)(),a=()=>{const e=_i.includes(t)?gi.created:"BaseBoardPinGrid"===t?gi.board:"UserProfilePinGrid"===t?gi.allPins:{};i({event_type:101,element:10573,...e})},o=n.bt("    ", "See more stats", "pinRep.actionBar.seeStatsButton", undefined, true);return(0,P.jsx)(r.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:_i.includes(t)?(0,P.jsx)(r.ZP,{accessibilityLabel:n.bt("     ", "Go to pin stats details page", "pinRep.actionBar.seeStatsButton", undefined, true),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:a,size:"sm",text:(l=o,l.length>hi?`${l.substring(0,mi).trim()}...`:l)}):(0,P.jsx)(r.hU,{role:"link",accessibilityLabel:n.bt("     ", "Go to pin stats details page", "pinRep.actionBar.seeStatsButton", undefined, true),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:a,size:"sm"})});var l}var vi=i(855762),fi=i(16728),xi=i(540399),bi=i(303987);const Pi={SELECTED:"#000000",NOT_SELECTED:"#ffffff"},wi=3,Si=24;function Ii({selected:e=!1}){const t=(0,c.ZP)(),{isRTL:i}=(0,p.B)();return(0,P.jsx)(r.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new r.Ry(1),"data-test-id":"pinRepSelectionBorder",dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?Pi.SELECTED:Pi.NOT_SELECTED,borderRadius:fi.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,P.jsx)(r.xu,{position:"absolute",bottom:!0,right:!i,left:i,display:"flex",alignItems:"center",justifyContent:"center",margin:wi,rounding:2,height:Si,width:Si,color:"dark",children:(0,P.jsx)(r.JO,{accessibilityLabel:t.bt(" ", "Check icon", "pinRepSelectionBorder.checkIcon", undefined, true),icon:"check",color:"inverse",size:12})}):(0,P.jsx)(r.xu,{right:!i,left:i,position:"absolute",top:!0,margin:wi,children:(0,P.jsx)(r.JO,{accessibilityLabel:t.bt(" ", "Handle icon", "pinRepSelectionBorder.handleIcon", undefined, true),icon:"handle",color:"light",size:Si})})})}const Ti={wrapper:{borderRadius:fi.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:fi.Dv.VISUAL},savedOverlay:{backgroundColor:fi.Dv.SAVED},legoWashOverlay:{backgroundColor:fi.Dv.LEGO_WASH}};function Ai({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:i="none",handleMouseOverPinContent:n,handleMouseLeavePinContent:a,primaryContent:o,primaryContentVisibility:l="none",secondaryContent:s,secondaryContentVisibility:d="none",accessoryContent:c,accessoryContentVisibility:u="none",actionBar:p,actionBarVisibility:_="none",seeStatsButton:h,footer:m,selectionState:g="no-selection",debugContent:y,signalDebuggerContent:v,signalDebuggerV2Content:f,signalDebuggerV2ContentVisibility:x="none",obscuredPinOverlay:b,showNoPinBorderRadius:w,showPromotedPinBorderTreatment:S,showLeadPinStdBeta:I,shouldUseLegoWash:T}){return(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:S?Ti.promotedPinBorderTreatment:{}},height:"100%","data-test-id":"pinRepPresentation",children:(0,P.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:w?{}:Ti.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(g)&&(0,P.jsx)(Ii,{selected:"selected"===g}),(0,P.jsxs)(r.xu,{"aria-hidden":Boolean(b),children:[(0,P.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:w?{}:Ti.wrapper},overflow:"hidden",position:"relative",onFocus:n,onBlur:a,onMouseEnter:n,onMouseLeave:a,children:[e,(0,P.jsx)(bi.Z,{visibility:i,children:(0,P.jsx)(xi.Z,{additionalStyles:T?Ti.legoWashOverlay:Ti.visualOverlay})}),(0,P.jsx)(bi.Z,{visibility:t,children:(0,P.jsx)(xi.Z,{additionalStyles:T?Ti.legoWashOverlay:Ti.savedOverlay})}),c&&(0,P.jsx)(bi.Z,{visibility:u,children:(0,P.jsx)(xi.Z,{children:c})}),s&&(0,P.jsx)(bi.Z,{visibility:d,children:(0,P.jsx)(xi.Z,{children:s})}),o&&(0,P.jsx)(bi.Z,{visibility:l,children:(0,P.jsx)(xi.Z,{children:o})}),f&&(0,P.jsx)(bi.Z,{visibility:x,children:(0,P.jsx)(xi.Z,{children:(0,P.jsx)(r.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:f})})}),p&&(0,P.jsx)(bi.Z,{visibility:_,children:(0,P.jsx)(xi.Z,{children:(0,P.jsx)(r.xu,{position:"absolute",left:!0,right:!0,bottom:!0,marginBottom:I?8:0,children:p})})}),h&&(0,P.jsx)(xi.Z,{children:(0,P.jsx)(r.xu,{position:"absolute",bottom:!0,children:h})}),y&&(0,P.jsx)(xi.Z,{children:y}),v]}),m]}),b&&(0,P.jsx)(r.xu,{children:b})]})})}const ki=60,Ei=40,Ci=60;function ji(e){return e<ki+Ei+Ci?"header-only":"none"}function Ri(e){const[t,i]=(0,n.useState)(e.current?ji(e.current.clientHeight||0):"none");return function(e,t){const i=(0,n.useRef)();(0,n.useEffect)((()=>{const n=e.current;if(!n)return;const a=i.current;a&&a.width===n.offsetWidth&&a.height===n.offsetHeight||(i.current={width:n.offsetWidth||0,height:n.offsetHeight||0},t&&t(i.current))})),i.current}(e,(({height:e})=>{const n=ji(e);n!==t&&i(n)})),t}const Di=4e3;var Oi=i(977362);const Li=(0,n.memo)((function({actionBarProps:e,blockClickEvents:t,borderStyle:i,currentlyPlayingVideo:a,disableHover:o=!1,footerProps:l,impressionsDebuggerProps:s,obscuredPinOverlayProps:c,onError:_,onLoad:h,pin:m,pinVisualProps:g,presentationProps:y,primaryContentProps:v,rounding:f,secondaryContentProps:x,authDesktopSelectionState:b,showFooter:w,showImpressionsDebugger:S,showObscuredPinOverlay:I,showSeeStatsButton:T,showSignalDebugger:A,showUnavailablePin:k,surface:E,visibilityOverrides:C,imageHeightModifier:R}){var D,O,L;const{savedInfo:z}=m,{showEnabledSaveBehavior:F}=(0,xt.Yh)(Oi.ZF.includes(E)||(0,vi.Z)(E)),[N,M]=(0,n.useState)(!1),B=(0,Je.Z)(N);let{isHovering:Z,hoverTransitionState:U,handleMouseOver:G,handleMouseLeave:H}=function(){const[e,t]=(0,n.useState)(!1);return{isHovering:e,hoverTransitionState:(0,Je.Z)(e,0,Je.X),handleMouseOver:(0,n.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,n.useCallback)((()=>t(!1)),[t])}}();o&&(Z=!1,U="inactive");const K=(0,Je.Z)(!!z),V=oi(K),W=oi(U),$=oi(U),q=oi(B),Y=oi(K),X=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(E),J="visible"!==V||X?V:"none",Q={primaryContentVisibility:null!==(D=C.primaryContent)&&void 0!==D?D:ri($,q,"visible"===Y?"none":Y),secondaryContentVisibility:(ee=ri($,q,Y),"none"===ee?"visible":"visible"===ee?"none":"hidden"),actionBarVisibility:ri($,q),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var ee;const te=e=>M(e),ie=e=>M(e),ne=e=>{M(e),e||H()};let ae=null;"none"!==Q.primaryContentVisibility&&(ae=(0,P.jsx)(Tt,{forcePrimaryContent:te,showEnabledSaveBehavior:F,onToggleFlyout:ie,onToggleModal:ne,pin:m,...v}));let oe=null;const re=(0,n.useRef)(!0),le=re.current;re.current=!1;const se=function(e,t,i){const[a,o]=(0,n.useState)(!e||i),r=(0,n.useRef)(t),l=(0,n.useRef)(null);if(e){const e=r.current;r.current=t,(t!==e||i)&&(l.current&&clearTimeout(l.current),o(!0),l.current=setTimeout((()=>{o(!1),l.current=null}),Di))}return(0,n.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),a}(!!m.carousel_data,null===(O=m.carousel_data)||void 0===O?void 0:O.index,le),de=oi((0,Je.Z)(se));Q.secondaryContentVisibility=null!==(L=C.secondaryContent)&&void 0!==L?L:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(Q.secondaryContentVisibility,de),oe=(x.allowShoppingPriceIndicator||x.shoppingLabelColor||"none"!==Q.secondaryContentVisibility)&&!a&&(0,P.jsx)(r.xu,{margin:2,children:(0,P.jsx)(ei.Z,{pin:m,...x})});let ce=null;"visible"===C.accessoryContent&&(ce=(0,P.jsx)(ai,{pin:m}),Q.accessoryContentVisibility=oi(U));let ue={...e},pe=null;T&&(ue={...ue,showSourceLinkButton:!1},pe=(0,P.jsx)(u.Z,{children:(0,P.jsx)(yi,{pinId:m.id,surface:E})})),g.showLeadPinStdBeta&&(ue={...ue,showSourceLinkButton:!1});const _e="visible"===C.actionBar?(0,P.jsx)(j,{onToggleFlyout:ie,pin:m,setForcePrimary:M,surface:E,...ue}):null,{experimentsClient:he}=(0,p.B)();let me=null;(w||(0,vi.Z)(E)&&!he.checkExperiment("dweb_image_only_product_pin_grid").anyEnabled&&!he.checkExperiment("dweb_image_only_product_pin_grid_new_user").anyEnabled)&&(me=(0,P.jsx)(yt,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===l.attributionType?U:null,pin:m,setForcePrimary:M,surface:E,...l}));const ge=S&&(0,P.jsx)(ci,{...s}),ye=A&&m.debug_info_html&&(0,P.jsx)(r.xu,{paddingY:1,children:(0,P.jsx)("pre",{children:m.debug_info_html})}),ve=(0,P.jsx)(ui.Z,{pin:m}),fe=(0,n.useRef)();"header-only"===Ri(fe)&&(Q.actionBarVisibility="none",Q.accessoryContentVisibility="none");const xe=I?(0,P.jsx)(pi.ZP,{pin:m,...c}):null,be="ShoppingGridShippedMetadataWithVisitButton"===E?{height:"100%"}:{},Pe=w&&"default"===l.attributionType&&Oi.ZF.includes(E),we=!m.is_promoted&&!o&&Pe;return(0,P.jsx)(d.Z,{name:"PinRepContainer",children:(0,P.jsx)(r.xu,{"data-test-id":"pin","data-test-pin-id":m.id,onFocus:G,onBlur:H,onMouseEnter:G,onMouseLeave:H,dangerouslySetInlineStyle:{__style:be},rounding:"ConversationView"===E?f:void 0,borderStyle:"ConversationView"===E?i:"none",overflow:"ConversationView"===E?"hidden":"visible",children:(0,P.jsx)(Ai,{visualOverlayVisibility:W,savedOverlayVisibility:J,handleMouseOverPinContent:we?G:()=>{},handleMouseLeavePinContent:we?H:()=>{},primaryContent:ae,primaryContentVisibility:Q.primaryContentVisibility,secondaryContent:oe,secondaryContentVisibility:Q.secondaryContentVisibility,accessoryContent:ce,accessoryContentVisibility:Q.accessoryContentVisibility,actionBar:_e,actionBarVisibility:Q.actionBarVisibility,seeStatsButton:pe,footer:me,selectionState:b,debugContent:ge,signalDebuggerV2Content:ve,signalDebuggerV2ContentVisibility:Q.signalDebuggerV2ContentVisibility,signalDebuggerContent:ye,obscuredPinOverlay:xe,...y,children:(0,P.jsx)(r.xu,{height:"100%",ref:fe,children:(0,P.jsx)(Qt,{blockClickEvents:t,showUnavailablePin:k,isHovering:Z,onError:_,onLoad:h,pin:m,surface:E,selectionState:b,imageHeightModifier:R,...g})})})})})}));var zi=i(154247),Fi=i(267856),Ni=i(339736),Mi=i(504289),Bi=i(718199),Zi=i(340592),Ui=i(568310),Gi=i(581444),Hi=i(290588),Ki=i(880143);function Vi({isGroupBoard:e,surface:t,gridTitle:i,hasRichSummary:n,hasCarouselData:a,richSummaryTypeName:o,richSummaryDisplayName:r,title:l,hasPromoter:s,isDownstreamPromotion:d,pinAccess:c,carouselSlotsTitle:u}){const p=!(null==c||!c.includes("write")),_=s&&!d;if(a&&u)return u.trim();if(_){if(Oi.ZF.includes(t))return i||"";if(p&&!e&&!a&&"UserProfilePinGrid"!==t)return"";return l||n&&"mobile application"!==o&&r||i||""}return i||""}const Wi=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"],$i=({surface:e,isORBACProfileManager:t,isORBACGA:i,isRemovable:n})=>"CloseupRelatedProducts"!==e&&!n&&(!t||(null==i||i));var qi=i(18789);const Yi=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function Xi({attributionOption:e,board:t,contentType:i,experimentsClient:n,feedbackData:a,feedbackType:o,hasCarouselData:r,isGroupBoard:l,isORBACProfileManager:s,isOwnBoard:d,pin:c,showImageOnly:u,showNativeReactions:p,showPromotedShoppingPrice:_,surface:h,viewer:m,variantData:g}){var y,v,f,x,b,P;const w=!!c.promoter&&!c.is_downstream_promotion,S=!!c.sponsorship,{pin_note:I,is_downstream_promotion:T,native_creator:A,promoter:k,sponsorship:E,is_eligible_for_pdp:C}=c,j=function({attributionOption:e,feedbackType:t,isEligibleForPdp:i,isGroupBoard:n,showImageOnly:a,surface:o,alwaysHideAttrOnProducts:r,isDownstreamPromotion:l,hasNativeCreator:s,hasPromoter:d,hasSponsorship:c,storyPinDataId:u}){if("promoted"===t||d&&!l||c)return"default";if("ConversationView"!==o&&Yi.includes(o))return"none";if(n)return"none";if(r&&i)return"none";let p="default";return"SearchItem"===o&&u?p:(e&&("image-only"===e?p="image-only-credit":"hide"===e&&(p="none")),"followed"!==t||a?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(o)&&"hide"===e?p:"TodayArticleFeed"===o&&"show"===e?"show-for-claimed-content":s?"default":"none":p)}({attributionOption:e,feedbackType:o,isEligibleForPdp:!!C,isGroupBoard:l,showImageOnly:u,surface:h,alwaysHideAttrOnProducts:!!(!("promoted"===o||k&&!T||E)&&C&&A)&&n.checkExperiment("web_hide_product_attribution").anyEnabled,isDownstreamPromotion:c.is_downstream_promotion,hasNativeCreator:!!c.native_creator,hasPromoter:!!c.promoter,hasSponsorship:!!c.sponsorship,storyPinDataId:c.story_pin_data_id}),R=(null===(y=c.carousel_data)||void 0===y?void 0:y.index)||0,D=null!=g&&g.title?g.title:Vi({isGroupBoard:l,surface:h,gridTitle:c.grid_title,hasRichSummary:!!c.rich_summary,hasCarouselData:!!c.carousel_data,richSummaryTypeName:null===(v=c.rich_summary)||void 0===v?void 0:v.type_name,richSummaryDisplayName:null===(f=c.rich_summary)||void 0===f?void 0:f.display_name,title:c.title,hasPromoter:!!c.promoter,isDownstreamPromotion:c.is_downstream_promotion,pinAccess:c.access,carouselSlotsTitle:null===(x=c.carousel_data)||void 0===x||null===(b=x.carousel_slots)||void 0===b?void 0:b[R].title}),O=u?"":D,L=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(h)&&!w&&!u&&Boolean((0,ye.Z)(c,h)),z=["ShoppingGridShippedMetadataWithVisitButton"].includes(h);let F="BaseBoardPinGrid"===h&&I?null===(P=I.text)||void 0===P?void 0:P.trim():null;!F&&c.unified_user_note&&(F=c.unified_user_note.trim());const N=w,M="shopping"===i;let B=!0;var Z,U,G;"AuthHomefeed"!==h||w||(p=!1,B=!(null!==(Z=((null===(U=c.rich_summary)||void 0===U||null===(G=U.products)||void 0===G?void 0:G[0])||{}).brand)&&void 0!==Z&&Z.name));let H,K,V,W,$=2;if(w?$=3:(L||"none"!==j)&&($=M?2:1),M||_){var q,Y;const e=null===(q=c.rich_summary)||void 0===q||null===(Y=q.products)||void 0===Y?void 0:Y[0],{offer_summary:t}=e||{};H=t?t.standard_price:void 0,K=t?(0,qi.Z)({maxPrice:t.max_price,minPrice:t.min_price,price:t.price}):void 0}if(g){const{offerSummary:e}=g;H=e?e.standard_price:void 0,K=e?e.price||e.max_price:void 0}if(M&&!w){var X,J,Q;const{rating_count:e,rating_value:t,review_count:i}=(null===(X=c.rich_summary)||void 0===X?void 0:X.aggregate_rating)||{};(e||i)&&parseFloat(t)&&(V={count:e||i,rating:t}),W=null===(J=c.rich_metadata)||void 0===J||null===(Q=J.products)||void 0===Q?void 0:Q[0].shipping_info}const ee=(0,Bi.rh)(c,m,n),te="CreatorProfileStoryPinGrid"===h||"CreatorProfileActivityPinGrid"===h,ie=!te,ne=l&&!S;return{attributionType:j,board:t,contentType:i,feedbackData:a,feedbackType:o,pinNoteText:F,pinTitle:O,productCurrentPrice:K,productOriginalPrice:H,productRating:V,productShipping:W,showCarouselEllipsis:r,showFavoriteButton:!s&&("BaseBoardPinGrid"===h&&d||Boolean((null==t?void 0:t.is_collaborative)&&(0,Me.Z)({board:t,viewer:m})))&&!te,showGroupBoardAvatar:ne,showNativeReactions:p,showOverflowMenu:N,showPinStats:ee,showSource:L,showTextContent:ie,showVisitSiteButton:z,showAttribution:B,titleLines:$}}const Ji=424,Qi=278,en=640,tn=508;var nn=i(830015),an=i(217917),on=i(356255),rn=i(949413);const ln=["ShoppingCatalogsProductsMetadata"];const sn=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],dn=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var cn=i(911099),un=i(562554),pn=i(920823),_n=i(508958),hn=i(275208),mn=i(392407);const gn=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(92982)]).then(i.bind(i,514860)))),yn=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],vn=["BaseBoardPinGrid","UserProfilePinGrid",..._i];function fn({attributionOption:e,blockClickEvents:t,debugImpressionState:i,disableReaction:r,feedback:c,imageOnlyOption:u="default",pin:p,pinId:h,pinImageCrop:m,pinImageFit:g,resolution:y="default",saveButtonOptions:v,authDesktopSurface:f,trackingParameters:b,...w}){var S,I,T,A,k,E,C,j,R,O,L,F,N,M,B;const Z=(0,q.S6)()(h)||p,U=null!==(S=null===(I=Z.board)||void 0===I?void 0:I.id)&&void 0!==S?S:"",G=(0,hn.gC)()(U)||Z.board;Z.grid_title=Z.grid_title||p.grid_title;const H=(0,$.F)(),{checkExperiment:K}=H,{collaborated_by_me:V,collaborator_count:W,is_collaborative:Y}=G||{},{is_quick_promotable:X,pinner:J,showFeedback:Q,sponsorship:ee}=Z,te=!!Z.promoter&&!Z.is_downstream_promotion,ie=!!Z.promoted_is_removable,ne=(0,z.Z)(),ae=(0,Ui.Z)(),{anyEnabled:oe}=K("web_m10n_business_access_orbac_www"),{anyEnabled:re}=K("web_m10n_business_access_orbac_ga"),le=re?(0,Gi.lJ)(ne,ae):"",se=(0,o.useLocation)(),{slotIndex:de,viewParameter:ce}=b,pe=["AuthHomefeed","BaseBoardPinGrid"].includes(f)&&K("web_repin_flow").anyEnabled,_e=(0,_n.x)(),he=(0,zi.P)()||ne.isEligibleForImageOnlyGrid&&K("dweb_ssr_simplified_pin_grid_experience").anyEnabled,{appUI:{videosAutoplaying:me}}=(0,Hi.I)(),ge=(0,Zi.Z)(Z.id,me),ye=(0,a.useSelector)((({changeBoardFromToast:e})=>e))||{},ve=((((null===(T=Z.rich_metadata)||void 0===T?void 0:T.products)||[])[0]||{}).additional_images||[]).length>0,fe=!(null===(A=Z.carousel_data)||void 0===A||!A.id),xe=ne.isAuth&&ne.isEmployee,be=ne.isAuth&&((0,Fi.Z)(ne.createdAt)||(0,Ni.Z)(null,ne))&&!ne.isPartner;let Pe=be;"TodayArticleFeed"===f&&(Pe=!1),"default"!==u&&(Pe="image-only"===u),(0,vi.Z)(f)&&(Pe=!1),"ShoppingSquareGridDomainNoMetadata"===f&&(Pe=!0);let we=e;(be&&!we||he)&&(we="image-only");const Se=(0,un.Z)({feedbackType:null==c?void 0:c.type,viewParameter:ce,boardFollowedByMe:!(null===(k=Z.board)||void 0===k||!k.followed_by_me),hasPromoter:!!Z.promoter,isDownstreamPromotion:!!Z.is_downstream_promotion,pinnerFollowedByMe:!(null===(E=Z.pinner)||void 0===E||!E.explicitly_followed_by_me),hasRecommendationReason:!!Z.recommendation_reason,recommendationReasonReason:null!==(C=null===(j=Z.recommendation_reason)||void 0===j?void 0:j.reason)&&void 0!==C?C:void 0,recommendationReasonHasBoard:!(null===(R=Z.recommendation_reason)||void 0===R||!R.board)}),{data:Ie}=c||{},Te="number"==typeof W&&W>0||Y;let Ae=!1;"OtherProfilePinGrid"===f?Ae=!0:"BaseBoardPinGrid"===f?Ae="dense"===(null==_e?void 0:_e.boardPinDensity):"UserProfilePinGrid"===f&&(Ae="dense"===(null==_e?void 0:_e.profilePinDensity));const ke=Boolean(Te&&"BaseBoardPinGrid"===f),Ee=(0,pn.Z)(),Ce=(0,mn.kW)(),je=Ce&&Ce[null!==(O=null===(L=Ee.data)||void 0===L?void 0:L.id)&&void 0!==O?O:""]?Ce[null!==(F=null===(N=Ee.data)||void 0===N?void 0:N.id)&&void 0!==F?F:""]:Ee.data,Re=(0,D.Z)(ne,G);let De=!1;if(!!(0,o.matchPath)(se.pathname,{path:"/:username/_created/",exact:!0}))De=(0,Gi.q6)(ne,null==je?void 0:je.id,ae);else if((0,Mi.am)(se)||(0,Mi.OJ)(se)){const e=G&&G.owner&&G.owner.id||"";De=(0,Gi.q6)(ne,e,ae)}const Le=Boolean(ne.isAuth&&J&&J.id===ne.id),ze=Boolean(V||Te&&Re),Fe=ne.isAuth&&ne.isPartner,Ne=!(null===(M=Z.story_pin_data)||void 0===M||!M.is_deleted),Me=(0,n.useMemo)((()=>function({hasCarouselData:e,isDeletedStoryPin:t,surface:i}){const n={primaryContent:null,secondaryContent:null,actionBar:dn.includes(i)||t?"none":"visible",accessoryContent:e?"visible":"none"};return t||sn.includes(i)?(n.primaryContent="none",n.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(i)&&(n.primaryContent="visible"),n}({hasCarouselData:fe,isDeletedStoryPin:Ne,surface:f})),[fe,Ne,f]),Be=(0,n.useMemo)((()=>function({board:e,isDenseView:t,isGroupBoard:i,isInlineBetterSave:n,isOwnBoard:a,isORBACProfileManager:o,isQuickPromotable:r,isRemovable:l,saveButtonOptions:s,surface:d,viewer:c,viewerIsCollaborator:u}){const p=c.isAuth?c.boardCount:void 0;let _=s||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(p);r?_={type:"promote"}:(u||a||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(d)?_={type:"classic"}:(u||a)&&["BaseBoardPinGrid"].includes(d)&&null!=e&&e.name&&e.url&&e.id&&(_={type:"inline",initialSelection:{title:e.name,boardId:e.id,url:e.url}});return n&&(_={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(l||ln.includes(d)||o)&&(_={type:"none"}),{board:e,derivedSaveButtonOptions:_,showLikeButton:u&&i&&Oi.UP.includes(d),supportsReactionBar:!t}}({board:G,isInlineBetterSave:pe,isDenseView:Ae,isGroupBoard:ke,isOwnBoard:Re,isOwnPin:Le,isORBACProfileManager:De,isQuickPromotable:X,isRemovable:ie,saveButtonOptions:v,surface:f,viewer:ne,viewerIsCollaborator:ze})),[G,pe,Ae,ke,Re,Le,De,X,ie,v,f,ne,ze]);let Ze;["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"].includes(f)&&!te&&(Ze="white");const Ue=(0,n.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:i}){return{allowProductCarousel:e,allowShoppingPriceIndicator:Oi.Wv.includes(i),shoppingLabelColor:t}}({allowProductCarousel:ve,shoppingLabelColor:Ze,surface:f})),[ve,Ze,f]),Ge=(0,n.useMemo)((()=>function({board:e,feedbackData:t,feedbackType:i,isDenseView:n,isGroupBoard:a,isOwnBoard:o,isORBACProfileManager:r,isORBACBeta:l,isORBACGA:s,pin:d,isRemovable:c,surface:u,viewer:p}){var _,h,m,g,y,v,f;const x=!(null===(_=d.access)||void 0===_||!_.includes("write")),b=!!d.promoter&&!d.is_downstream_promotion,P=(null===(h=d.carousel_data)||void 0===h?void 0:h.index)||0,w=Vi({isGroupBoard:a,surface:u,gridTitle:d.grid_title,hasRichSummary:!!d.rich_summary,hasCarouselData:!!d.carousel_data,richSummaryTypeName:null===(m=d.rich_summary)||void 0===m?void 0:m.type_name,richSummaryDisplayName:null===(g=d.rich_summary)||void 0===g?void 0:g.display_name,title:d.title,hasPromoter:!!d.promoter,isDownstreamPromotion:d.is_downstream_promotion,pinAccess:d.access,carouselSlotsTitle:null===(y=d.carousel_data)||void 0===y||null===(v=y.carousel_slots)||void 0===v?void 0:v[P].title}),S=e&&(0,Ki.Z)({action:4,board:e,viewer:p})||x,I=d.savedInfo&&d.savedInfo.localPinId,T=Boolean(o&&!a||"UserProfilePinGrid"===u&&S||I),A=Boolean(a&&S||T||r&&(!(0,ue.hy)(d.story_pin_data_id)||l)),k=Boolean((null==e?void 0:e.is_collaborative)||T),E=!(b||o||a||Wi.includes(u)||r),C=$i({surface:u,isORBACProfileManager:r,isORBACGA:s,isRemovable:c}),{tracked_link:j,link:R}=d,D=!(null===(f=null!=j?j:R)||void 0===f||!f);let O=a&&n?"equally-spaced":"default",L="default";return n&&(L=a?"icon-only":"truncated-text"),n&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(u)&&(L="icon-only",O="equally-spaced"),{actionBarEditBeforeShare:k,feedbackData:t,feedbackType:i,layout:O,pinTitle:w,showEditButton:A,showOverflowMenu:E,showShareButton:C,showSourceLinkButton:D,sourceLinkStyle:L}}({board:G,feedbackData:Ie,feedbackType:Se,isDenseView:Ae,isGroupBoard:ke,isOwnBoard:Re,isORBACProfileManager:De,isORBACBeta:oe,isORBACGA:re,isRemovable:ie,pin:Z,surface:f,viewer:ne})),[G,Ie,Se,Ae,ke,Re,De,oe,re,ie,Z,f,ne]);let He=!1;Z.story_pin_data&&!ne.isPartner&&(He=K("web_auth_remove_pinner_pinstats").anyEnabled);const Ke=!He&&(0,Bi.rh)(Z,ne,H,le)&&vn.includes(f)&&(Le||re&&De),Ve=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(f),We=!te&&Ve?"shopping":"standard";let $e=(r||"CreatorProfileStoryPinGrid"!==f||Le)&&(0,Oe.J6)(Z,Ne);const qe=(0,ot.Xx)();$e=!he&&$e;const Ye=(0,n.useMemo)((()=>Xi({attributionOption:we,board:G,contentType:We,experimentsClient:H,feedbackData:Ie,feedbackType:Se,hasCarouselData:fe,isGroupBoard:ke,isORBACProfileManager:De,isOwnBoard:Re,pin:Z,showImageOnly:Pe,showNativeReactions:$e,showPromotedShoppingPrice:te&&Ve,surface:f,viewer:ne,variantData:qe})),[we,G,We,H,Ie,Se,fe,ke,De,Re,te,Ve,Z,Pe,$e,f,ne,qe]),Xe=!!Z.story_pin_data_id,Je=Z.created_at?new Date(Z.created_at):null,Qe=(0,s.pN)({isOwnPin:Le,isStoryPin:Xe,pinCreationDate:Je,surface:f});He&&(Ye.showPinStats=!1);let et=Boolean(Ye.pinTitle||Ye.contentType||Ye.userNote||Ye.showSource||"none"!==Ye.attributionType||Ye.showNativeReactions||Ye.productCurrentPrice||Ye.productOriginalPrice||Ye.showPinStats)||ke;"BaseBoardPinGrid"===f&&Re&&Fe||ee?et=!0:yn.includes(f)||Ae&&(Re||V)?et=!1:Le||"CreatorProfileStoryPinGrid"!==f&&"CreatorProfileActivityPinGrid"!==f||(et=!1),!he||te||ee||(et=!1);const tt=Boolean(Q),{showLeadPinStdBeta:it}=(0,l.Z)({promotedIsLeadAd:!!Z.promoted_is_lead_ad}),nt={showNoPinBorderRadius:"TopicBestPinNarrow"===f||"TopicBestPinWide"===f||"ConversationView"===f,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===f&&te,shouldUseLegoWash:!0,showLeadPinStdBeta:it},at={feedbackType:Se},{anyEnabled:rt}=K("ads_desktop_video_ads",{dangerouslySkipActivation:!0}),lt=(0,n.useMemo)((()=>function({hasCarouselData:e,isDenseView:t,pinImageCrop:i,pinImageFit:n,resolution:a,showPromotedVideos:o,showLeadPinStdBeta:r,surface:l}){const s=Oi.zl.includes(l);let d="backend";"CloseupRelatedProducts"===l?d={height:nn.GZ,width:nn.OE}:"TopicBestPinWide"===l?d={height:Ji,width:Qi}:"TopicBestPinNarrow"===l?d={height:en,width:tn}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(l)||s?d={height:nn.zX,width:nn.zX}:i&&(d=i);let c="none",u=null!=a?a:"default";"string"!=typeof d&&(c="cover",(s||"ShoppingDynamicHeightGrid"===l&&!n||"ShoppingSquareGridDomainNoMetadata"===l)&&(c="contain",u="high-res"));const p=s||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",_=(0,on.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===an.Z.getItem(rn._e),fallbackColor:p,imageFit:c,isDenseView:t,resolution:u,rootMargin:_,pinImageCrop:d,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:o,showLeadPinStdBeta:r}}({hasCarouselData:fe,isDenseView:Ae,isPromoted:te,pinImageCrop:m,pinImageFit:g,resolution:y,showPromotedVideos:rt,showLeadPinStdBeta:it,surface:f})),[fe,Ae,te,m,g,y,rt,it,f]),st=xe&&di(),dt=(0,n.useMemo)((()=>({debugImpressionState:i,slotIndex:de})),[i,de]),ct=(0,n.useMemo)((()=>({surface:f})),[f]);return(0,P.jsx)(d.Z,{name:"PinRepConfiguration",children:(0,P.jsx)(x.B,{value:b,children:(0,P.jsxs)(cn.B,{value:ct,children:[(0,P.jsx)(Li,{actionBarProps:Ge,blockClickEvents:t,currentlyPlayingVideo:ge,footerProps:Ye,impressionsDebuggerProps:dt,obscuredPinOverlayProps:at,pin:Z,pinVisualProps:lt,presentationProps:nt,primaryContentProps:Be,secondaryContentProps:Ue,showFooter:et||Qe,showImpressionsDebugger:st,showObscuredPinOverlay:tt,showSeeStatsButton:Ke,showSignalDebugger:xe,showUnavailablePin:Ne,surface:f,visibilityOverrides:Me,...w}),ye.shouldOpenModal&&ye.newPin&&(null===(B=ye.originalPin)||void 0===B?void 0:B.id)===Z.id&&(0,P.jsx)(d.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,P.jsx)(_.Z,{children:(0,P.jsx)(gn,{experience:ye.experience,newPin:ye.newPin})})})]})})})}},111369:(e,t,i)=>{i.r(t),i.d(t,{default:()=>f});var n=i(667294),a=i(616550),o=i(733789),r=i(158645),l=i(2561),s=i(691014),d=i(639429),c=i(835686),u=i(211516),p=i(314478),_=i(836153),h=i(883119),m=i(739482),g=i(785893);const y={overlay:{__style:{backgroundColor:"#000"}}};function v({image:e,pinId:t,title:i,videoDuration:a,videoStatusMessage:o}){var r,l,s;return(0,g.jsx)(n.Fragment,{children:(0,g.jsx)(h.st,{children:(0,g.jsxs)(h.iP,{role:"link",href:`/pin/${t}`,rounding:2,children:[(0,g.jsxs)(h.xu,{overflow:"hidden",position:"relative",rounding:2,children:[e&&(0,g.jsx)(h.Ee,{alt:i||"",color:"lightGray",naturalHeight:null!==(r=e.height)&&void 0!==r?r:1,naturalWidth:null!==(l=e.width)&&void 0!==l?l:1,src:null!==(s=e.url)&&void 0!==s?s:""}),!!a&&(0,g.jsx)(h.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,g.jsx)(m.Z,{duration:a})}),(0,g.jsx)(h.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:y.overlay}),(0,g.jsxs)(h.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,g.jsx)(h.X6,{color:"light",overflow:"normal",size:"400",children:null==o?void 0:o.title}),(0,g.jsx)(h.xu,{marginTop:4,children:(0,g.jsx)(h.xv,{color:"light",size:"200",overflow:"normal",children:null==o?void 0:o.subtitle})})]})]}),(0,g.jsx)(h.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,g.jsx)(h.xu,{flex:"grow",children:i&&(0,g.jsx)(h.xu,{paddingY:1,children:(0,g.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:i})})})})]})})})}function f({trackingParams:e,objectIdStr:t,impressionData:i,auxData:h,componentType:m,slotIndex:y,viewData:f,viewParameter:x,viewType:b,pin:P,pinId:w,...S}){var I,T,A,k,E,C,j,R,D,O,L,z,F,N,M,B,Z,U,G;const H=(0,a.useLocation)(),K=(0,_.S6)(),V=(w?K(w):null)||P,W=!(null===(I=V.story_pin_data)||void 0===I||!I.is_deleted),$=e||(0,r.Z)({boardUrl:null===(T=V.board)||void 0===T?void 0:T.url,location:H,pinId:V.id,pinnerUserName:null===(A=V.pinner)||void 0===A?void 0:A.username,storyPinDataId:V.story_pin_data_id,trackingParams:V.tracking_params,trackingParamsMap:V.tracking_params_map}),q=(null===(k=V.videos)||void 0===k||null===(E=k.video_list)||void 0===E?void 0:E.V_HLSV3_MOBILE)||(null===(C=V.videos)||void 0===C||null===(j=C.video_list)||void 0===j?void 0:j.V_HLSV4)||(null===(R=V.videos)||void 0===R||null===(D=R.video_list)||void 0===D?void 0:D.V_720P),Y=!!(q&&q.url&&q.height&&q.width)||void 0,X=q&&V.videos?V.videos.id:void 0,[J,Q]=(0,n.useState)(!1),ee=(0,n.useCallback)((()=>Q(!W)),[W]),te=(0,n.useCallback)((()=>Q(!1)),[]),ie=(0,u.yz)();var ne;!V.promoted_is_lead_ad||(h={lead_form_id:null===(ne=V.promoted_lead_form)||void 0===ne?void 0:ne.lead_form_id,is_lead_ad:1});const{anyEnabled:ae}=(0,c.F)().checkExperiment("m10n_view_event_conversion_measurement_chrome");return(0,g.jsx)(s.Z,{componentType:m,contextLogData:{pwa_type:ie,...h,...(0,l.Kl)(V,{contextLogData:h})},impressionAuxFields:{...i||{},isNativeVideoAndWatchable:Y,chromeAraViewExp:ae,videoIdStr:X,clientTrackingParams:$||`${V.tracking_params||""}-0`,imageURL:null!==(O=null===(L=V.images)||void 0===L||null===(z=L["236x"])||void 0===z?void 0:z.url)&&void 0!==O?O:"",richTypes:(V.shopping_flags||[]).concat(!((null===(F=V.product_pin_data)||void 0===F||null===(N=F.items)||void 0===N?void 0:N[0])||{}).additional_images||null!==(M=V.shopping_flags)&&void 0!==M&&M.includes(10)?[]:[10])},impressionType:"Pin",isPaused:!J,loggingId:V.id,slotIndex:y,objectIdStr:t,viewData:f,viewParameter:x,viewType:b,children:(0,d._J)(V.video_status)?(0,g.jsx)(v,{image:(null===(B=V.images)||void 0===B?void 0:B["236x"])&&{width:V.images["236x"].width,height:V.images["236x"].height,url:V.images["236x"].url},pinId:V.id,title:V.title,videoDuration:null===(Z=V.videos)||void 0===Z||null===(U=Z.video_list)||void 0===U||null===(G=U[p.Z.V_HLSV4])||void 0===G?void 0:G.duration,videoStatusMessage:V.video_status_message&&{title:V.video_status_message.title,subtitle:V.video_status_message.subtitle}}):(0,g.jsx)(o.Z,{...S,debugImpressionState:J?"started":"paused",onError:te,onLoad:ee,pin:V,pinId:w,trackingParameters:{componentType:m,contextLogData:h,slotIndex:y,viewParameter:x,viewType:b}})})}},384045:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(835686);const a=({promotedIsLeadAd:e})=>{const{checkExperiment:t}=(0,n.F)();return{showLeadPinStdBeta:!!e&&t("web_lead_ads_std_beta").anyEnabled,showLeadPinStdAlpha:!!e&&t("web_lead_gen_ads").anyEnabled}}},971033:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(835686),a=i(55592),o=i(578662),r=i(568310),l=i(581444);const s="sce_lightswitch_organic",d="sce_lightswitch_monetized",c=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function u(e){const t=(0,a.HG)(),{checkExperiment:i}=(0,n.F)(),u=(0,r.Z)(),p=(0,o.Z)(),_=(0,l.lJ)(p,u),h=c[t?"dweb":"mweb"];return e&&!_&&(i(s),i(d)),!_&&(i(h.organic).anyEnabled||i(h.monetized).anyEnabled)}},442874:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(616550),a=i(883119),o=i(545168),r=i(90096),l=i(434012),s=i(785893);function d({arrowType:e,pinId:t,viewParameter:i,viewType:d}){const c=(0,l.ZP)(),u=(0,n.useHistory)(),{previous:p}=(0,r.Hv)(),{logContextEvent:_}=(0,o.v)();return(0,s.jsx)(a.hU,{accessibilityLabel:c.bt("", "Go back", "Accessible icon for close button", undefined, true),icon:null!=e?e:"directional-arrow-left",iconColor:"darkGray",onClick:()=>{_({event_type:101,view_type:d,element:34,view_parameter:i}),0!==p.length?u.goBack():u.replace(`/pin/${t}/`)}})}},781567:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(935057);function a(e){const t=(0,n.mB)(e.search),i=parseInt(t.x,10),a=parseInt(t.y,10),o=parseInt(t.w,10),r=parseInt(t.h,10);return function(...e){return e.every(Number.isInteger)}(i,a,o,r)?{x:i,y:a,w:o,h:r}:null}},67092:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(185987),a=i(417824),o=i(139311);function r({initialCropArea:e,pin:t,disableInitialCrop:i,imageSignature:r,surface:l}){if(e)return e;const{width:s,height:d}=(0,a.Z)({pin:t,imageSignature:r,maxWidth:"stela"===l?o.RZ:void 0});return i?{x:0,y:0,w:s,h:d}:{x:n.S,y:n.S,w:s-2*n.S,h:d-2*n.S}}},694284:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(883119),a=i(111369),o=i(545168),r=i(842625),l=i(723815),s=i(730100),d=i(785893);function c({action:e,component:t,dangerouslySetActionUrl:i,element:c,contextLogData:u,id:p,objects:_,viewType:h,viewParameter:m}){const{logContextEvent:g}=(0,o.v)(),y=null!=e&&e.url&&e.text?n=>(0,d.jsx)(s.Z,{coverImages:n.images,height:r.yF,onClick:()=>g({event_type:101,view_type:h,view_parameter:m,component:t,element:c,aux_data:{story_id:p,...u}}),text:e.text,url:null!=i?i:e.url,width:r.yF},"actionBubble"):null,{containerRef:v,itemsToRender:f,actionItem:x}=(0,l.n)({items:_,itemWidth:r.yF,itemGap:r.oX,actionItemType:y?"one":void 0});return(0,d.jsxs)(l.Z,{itemGap:r.oX,containerRef:v,children:[f.map(((e,i)=>(0,d.jsx)(n.xu,{flex:"none",width:r.yF,"data-grid-item":"true",children:(0,d.jsx)(a.default,{pin:e,pinId:e.id,authDesktopSurface:"ShoppingDynamicHeightGrid",auxData:u,componentType:t,slotIndex:i,viewParameter:m,viewType:h,pinImageCrop:{height:r.yF,width:r.yF}})},e.id))),x&&(null==y?void 0:y(x))]})}},231869:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(616550),a=i(883119),o=i(545168),r=i(915898),l=i(278286),s=i(348316),d=i(419451),c=i(663925),u=i(920823),p=i(785893);function _(e){const{logContextEvent:t}=(0,o.v)(),{data:i}=(0,u.Z)(),{search:_}=(0,n.useLocation)(),{pin:h}=(0,r.Z)(_),m=h?"pdp":"profile",g=null==i?void 0:i.username,y=(0,d.N0)();if((0,l.Z)((()=>{c.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:e.item.id,source:m,groupType:e.item.group_type,componentType:13698},t)})),!g)return null;const v=`/${g}/_shop/${e.item.id}/`;return(0,p.jsx)(a.iP,{onTap:()=>{c.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:e.item.id,source:m,groupType:e.item.group_type,componentType:13698,index:e.slotIndex},t)},href:v,role:"link",children:(0,p.jsx)(s.Z,{productGroup:e.item,showControls:y})})}},963470:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),a=i(768064),o=i(785893);function r({fetchMore:e,isAtEnd:t,isFetching:i,items:r,leftAlign:l,loadingLabel:s,marginBottom:d,renderItem:c}){return(0,o.jsxs)(n.xu,{"data-test-id":"square-shopping-grid",display:"flex",direction:"row",justifyContent:l?void 0:"center",marginBottom:d,wrap:!0,children:[(0,o.jsx)(n.gr,{isAtEnd:t,isFetching:i,fetchMore:e}),(r||[]).map(((e,t)=>c({item:e,itemIdx:t}))),Array.apply(0,Array(12)).map(((e,t)=>(0,o.jsx)(n.xu,{width:a.jh,margin:a.iO},t))),(0,o.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,o.jsx)(n.$j,{accessibilityLabel:s,show:i})})]})}},51842:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(883119),a=i(768682),o=i(23120),r=i(963362),l=i(785893);const s=({count:e,countFormat:t,ratingValue:i,shippingInfo:s})=>(0,l.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,l.jsx)(o.Z,{count:e,countFormat:t,rating:i,textSize:"200"}),(0,l.jsx)(n.xu,{marginTop:(0,r.Z)({count:e,rating:i})?1:0,children:(0,l.jsx)(a.Z,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==s?void 0:s.free_shipping_price,freeShippingValue:null==s?void 0:s.free_shipping_value})})]}),d=({clickthroughFn:e,count:t,countType:i,countFormat:s,hideSeparationDot:d,bracket:c,ratingValue:u,shippingInfo:p,shipsToUserCountry:_})=>{const h=!1===_;return(0,l.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,l.jsx)(o.Z,{bracket:c,count:t,countFormat:s,countType:i,rating:u,textSize:"300"}),(0,l.jsx)(n.xu,{marginStart:(0,r.Z)({count:t,rating:u})&&d?2:0,children:(0,l.jsx)(a.Z,{clickthroughFn:e,customStyles:{color:"default",size:"300"},showPrevDot:(0,r.Z)({count:t,rating:u})&&!d,freeShippingPrice:null==p?void 0:p.free_shipping_price,freeShippingValue:null==p?void 0:p.free_shipping_value,showShippingCountryDisclaimer:h})})]})};function c(e){return e.isGridView?(0,l.jsx)(s,{...e}):(0,l.jsx)(d,{...e})}},746265:(e,t,i)=>{i.d(t,{M:()=>y,Z:()=>v});var n=i(667294),a=i(883119),o=i(442874),r=i(434012),l=i(376410),s=i(835686);var d=i(524294),c=i(785893);function u({title:e,variant:t}){const i=(0,r.ZP)(),{checkExperiment:o}=(0,s.F)(),{anyEnabled:u}=o("web_unified_visual_feed"),p={default:(0,l.nk)(i.bt("  {{ category }}", "Shop {{ category }}", "relatedProducts.stela.header", undefined, true),{category:(e||"").toLowerCase()}).join("").trim(),"unified-feed":(0,l.nk)(i.bt("{{ category }}", "{{ category }}", "unifiedHeader.stela.header", undefined, true),{category:(_=e||"",_.toLowerCase().charAt(0).toUpperCase()+_.toLowerCase().slice(1))}).join("").trim(),"closeup-shop":"","unified-feed-no-label":"","closeup-shop-idea-pin":i.bt("    ", "Shop similar items", "relatedProducts.header", undefined, true),"related-products":"",flashlight:e};var _;const h={"closeup-shop":i.bt("    ", "Shop similar items", "relatedProducts.header", undefined, true),"unified-feed":"","unified-feed-no-label":"","related-products":i.bt(" ", "More to shop", "relatedProducts.header", undefined, true),"closeup-shop-idea-pin":i.bt("    ", "Shop similar items", "relatedProducts.header", undefined, true),flashlight:""},m=e?p[["flashlight","unified-feed","closeup-shop-idea-pin"].includes(t)?t:"default"]:h[t];return(0,c.jsx)(n.Fragment,{children:m?(0,c.jsx)(a.X6,{size:u&&"flashlight"!==t?"500":"400",accessibilityLevel:1,children:m}):(0,c.jsx)(d.Z,{text:i.bt("   ", "Related products page", "relatedProducts.unifiedFeed.accessibilityhiddenheading", undefined, true)})})}var p=i(545168),_=i(654504),h=i(260531),m=i(470838),g=i(405920);const y=60;function v({filtersText:e,handleDrawerClose:t,handleDrawerOpen:i,isDrawerOpen:r,isProductOnlyFeed:l,pinId:s,showFilter:d,title:v,variant:f,viewParameter:x,viewType:b}){const{logContextEvent:P}=(0,p.v)(),{isRTL:w}=(0,h.B)(),S=(0,n.useRef)();(0,n.useEffect)((()=>(d&&P({event_type:120,view_type:b,component:13467,element:11735,view_parameter:x}),S.current&&_.Z.addObstruction("top",S.current),()=>{S.current&&_.Z.removeObstruction("top",S.current)})),[d]);const I=()=>{P({event_type:101,view_type:b,component:13467,element:11735,view_parameter:x}),i&&i()};return(0,c.jsx)(m.Z,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"},children:(0,c.jsxs)(a.xu,{alignItems:"center",color:"default",display:"flex",height:y,justifyContent:"center",paddingY:4,position:"absolute",top:!0,width:"100%","data-test-id":"related-products-header",ref:S,children:[(0,c.jsx)(a.xu,{marginStart:5,position:"absolute",left:!w,right:w,children:(0,c.jsx)(o.Z,{pinId:s,arrowType:l?"directional-arrow-left":"cancel",viewType:b,viewParameter:x})}),(0,c.jsx)(u,{title:v,variant:f}),d&&"boolean"==typeof r&&I&&e&&t&&(0,c.jsx)(a.xu,{marginEnd:12,position:"absolute",left:w,right:!w,children:(0,c.jsx)(g.Z,{isDrawerOpen:r,onClick:I,buttonText:e,handleDrawerClose:t})})]})})}},202076:(e,t,i)=>{i.d(t,{Z:()=>A});var n=i(667294),a=i(883119),o=i(963470),r=i(111369),l=i(358011),s=i(932360),d=i(785893);const c=function({config:{commerce_data:e,image_signature:t,pinId:i,pinImageCrop:n,searchId:a,shoppingSurface:o,viewParameter:c,viewType:u},pin:p,slotIndex:_}){const h=`/pin/${i}/related-products/domain/`;let m=[];switch("BUBBLE_ONE_COL"===p.story_type&&(m=p.objects.slice(0,2)),p.type){case"story":switch(p.story_type){case"related_domain_collage":return(0,d.jsx)(l.Z,{story:p,dangerouslySetActionUrl:h,slotIndex:_});case"BUBBLE_ONE_COL":return(0,d.jsx)(s.Z,{bubbles:m,id:p.id,referringSource:p.referring_source,slotIndex:_,storyType:p.story_type,title:p.title,viewType:u,viewParameter:c});default:return null}case"pin":return(0,d.jsx)(r.default,{pin:p,pinId:p.id,pinImageCrop:n,authDesktopSurface:o,auxData:{search_identifier:a,image_signature:t,commerce_data:{entrypoint:"shopping",...e||{}}},componentType:0,slotIndex:_,viewData:{search_identifier:a},viewParameter:c,viewType:u});default:return null}};var u=i(768064),p=i(545168),_=i(434012),h=i(830015),m=i(145021),g=i(278286);function y({commerceData:e,pinId:t,viewParameter:i,viewType:r,visualSearchFlashlightUnifiedResource:l,imageSignature:s,searchId:y}){var v;const{logContextEvent:f}=(0,p.v)(),x=(0,_.ZP)(),b=(0,n.useRef)(),{auxData:P,data:w,isAtEnd:S,isFetching:I,fetchMore:T}=l,A=null==w?void 0:w.results,k=()=>(0,m.Z)((()=>{f({event_type:110,view_type:r,view_parameter:i})}),100);(0,g.Z)((()=>(window.addEventListener("scroll",k),()=>{window.removeEventListener("scroll",k)}))),!b.current&&null!=P&&null!==(v=P.grid_layout)&&void 0!==v&&v.w_h_ratio&&(b.current=P.grid_layout.w_h_ratio);const E=b.current?"ShoppingDynamicHeightGrid":"ShoppingGridShippedMetadata",C={height:h.zX*(b.current||1),width:h.zX},j={commerce_data:e,image_signature:s,pinId:t,pinImageCrop:C,searchId:y,shoppingSurface:E,viewParameter:i,viewType:r};return(0,d.jsx)(a.xu,{direction:"row",display:"flex",justifyContent:"center",marginStart:1,wrap:!0,children:(0,d.jsx)(o.Z,{fetchMore:T,isAtEnd:S,isFetching:I,loadingLabel:x.bt("   ...", "Loading search results...", "Accessibility label for loading visual search results", undefined, true),items:A||[],renderItem:({item:e,itemIdx:t})=>(0,d.jsx)(a.xu,{height:"pin"===e.type?C.height+u.s_+u.dA:void 0,width:C.width,marginEnd:4,"data-grid-item":!0,children:(0,d.jsx)(c,{config:j,pin:e,slotIndex:t})},`RelatedProductsUnifiedFeed-${e.id}`)})})}var v=i(616550),f=i(694284);function x({title:e}){return(0,d.jsx)(a.xu,{"data-test-id":"unified-feed-stela-header",display:"flex",justifyContent:"center",dangerouslySetInlineStyle:{__style:{marginLeft:55}},children:(0,d.jsx)(a.X6,{size:"400",accessibilityLevel:2,children:e})})}var b=i(795137);const P={flashlight:72,shop:427,stela:427};function w({pinId:e,variant:t,visualSearchFlashlightUnifiedResource:i}){const o=(0,v.useLocation)(),{data:r}=i,l=(null==r?void 0:r.results)||[],s=`/pin/${e}/related-products/all/${o.search}${"flashlight"===t?"&entry=flashlight":""}`;return(0,d.jsx)(n.Fragment,{children:l.map(((e,i)=>{if("story"===e.type){const{action:n,id:o,objects:r,story_type:l,title:c}=e;switch(l){case"unified_visual_feed_product_upsell":const u=c.format||"";return(0,d.jsx)(b.qS,{auxData:{story_type:l},component:14339,loggingId:o,objectIdStr:o,slotIndex:i,viewParameter:3462,viewType:P[t],children:({impressionTrackerRef:e})=>(0,d.jsxs)(a.xu,{ref:e,children:[u&&(0,d.jsx)(x,{title:u}),(0,d.jsx)(a.xu,{marginTop:4,marginBottom:12,"data-test-id":"unified-feed-stela-story",children:(0,d.jsx)(f.Z,{action:n,component:14339,contextLogData:{story_type:l},dangerouslySetActionUrl:s,element:179,id:o,objects:r,viewType:P[t],viewParameter:3462})})]})},o);case"unified_visual_feed_organic_header":return(0,d.jsx)(b.qS,{auxData:{story_type:l},component:14339,loggingId:o,objectIdStr:o,slotIndex:i,viewParameter:3462,viewType:P[t],children:({impressionTrackerRef:t})=>(0,d.jsx)(a.xu,{ref:t,marginBottom:4,"data-test-id":"unified-feed-organic-header",children:(0,d.jsx)(x,{title:e.title.format||""})})},o);default:return null}}return null}))})}function S({commerceData:e,isFilterOpened:t,isProductFeed:i,searchId:o,viewParameter:l,viewType:s,visualSearchFlashlightUnifiedResource:c}){const u=(0,_.ZP)(),{logContextEvent:h}=(0,p.v)(),[g,y]=(0,n.useState)(),[v,f]=(0,n.useState)(!1),x=(0,n.useRef)(null),b=(0,n.useRef)(null),P=(0,m.Z)((()=>{x.current&&y(x.current.getBoundingClientRect().y)}),100);(0,n.useEffect)((()=>{var e;null===(e=b.current)||void 0===e||e.handleResize()}),[t]),(0,n.useEffect)((()=>{if(!v)return window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P)})),(0,n.useEffect)((()=>{var e,t;const i=(null===(e=window)||void 0===e?void 0:e.innerHeight)||(null===(t=document.body)||void 0===t?void 0:t.clientHeight);!v&&g<i&&(f(!0),h({event_type:110,view_type:s,view_parameter:l}))}),[g,h,v,f,s,l]);const{data:w,isFetching:S,fetchMore:I}=c,T=((null==w?void 0:w.results)||[]).filter((e=>"pin"===e.type));return(0,d.jsxs)(a.xu,{"data-test-id":"visual-search-feed",children:[(0,d.jsx)(a.xu,{marginTop:2,ref:x,children:(0,d.jsx)(a.Rk,{renderItem:({data:t,itemIdx:n})=>"pin"===t.type?(0,d.jsx)(r.default,{auxData:{commerce_data:e},pin:t,pinId:t.id,authDesktopSurface:i?"ShoppingDynamicHeightGrid":"SearchItem",componentType:0,slotIndex:n,viewData:{search_identifier:o},viewParameter:l,viewType:s}):null,items:T||[],loadItems:I,ref:b,scrollContainer:()=>window})}),(0,d.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,d.jsx)(a.$j,{accessibilityLabel:u.bt("   ", "Loading visual search results", "visualSearch.spinner.label", undefined, true),show:S})})]})}var I=i(2561),T=i(835686);function A({imageSignature:e,isFilterOpened:t,isProductOnlyFeed:i,pin:a,variant:o,viewParameter:r,viewType:l,visualSearchFlashlightUnifiedResource:s}){const{checkExperiment:c}=(0,T.F)(),{logContextEvent:u}=(0,p.v)(),_="shop"===o,h=_||i,m=h&&c("web_masonry_product_feed").anyEnabled,{data:v}=s,f=null==v?void 0:v.search_identifier,x={is_product_only_feed:h};(0,g.Z)((()=>{u({event_type:13,view_type:l,view_parameter:r,aux_data:(0,I.Kl)(a,{contextLogData:{commerce_data:x}})})}));const{id:b}=a;return(0,d.jsxs)(n.Fragment,{children:[!_&&(0,d.jsx)(w,{pinId:b,variant:o,visualSearchFlashlightUnifiedResource:s}),!h||m?(0,d.jsx)(S,{commerceData:x,isFilterOpened:t,isProductFeed:h,searchId:f,viewParameter:r,viewType:l,visualSearchFlashlightUnifiedResource:s}):(0,d.jsx)(y,{commerceData:h?x:{},imageSignature:e,pinId:b,searchId:f,viewParameter:r,viewType:l,visualSearchFlashlightUnifiedResource:s})]})}},284026:(e,t,i)=>{function n(e){const{category_filters:t,domain_filters:i,price_filters:n}=e||{};return!!t||!!i||!!n}i.d(t,{Z:()=>n})},731706:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294),a=i(284026),o=i(233423);function r({resourceOptions:e}){const[t,i]=(0,n.useState)(),[r,l]=(0,n.useState)(""),[s,d]=(0,n.useState)(),c=(0,o.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null);return(0,n.useEffect)((()=>{const{data:e}=c,t=null==e?void 0:e.search_identifier;t&&l(t),i(e)}),[c]),(0,n.useEffect)((()=>{const{data:e}=c,i=null==e?void 0:e.search_identifier,n=null==t?void 0:t.search_identifier;e&&(i&&n&&i===n||!(0,a.Z)(t)&&(0,a.Z)(e)&&d({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters}))}),[s,t,c]),{visualSearchFlashlightUnifiedResource:c,filters:s,searchId:r,setSearchId:l}}},768064:(e,t,i)=>{i.d(t,{Je:()=>n,dA:()=>o,iO:()=>r,jh:()=>l,s_:()=>a,wq:()=>s});const n=350,a=134,o=16,r=2,l=236,s=20},358011:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(667294),a=i(883119),o=i(785893);function r({isTopRow:e,image:t}){var i,n,r;return(0,o.jsxs)(a.zd,{wash:!0,height:e?217:168,width:e?236:117,children:[(0,o.jsx)(a.Ee,{alt:t.alt||"",fit:"cover",naturalHeight:null!==(i=t.height)&&void 0!==i?i:1,naturalWidth:null!==(n=t.width)&&void 0!==n?n:1,src:null!==(r=t.url)&&void 0!==r?r:""}),!!t.price&&(0,o.jsx)(a.xu,{"data-test-id":"shopping-upsell-price",height:24,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"06px"}},left:!0,margin:1,paddingX:2,paddingY:1,position:"absolute",top:!0,children:t.price})]})}var l=i(545168),s=i(658342),d=i(691014),c=i(16728),u=i(340289),p=i(540399),_=i(303987);const h={container:{borderRadius:`${c.Oc}px ${c.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}},m=({images:e,firstImageIndex:t})=>{const i=t+1,n=t+2;return(0,o.jsxs)(a.xu,{overflow:"hidden",rounding:4,children:[(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:h.content},children:e.at(t)?(0,o.jsx)(r,{image:e[t],isTopRow:!0}):null}),e.length>n?(0,o.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,o.jsx)(r,{image:e[i]}),(0,o.jsx)(r,{image:e[n]})]}):null]})};function g({dangerouslySetActionUrl:e,query:t,story:i,slotIndex:r}){const{logContextEvent:c}=(0,l.v)(),{action:g,id:y,objects:v,story_type:f,subtitle:x}=i,{text:b,url:P}=g||{},[w,S]=(0,n.useState)(!1),I=(0,n.useCallback)((()=>S(!0)),[S]),T=(0,n.useCallback)((()=>S(!1)),[S]),A=(v||[]).reduce(((e,t)=>{var i,n,a,o,r,l,s,d,c;if("pin"!==t.type)return e;const u=t;return[...e,{domain:u.domain,image:{alt:u.title||u.description,height:null===(i=u.images)||void 0===i||null===(n=i["474x"])||void 0===n?void 0:n.height,url:null===(a=u.images)||void 0===a||null===(o=a["474x"])||void 0===o?void 0:o.url,width:null===(r=u.images)||void 0===r||null===(l=r["474x"])||void 0===l?void 0:l.width,price:null===(s=((null===(d=u.rich_summary)||void 0===d||null===(c=d.products)||void 0===c?void 0:c[0])||{}).offer_summary)||void 0===s?void 0:s.price}}]}),[]),k=(A[0]||{}).domain||void 0;let E,C,j={story_type:f};["search_product_collage_story","shop_article_story"].includes(f)?(E=2,C=43,j={...j,story_id:y,entered_query:t}):"shop_brand_story"===f||"shop_brand_affinity_story"===f?(E=1,C=92,k&&(j={...j,commerce_data:JSON.stringify({domain:k})})):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(f)?(E=72,C=3050):"related_domain_collage"===f?(E=72,C=3455):"related_products_collage"===f&&(E=1,C=3177);const R=x?4:2;let D,O;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(f)&&g){const e=g.user;D=e&&(e.image_medium_url||e.image_large_url),O=e&&e.full_name}const L=e||P;if(!L)return null;const z=(0,u.Z)({url:L})?"nofollow":"none";return(0,o.jsx)(d.Z,{componentType:200,contextLogData:j||{},impressionType:"Story",loggingId:f,slotIndex:r,viewParameter:C,viewType:E,children:(0,o.jsx)(a.iP,{role:"link",rel:z,href:L,onTap:()=>c({event_type:101,element:372,component:200,view_type:E,view_parameter:C,aux_data:{story_type:f}}),children:(0,o.jsxs)(a.xu,{overflow:"hidden",position:"relative",onMouseEnter:I,onMouseLeave:T,dangerouslySetInlineStyle:{__style:h.container},children:[(0,o.jsx)(m,{images:A.map((({image:e})=>e)),firstImageIndex:["related_domain_collage","related_products_collage"].includes(f)?1:0}),(0,o.jsx)(a.xu,{color:"secondary",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",marginTop:2,paddingY:R,rounding:"pill",children:(0,o.jsxs)(a.xu,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[x?(0,o.jsx)(a.xu,{marginBottom:1,children:(0,o.jsx)(a.xv,{align:"start",color:"subtle",children:x.format})}):null,(0,o.jsx)(a.xv,{align:"start",weight:"bold",children:b})]})}),O&&D&&(0,o.jsx)(a.xu,{position:"absolute",right:!0,top:!0,margin:2,children:(0,o.jsx)(s.qE,{name:O,size:"md",src:D,outline:!0})}),(0,o.jsx)(_.Z,{visibility:w?"visible":"none",children:(0,o.jsx)(p.Z,{additionalStyles:h.visualOverlay})})]})})})}},800326:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({hovered:e,rounding:t}){return(0,a.jsx)(n.xu,{display:e?"block":"none",height:"100%",width:"100%",left:!0,top:!0,position:"fixed",zIndex:new n.Ry(1),color:"transparentDarkGray",rounding:t,opacity:.2})}},848301:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(835686),a=i(55592),o=i(578662);const r=e=>{const{checkExperiment:t}=(0,n.F)(),i="desktop"===(0,a.ZP)(),{country:r,isAuth:l}=(0,o.Z)();return!(!e||!l)&&(!i||(!(!i||"US"!==r)||t("pdpplus_intl").anyEnabled))}},454390:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294),a=i(883119),o=i(785893);function r({color:e="red",duration:t,finalProgress:i,shape:r="pill"}){const[l,s]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=setTimeout((()=>{s(!0)}),0);return()=>{clearTimeout(e)}}),[]);const d="pill"===r;return(0,o.jsx)(a.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${i}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${l?"-5px":"-100%"})`:`scaleX(${l?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},2561:(e,t,i)=>{i.d(t,{Kl:()=>r,Sn:()=>o,Zs:()=>a});var n=i(882345);function a(e,t){var i,a,o,r,l,s,d,c,u,p;let _={...null==t||null===(i=t.contextLogData)||void 0===i?void 0:i.commerce_data};if(null!==(a=e.shopping_flags)&&void 0!==a&&a.includes(2)&&(_={..._,pin_is_shop_the_look:!0}),null!==(o=e.shopping_flags)&&void 0!==o&&o.includes(1)&&(_={..._,is_available:!0}),null!==(r=e.shopping_flags)&&void 0!==r&&r.includes(5)&&(_={..._,is_product_pin_v2:!0}),null!==(l=e.shopping_flags)&&void 0!==l&&l.includes(6)&&(_={..._,is_rich_product_pin:!0}),(null!==(s=e.shopping_flags)&&void 0!==s&&s.includes(10)||((null===(d=e.product_pin_data)||void 0===d||null===(c=d.items)||void 0===c?void 0:c[0])||{}).additional_images)&&(_={..._,is_organic_product_carousel:!0}),e.is_eligible_for_pdp_plus||e.is_eligible_for_pdp||e.is_oos_product||e.is_stale_product){e.is_oos_product?_={..._,pin_show_pdp_oos:!0}:e.is_stale_product?_={..._,pin_show_pdp_stale:!0}:e.is_eligible_for_pdp&&(_={..._,pin_show_pdp:!0});const i=(0,n.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary});if(null!=t&&t.isPdpPlus){var h,m,g,y,v,f,x,b,P,w,S;_={..._,is_pdpplus:!0};const t=null===(h=e.rich_metadata)||void 0===h||null===(m=h.products)||void 0===m?void 0:m[0],n=null==t||null===(g=t.shipping_info)||void 0===g?void 0:g.free_shipping_price,a=null==t||null===(y=t.shipping_info)||void 0===y?void 0:y.free_shipping_value,o=(null==t||null===(v=t.variant_set)||void 0===v||null===(f=v.variants)||void 0===f?void 0:f.length)||0,r=(null==t||null===(x=t.variant_set)||void 0===x?void 0:x.variants)||[],l=((null==t||null===(b=t.variant_set)||void 0===b?void 0:b.dimension_metadata)||[]).reduce(((e,{name:t,values:i})=>e+(t&&i||[]).filter((e=>r.some((i=>{var n;return(null===(n=i.dimensions)||void 0===n?void 0:n[null!=t?t:""])===e})))).length),0),s=(null==t||null===(P=t.variant_set)||void 0===P||null===(w=P.dimension_metadata)||void 0===w?void 0:w.length)||0,d=null==t||null===(S=t.brand)||void 0===S?void 0:S.signature;var I;if(d&&(_={..._,brand_signature:d}),i)_={..._,carousel_image_count:null===(I=i.carousel_slots)||void 0===I?void 0:I.length};n&&(_={..._,free_shipping_price:n}),a&&(_={..._,free_shipping_value:a}),o&&(_={..._,num_variants:o}),l&&(_={..._,valid_dimension_option_count:l}),s&&(_={..._,total_dimension_option_count:s})}else if(i){var T;_={..._,image_count:null===(T=i.carousel_slots)||void 0===T?void 0:T.length},_={..._,image_index:i.index}}}const A=null===(u=e.rich_summary)||void 0===u||null===(p=u.products)||void 0===p?void 0:p[0];null!=A&&A.item_id&&(_={..._,item_id:A.item_id}),null!=A&&A.item_set_id&&(_={..._,item_set_id:A.item_set_id});return(e.aggregated_pin_data||{}).is_shop_the_look&&(_={..._,pin_is_shop_the_look:!0}),e.story_pin_data&&(_={..._,story_pin_id:e.story_pin_data.id}),_}function o(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const r=(e,t)=>e?o(a(e,t)):null},597587:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(667294),a=i(616550),o=i(158645),r=i(90096);var l=i(2561),s=i(545168),d=i(162474),c=i(639429),u=i(947083),p=i(785893);function _({children:e,hovered:t,pin:i,slotIndex:_,trafficSource:h,viewType:m}){var g,y,v,f,x;const{logContextEvent:b}=(0,s.v)(),[P,w]=(0,n.useState)(),[S,I]=(0,n.useState)(),{id:T,tracked_link:A,link:k}=i,E=A||k||"",C=()=>{w(!0)},j=function(e){const t=(0,a.useLocation)(),{previous:i}=(0,r.Hv)();return(0,o.Z)({...e,location:t,previousHistory:i})}({boardUrl:null===(g=i.board)||void 0===g?void 0:g.url,pinId:i.id,pinnerUserName:null===(y=i.pinner)||void 0===y?void 0:y.username,storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,trackingParamsMap:i.tracking_params_map}),R=(0,u.Z)({hasPin:!!i,hasPinRichMetadata:!(null==i||!i.rich_metadata),hasPinRichMetadataProducts:!(null==i||null===(v=i.rich_metadata)||void 0===v||!v.products),hasPinRichMetadataArticle:!(null==i||null===(f=i.rich_metadata)||void 0===f||!f.article),hasPinRichMetadataRecipe:!(null==i||null===(x=i.rich_metadata)||void 0===x||!x.recipe),hasPinStoryPinData:!(null==i||!i.story_pin_data)}),D=(0,n.useCallback)((()=>{(0,d.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:i.id,url:E,client_tracking_params:j,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:T,..._||{},...(0,l.Kl)(i)||{}})}}).then((e=>{e&&(b({event_type:12,object_id_str:T,view_type:m,view_parameter:R,aux_data:{clickthrough_type:"rightClick",..._||{},...(0,l.Kl)(i)||{}}}),b({event_type:8948,view_type:m,object_id_str:T,view_parameter:R,aux_data:{click_type:"clickthrough",closeup_navigation_type:h&&(0,c.sV)(h)?"deeplink":"click",clickthrough_type:"rightClick",..._||{},...(0,l.Kl)(i)||{}}}))}))})),O=e=>{var t;P&&(/^\/pin/.test(null===(t=e.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(D(),w(!1)),window.removeEventListener(S,O,!1))};return(0,n.useEffect)((()=>{var e,t,i,n,a,o;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?I("visibilitychange"):void 0!==(null===(i=window)||void 0===i||null===(n=i.document)||void 0===n?void 0:n.msHidden)?I("msvisibilitychange"):void 0!==(null===(a=window)||void 0===a||null===(o=a.document)||void 0===o?void 0:o.webkitHidden)&&I("webkitvisibilitychange")}),[]),(0,n.useEffect)((()=>(P&&window&&window.addEventListener(S,O,!1),()=>window.removeEventListener(S,O))),[P,S]),(0,n.useEffect)((()=>(t&&window.addEventListener("contextmenu",C),()=>{window.removeEventListener("contextmenu",C)})),[t]),(0,p.jsx)(n.Fragment,{children:e})}},185987:(e,t,i)=>{i.d(t,{S:()=>x,Z:()=>w});var n=i(667294),a=i(615071),o=i(883119),r=i(234983),l=i(785893);const s=6,d={nw:0,ne:90,se:180,sw:270},c={ne:[7,-7],se:[7,7],sw:[-7,7],nw:[-7,-7]},u={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},p=(e,t,i,n)=>{if("rounded"===n){const[n,a]=c[e];return`translate(${t+n}, ${i+a}), rotate(${d[e]})`}return`translate(${t}, ${i}), rotate(${d[e]})`};function _({corner:e,x:t,y:i,size:n,cornerStyle:a}){return(0,l.jsxs)("g",{transform:p(e,t,i,a),style:{cursor:u[e]},children:[(0,l.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:0,y:0,width:n,height:n,className:`v2cropperHandle ${e}`}),"rounded"===a?(0,l.jsx)("path",{d:"M16 0H24V8H16C11.5817 8 8 11.5817 8 16V24H0V16C0 7.16343 7.16345 0 16 0Z",fill:"#fff",className:`v2cropperHandle ${e}`}):(0,l.jsx)("path",{d:`M ${n} 0 L 0 0 L 0 ${n}`,fill:"none",stroke:"#fff",strokeWidth:s,className:`v2cropperHandle ${e}`})]})}const h={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function m({edge:e,x:t,y:i,w:n,h:a}){return(0,l.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:t,y:i,width:n,height:a,className:`v2cropperHandle ${e}`,style:{cursor:h[e]}})}const g=20;function y({x:e,y:t,w:i,h:a}){const o="rounded";return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(_,{corner:"nw",x:e,y:t,size:g,cornerStyle:o}),(0,l.jsx)(_,{corner:"ne",x:e+i,y:t,size:g,cornerStyle:o}),(0,l.jsx)(_,{corner:"sw",x:e,y:t+a,size:g,cornerStyle:o}),(0,l.jsx)(_,{corner:"se",x:e+i,y:t+a,size:g,cornerStyle:o}),(0,l.jsx)(m,{edge:"n",x:e+g,y:t-10,w:i-40,h:30}),(0,l.jsx)(m,{edge:"e",x:e+i-g,y:t+g,w:30,h:a-40}),(0,l.jsx)(m,{edge:"s",x:e+g,y:t+a-10,w:i-40,h:30}),(0,l.jsx)(m,{edge:"w",x:e-g,y:t+g,w:30,h:a-40})]})}var v=i(396681);function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const x=16,b=48;class P extends n.Component{constructor(...e){super(...e),f(this,"state",{cropArea:this.props.initialCropArea||{h:0,w:0,x:0,y:0},cropChangeType:null}),f(this,"cropResizeDirection",null),f(this,"_cropperOverlay",(0,n.createRef)()),f(this,"_checkCropHandleValid",((e,t)=>{const{cropArea:{h:i,w:n,x:a,y:o}}=this.state;switch(this.cropResizeDirection){case"ne":e<a&&t>o+i?this.cropResizeDirection="sw":e<a?this.cropResizeDirection="nw":t>o+i&&(this.cropResizeDirection="se");break;case"nw":e>a+n&&t>o+i?this.cropResizeDirection="se":e>a+n?this.cropResizeDirection="ne":t>o+i&&(this.cropResizeDirection="sw");break;case"se":e<a&&t<o?this.cropResizeDirection="nw":e<a?this.cropResizeDirection="sw":t<o&&(this.cropResizeDirection="ne");break;case"sw":e>a+n&&t<o?this.cropResizeDirection="ne":e>a+n?this.cropResizeDirection="se":t<o&&(this.cropResizeDirection="nw");break;case"n":t>o+i&&(this.cropResizeDirection="s");break;case"s":t<o&&(this.cropResizeDirection="n");break;case"e":e<a&&(this.cropResizeDirection="w");break;case"w":e>a+n&&(this.cropResizeDirection="e")}})),f(this,"handleOnMouseDown",(e=>{var t;e.preventDefault(),e.stopPropagation();const{clientX:i,clientY:n}=e,{target:a}=e,o=i-this._cropperOverlayCoor.x,r=n-this._cropperOverlayCoor.y,l=a.classList?Array.from(a.classList):a instanceof Element&&(null===(t=a.getAttribute("class"))||void 0===t?void 0:t.split(" "))||[];l.includes("v2cropperHandle")?(this.setState({cropChangeType:"resize"}),l.includes("ne")&&(this.cropResizeDirection="ne"),l.includes("nw")&&(this.cropResizeDirection="nw"),l.includes("se")&&(this.cropResizeDirection="se"),l.includes("sw")&&(this.cropResizeDirection="sw"),l.includes("n")&&(this.cropResizeDirection="n"),l.includes("s")&&(this.cropResizeDirection="s"),l.includes("e")&&(this.cropResizeDirection="e"),l.includes("w")&&(this.cropResizeDirection="w")):l.includes("v2cropSection")?(this.setState({cropChangeType:"move"}),this.cropChangeStartCoor={x:o,y:r}):l.includes("v2shadowMask")&&(this.cropChangeStartCoor={x:o,y:r},this.setState({cropArea:{h:0,w:0,x:o,y:r},cropChangeType:"select"}))})),f(this,"handleOnMouseMove",(e=>{const{cropArea:{h:t,w:i,x:n,y:a},cropChangeType:o}=this.state,{imageSize:r}=this.props,{clientX:l,clientY:s}=e,d=l-this._cropperOverlayCoor.x,c=s-this._cropperOverlayCoor.y;if("resize"===o){var u,p;const e=Math.max(Math.min(d,(null!==(u=r.w)&&void 0!==u?u:1)-x),x),o=Math.max(Math.min(c,(null!==(p=r.h)&&void 0!==p?p:1)-x),x);switch(this._checkCropHandleValid(e,o),this.cropResizeDirection){case"ne":{const i=Math.max(t+(a-o),b),r=Math.max(e-n,b);this.setState({cropArea:{h:i,w:r,x:n,y:i<=b?a:o}});break}case"nw":{const r=Math.max(i+(n-e),b),l=Math.max(t+(a-o),b);this.setState({cropArea:{h:l,w:r,x:r===b?n:e,y:l===b?a:o}});break}case"se":{const t=Math.max(o-a,b),i=Math.max(e-n,b);this.setState({cropArea:{h:t,w:i,x:n,y:a}});break}case"sw":{const t=Math.max(o-a,b),r=Math.max(i+(n-e),b);this.setState({cropArea:{h:t,w:r,x:r===b?n:e,y:a}});break}case"n":{const e=Math.max(a-o+t,b);this.setState({cropArea:{h:e,w:i,x:n,y:e===b?a:o}});break}case"s":{const e=Math.max(o-a,b);this.setState({cropArea:{h:e,w:i,x:n,y:a}});break}case"e":{const i=Math.max(e-n,b);this.setState({cropArea:{h:t,w:i,x:n,y:a}});break}case"w":{const o=Math.max(i-e+n,b);this.setState({cropArea:{h:t,w:o,x:o===b?n:e,y:a}});break}}}else if("move"===o){var _,h;const e=d-this.cropChangeStartCoor.x,o=c-this.cropChangeStartCoor.y,l=Math.max(Math.min(n+e,(null!==(_=r.w)&&void 0!==_?_:1)-i-x),x),s=Math.max(Math.min(a+o,(null!==(h=r.h)&&void 0!==h?h:1)-t-x),x);this.cropChangeStartCoor={x:d,y:c},this.setState({cropArea:{h:t,w:i,x:l,y:s}})}else if("select"===o){var m,g;const e=Math.max(Math.min(d,null!==(m=r.w)&&void 0!==m?m:1),0),t=Math.max(Math.min(c,null!==(g=r.h)&&void 0!==g?g:1),0),i=e-this.cropChangeStartCoor.x,n=t-this.cropChangeStartCoor.y;this.setState({cropArea:{h:Math.abs(n),w:Math.abs(i),x:Math.min(this.cropChangeStartCoor.x,e),y:Math.min(this.cropChangeStartCoor.y,t)}})}})),f(this,"handleOnMouseUp",(()=>{const{cropChangeType:e}=this.state;"resize"!==e&&"move"!==e&&"select"!==e||this.handleCrop(),this.cropResizeDirection=null}))}componentDidMount(){const{body:e}=document,t=this._cropperOverlay.current;if(t&&e){if(t){const e=t.getBoundingClientRect();this._cropperOverlayCoor={x:e.left,y:e.top}}window.addEventListener("mouseup",this.handleOnMouseUp),e.addEventListener("mousemove",this.handleOnMouseMove),t.addEventListener("mousedown",this.handleOnMouseDown)}}componentWillUnmount(){const{body:e}=document,t=this._cropperOverlay.current;t&&e&&(window.removeEventListener("mouseup",this.handleOnMouseUp),e.removeEventListener("mousemove",this.handleOnMouseMove),t.removeEventListener("mousedown",this.handleOnMouseDown))}handleCrop(){const{imageSize:e,onChange:t,viewParameter:i,logContextEvent:n}=this.props,{cropChangeType:a,cropArea:o}=this.state;if(0===o.w&&0===o.h){var r,l;this.setState({cropChangeType:null}),t({origCrop:{h:(null!==(r=e.h)&&void 0!==r?r:1)-2*x,w:(null!==(l=e.w)&&void 0!==l?l:1)-2*x,x,y:x}})}else{var s,d,c,u;this.setState({cropChangeType:null});const r=Math.max(Math.min(o.x,(null!==(s=e.w)&&void 0!==s?s:1)-b-x),x),l=Math.max(Math.min(o.y,(null!==(d=e.h)&&void 0!==d?d:1)-b-x),x);let h,m;if(o.h<b)h=b;else if(l+o.h>(null!==(c=e.h)&&void 0!==c?c:1)-x){var p;h=(null!==(p=e.h)&&void 0!==p?p:1)-l-x}else h=o.h;if(o.w<b)m=b;else if(r+o.w>(null!==(u=e.w)&&void 0!==u?u:1)-x){var _;m=(null!==(_=e.w)&&void 0!==_?_:1)-r-x}else m=o.w;switch(a){case"move":n({event_type:7603,view_type:72,view_parameter:i});break;case"resize":n({event_type:7604,view_type:72,view_parameter:i})}t({origCrop:{h,w:m,x:r,y:l}})}}render(){const{children:e,previewCropArea:t,showPreviewArea:i}=this.props,{cropArea:{h:n,w:r,x:s,y:d},cropChangeType:c}=this.state;return(0,l.jsxs)(o.xu,{ref:this._cropperOverlay,position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{cursor:"crosshair"}},children:[(0,l.jsx)(v.Z,{unsafeCSS:"\n.preview-crop-area-enter {\n  opacity: 0;\n}\n\n.preview-crop-area-enter-active {\n  opacity: 1;\n  transition: opacity 300ms;\n}\n\n.preview-crop-area-exit {\n  opacity: 1;\n}\n\n.preview-crop-area-exit-active {\n  opacity: 0;\n  transition: opacity 300ms;\n}\n\n.preview-crop-area-exit-done {\n  opacity: 0;\n}\n"}),(0,l.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[(0,l.jsx)("defs",{children:(0,l.jsxs)("mask",{id:"Mask",children:[(0,l.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",rx:"0",ry:"0",fill:"#fff"}),(0,l.jsx)("rect",{x:s,y:d,width:r,height:n,id:"hole",rx:0,ry:0},`${s}${d}`),(0,l.jsx)(a.Z,{in:i&&!c,timeout:300,classNames:"preview-crop-area",mountOnEnter:!0,unmountOnExit:!0,children:(0,l.jsx)("rect",{x:t.x,y:t.y,width:t.w,height:t.h,id:"preview",rx:4,ry:4},`${t.x}${t.y}`)})]})}),(0,l.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",style:{fill:"rgba(0,0,0,0.5)"},mask:"url(#Mask)",className:"v2shadowMask"}),(0,l.jsx)("use",{href:"#hole",fill:"rgba(0,0,0,0)",stroke:"#fff",strokeWidth:"2",className:"v2cropSection",style:{cursor:"move"}}),"select"!==c&&(0,l.jsx)(y,{x:s,y:d,w:r,h:n})]}),e]})}}function w(e){const t=(0,r.Z)();return(0,l.jsx)(P,{logContextEvent:t,...e})}},68580:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),a=i(883119),o=i(434012),r=i(785893);function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s=16,d=32;class c extends n.Component{constructor(...e){super(...e),l(this,"state",{isHovering:!1}),l(this,"handleMouseEnter",(e=>{this.setState({isHovering:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)})),l(this,"handleMouseLeave",(e=>{this.setState({isHovering:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)}))}render(){const{forwardedRef:e,icon:t,onClick:i,onMouseDown:n,onMouseUp:o,selected:l,style:c,text:u,x:p,y:_,zIndex:h,backdropDiameter:m=d,dotDiameter:g=s}=this.props,{isHovering:y}=this.state,v=y?m+4:m,f={zIndex:h,position:"absolute",top:_-v/2,left:p-v/2,outline:"none"};return(0,r.jsx)("div",{"data-test-id":"flashlight-dot",onClick:i,onKeyPress:i,onMouseDown:n,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:o,ref:e,role:"button",style:f,tabIndex:"0","aria-label":this.props.i18n.bt("   ", "Search this item", "flashlight.dot.a11ylabel", undefined, true),children:(0,r.jsx)("div",{"data-test-id":"flashlight-dot-style",style:c,children:(0,r.jsxs)(a.xu,{alignItems:"center",borderStyle:"none",color:"default",display:"flex",height:g,justifyContent:"center",position:"absolute",padding:0,width:g,dangerouslySetInlineStyle:{__style:{boxShadow:l?"0 0 0 3px #e60023":"none",borderRadius:g,top:(v-g)/2,left:(v-g)/2}},children:[!!u&&(0,r.jsx)(a.xv,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:u}),t&&(0,r.jsx)(a.JO,{accessibilityLabel:this.props.i18n.bt(" ", "Tag anchor", "accessibility label for an anchor for an object in a pin", undefined, true),color:"error",icon:t,size:g/2,inline:!0})]})})})}}const u=(0,n.forwardRef)(((e,t)=>{const i=(0,o.ZP)();return(0,r.jsx)(c,{...e,forwardedRef:t,i18n:i})}))},633885:(e,t,i)=>{i.d(t,{Z:()=>v});var n=i(667294),a=i(616550),o=i(185987),r=i(2561),l=i(234983),s=i(68580),d=i(278286),c=i(785893);function u({showAnimation:e,auxData:t,index:i,isStela:n,onClick:a,onHover:o,onUnhover:r,spotlightCenter:u,viewParameter:p,viewType:_}){const h=(0,l.Z)(),m=n?1221:1260;(0,d.Z)((()=>{h({event_type:120,element:m,aux_data:t,view_parameter:p,view_type:_})}));const g=parseFloat((.1*(i+1)).toFixed(2)),y={animation:e?`spotlightDotPop 0.6s ease-out ${g}s both`:"none"};return(0,c.jsx)(s.Z,{x:u.x,y:u.y,onClick:e=>{e&&(e.stopPropagation(),e.preventDefault()),h({aux_data:t,element:m,event_type:101,view_parameter:p,view_type:_}),a(i)},onMouseEnter:e=>{e&&(e.stopPropagation(),e.preventDefault()),o(i)},onMouseLeave:e=>{e&&(e.stopPropagation(),e.preventDefault()),r()},style:y})}var p=i(396681),_=i(251324);const h=({showAnimation:e,pin:t,imageSignature:i,imageSize:a,currentSpotlightIdx:o,spotlightAreas:l,handleSpotlightClick:s,handleSpotlightHover:d,handleSpotlightUnhover:h,viewParameter:m,viewType:g})=>(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(p.Z,{unsafeCSS:"\n@keyframes spotlightDotPop {\n  0% {\n    opacity: 0;\n    transform: scale(0);\n  }\n\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}"}),l.map(((n,l)=>{var p,y;if(l===o)return null;const v=(0,_.Z)({cropArea:n,scaledWidth:null!==(p=a.w)&&void 0!==p?p:0,scaledHeight:null!==(y=a.h)&&void 0!==y?y:0}),f={x:v.x+v.w/2,y:v.y+v.h/2},x={commerce_data:JSON.stringify({...(0,r.Zs)(t),entrypoint:"flashlight"}),pin_id:t.id,image_signature:i,visual_objects:JSON.stringify([{x:n.x,y:n.y,w:n.w,h:n.h}])},b=`${f.x}${f.y}`;return(0,c.jsx)(u,{showAnimation:e,auxData:x,index:l,isStela:!!n.is_stela,onClick:s,onHover:d,onUnhover:h,spotlightCenter:f,viewParameter:m,viewType:g},b)}))]});var m=i(475704),g=i(474478);const y=4;function v({customCropper:e,imageSize:t,imageSignature:i,initialCropArea:r,pin:l,showAnimation:s,spotlightAreas:d=[],trafficSource:u,viewParameter:p,viewType:v}){const f=(0,a.useHistory)(),[x,b]=(0,n.useState)(!1),[P,w]=(0,n.useState)({w:0,h:0,x:0,y:0}),[S,I]=(0,n.useState)(0);(0,n.useEffect)((()=>{const e=d.findIndex((e=>{var i,n,a,o,l;return a=r,o=(0,_.Z)({cropArea:e,scaledWidth:null!==(i=t.w)&&void 0!==i?i:0,scaledHeight:null!==(n=t.h)&&void 0!==n?n:0}),l=y,Object.keys(a).reduce(((e,t)=>e+Math.abs(a[t]-o[t])),0)<=l}));I(e)}),[t,r,d]);const T=({origCrop:e,cropSource:t,trafficSource:n,title:a})=>{const{id:o}=l,r=window.location.pathname+window.location.search,s=(0,g.Z)({cropArea:e,pinId:o,cropSource:null!=t?t:6,isUnified:!1,imageSignature:i,title:a,trafficSource:n});s!==r&&(f.replace(s),f.replace({pathname:`/pin/${o}/visual-search/`,query:{...e,cropSource:t,imageSignature:i},search:(0,m.Z)({cropArea:e,cropSource:null!=t?t:6,imageSignature:i,title:a,trafficSource:n}),state:{internalNavigation:!0}}))},A=d&&!!d.length;return(0,c.jsx)(o.Z,{imageSize:t,initialCropArea:r,onChange:null!=e?e:T,previewCropArea:P,showPreviewArea:!1,viewParameter:p,children:A&&(0,c.jsx)(h,{handleSpotlightClick:i=>{var n,a;const o=d[i],r={origCrop:(0,_.Z)({cropArea:o,scaledWidth:null!==(n=t.w)&&void 0!==n?n:0,scaledHeight:null!==(a=t.h)&&void 0!==a?a:0}),cropSource:o.is_stela?4:1,trafficSource:u,title:o.title};e?e(r):T(r)},handleSpotlightHover:e=>{var i,n;e!==S&&(b(!0),w((0,_.Z)({cropArea:d[e],scaledWidth:null!==(i=t.w)&&void 0!==i?i:0,scaledHeight:null!==(n=t.h)&&void 0!==n?n:0})))},handleSpotlightUnhover:()=>{b(!1)},imageSignature:i,imageSize:t,currentSpotlightIdx:S,pin:l,showAnimation:s,spotlightAreas:d,viewParameter:p,viewType:v})},JSON.stringify(r))}},90096:(e,t,i)=>{i.d(t,{Hv:()=>s,aX:()=>u,nK:()=>p});var n=i(667294),a=i(616550),o=i(946689),r=i(785893);const{Provider:l,useHook:s}=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){var i;const n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(i=e.current)||void 0===i?void 0:i.location))return e;switch(t.type){case"POP":return e.forward.length>0&&d(e.forward[0].location)===d(n.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function u(){const{current:e,previous:t}=s();return(0,n.useMemo)((()=>e?t.concat(e):t),[e,t])}function p({children:e}){const t=(0,a.useHistory)(),i=(0,a.useLocation)(),o=(0,a.useRouteMatch)(),s={forward:[],current:{action:t.action,location:i,match:o},previous:[]},[d,u]=(0,n.useReducer)(c,s);return(0,n.useEffect)((()=>{const{action:e}=t;u({type:e,location:i,match:o})}),[i]),(0,r.jsx)(l,{value:d,children:e})}},884510:(e,t,i)=>{i.d(t,{Z:()=>u,v:()=>d});var n=i(741208),a=i(7125),o=i(895799);var r=i(448983),l=i(780621),s=i(222717);const d=e=>{const{userAgent:t}=e;if(!t.isMobile&&!t.isTablet)return"desktop";switch(t.platform){case s.RL:return"iphone";case s.GW:return t.isTablet?"android_tablet":"android";case s.s4:return"ipad";default:return"mobile_other"}},c=({moduleName:e,pageType:t,requestContext:i,route:s})=>{const c=d(i),u=i.isAuthenticated?"auth":"unauth",p=(()=>{const e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";if(e.indexOf("yandex")>-1)return"yandex"}})(),_=(0,r.Z)(),h=function(){let e=!1;return a.U2(o.VL)||(a.t8(o.VL,"1",(0,a.kZ)(o.VL)),e=!0),e}(),m=document.domain||"unknown";h&&((0,l.My)(`traffic.${c}.${_}.${e}.${u}`),(0,l.My)(`traffic_subdomain.${m}.${_}.${e}.${u}`),(0,l.My)(`traffic_subdomain.${m}.${c}.${_}.${e}.${u}`),(0,l.My)(`traffic_subdomain.${m}.${c}.${u}`),(0,l.My)(`traffic_duplo.${c}.${_}.${e}.${u}`),p&&(0,l.My)(`traffic_bot.${p}.${e}`));n.Z.increment("webapp.traffic",.1,{domain:m,isAuth:u,pageType:t,userAgentPlatform:c,botType:p,firstVisit:h,moduleName:e,referrer:_,route:s})};function u({pageType:e,requestContext:t,route:i}){c({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[i]||"other",pageType:e,requestContext:t,route:i})}},139311:(e,t,i)=>{i.d(t,{I6:()=>a,Nv:()=>n,RZ:()=>o,ZG:()=>l,b9:()=>r});const n=44,a=24,o=446,r=36,l=20},116200:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),a=i(883119),o=i(545168),r=i(842625),l=i(434012),s=i(285454),d=i(593954),c=i(55592),u=i(785893);const p=({contentIds:e,previewImageSrc:t,url:i,buttonText:p,isInMobileCarousel:_,slideWidth:h,shape:m="square",storyId:g,storyType:y,view:v,viewParameter:f,component:x,element:b})=>{const P="square"===m?4:"circle",w=(0,s.Z)()?r.tG:r.yF,S=(0,c.HG)(),{logContextEvent:I}=(0,o.v)(),T=(0,l.ZP)(),A=(0,n.useMemo)((()=>!(Number.isNaN(v)||Number.isNaN(f)||Number.isNaN(x)||Number.isNaN(b))),[v,f,x,b]);let k="lg";_&&h&&(k=h>150?"lg":h>135&&h<=150?"md":"sm");const E=x;return(0,n.useEffect)((()=>{A&&I({event_type:120,view_type:v,view_parameter:f,component:E,element:b,aux_data:{content_ids:e,story_id:g,story_type:y}})}),[e,I,v,f,E,b,A,g,y]),(0,u.jsx)(d.Z,{id:"sf-action-item-rep",children:(0,u.jsx)(a.xu,{width:_?h:w,height:_?h:w,color:"secondary",rounding:P,overflow:"hidden",children:(0,u.jsx)(a.zd,{height:"100%",width:"100%",wash:!0,rounding:P,children:(0,u.jsx)(a.Ee,{src:t,alt:T.bt("    ", "Action Item Rep Preview Image", "actionItemRep.image", undefined, true),color:"#fff",fit:"cover",naturalHeight:50,naturalWidth:50,children:(0,u.jsx)(a.xu,{height:"100%",width:"100%",left:!0,top:!0,alignItems:"center",justifyContent:"center",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.3)"}},children:(0,u.jsx)(a.ZP,{onClick:()=>{A&&I({event_type:S?101:102,view_type:v,view_parameter:f,component:E,element:b,aux_data:{content_ids:e,story_id:g,story_type:y}})},text:p,href:i,color:"white",size:k})})})})})})}},642575:(e,t,i)=>{i.d(t,{Z:()=>A});var n=i(667294),a=i(616550),o=i(883119),r=i(545168),l=i(282605),s=i(800326),d=i(842625),c=i(434012),u=i(478473),p=i(203601),_=i(785893);function h({item:e={},imagePlaceholderColor:t=u.hK,onTap:i}){var a,r;const l=(0,c.ZP)(),h=null==e||null===(a=e.cover_images)||void 0===a?void 0:a[0],m=null==h?void 0:h["236x"];return(0,_.jsx)(o.iP,{onTap:i,children:(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(p.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:n})=>(0,_.jsx)(o.xu,{marginBottom:2,"data-test-id":"category-bubble",onMouseEnter:i,onMouseLeave:n,children:(0,_.jsxs)(o.zd,{height:d.yF,rounding:"circle",wash:!0,width:d.yF,children:[(0,_.jsx)(s.Z,{hovered:e,rounding:"circle"}),(0,_.jsx)(o.Ee,{alt:l.bt("   ", "Image previewing contents of an item", "itemRep.userRep.previewImage", undefined, true),color:t,fit:"cover",naturalHeight:d.yF,naturalWidth:d.yF,src:(null==m?void 0:m.url)||""})]})})}),(null==e||null===(r=e.title)||void 0===r?void 0:r.format)&&(0,_.jsx)(o.xu,{width:d.yF,children:(0,_.jsx)(o.xv,{align:"center",weight:"bold",children:e.title.format})})]})})}var m=i(793516),g=i(894068),y=i(770661),v=i(55592);const f=157,x=({item:e={},onTap:t})=>{var i,n,a,r;const l=(0,c.ZP)(),s=(0,v.HG)(),u=null===(i=e.action)||void 0===i?void 0:i.url;if(!u)return null;const p=e.curator||{},h=p.full_name||"",x=p.username||"",b=p.image_medium_url||"",P=(null===(n=p.verified_identity)||void 0===n?void 0:n.verified)||!1,w=p.is_verified_merchant||!1,[S,I]=e.cover_images||[],T=(null===(a=S["170x"])||void 0===a?void 0:a.url)||"",A=(null===(r=I["170x"])||void 0===r?void 0:r.url)||"",k=s?d.yF:d.tG;return(0,_.jsxs)(o.xu,{width:k,"data-test-id":"default-brand-article",children:[(0,_.jsx)(o.iP,{role:"link",rounding:3,href:u,accessibilityLabel:"",onTap:t,children:(0,_.jsxs)(o.xu,{height:f,children:[(0,_.jsx)(o.zd,{rounding:4,height:f,width:k,wash:!0,children:(0,_.jsxs)(o.kC,{children:[(0,_.jsx)(m.Z,{height:f,width:k/2,src:T}),(0,_.jsx)(o.xu,{color:"default",width:1}),(0,_.jsx)(m.Z,{height:f,width:k/2,src:A})]})}),(0,_.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:-8,children:(0,_.jsx)(g.Z,{size:64,src:b||"",color:"gray",fullName:h||x})})]})}),(0,_.jsx)(o.xu,{height:40}),h&&(0,_.jsx)(y.Z,{name:h,isDomainVerified:P,isVerifiedMerchant:w}),(0,_.jsx)(o.xu,{marginTop:2,marginBottom:2,justifyContent:"center",width:"100%",display:"flex",children:(0,_.jsx)(o.ZP,{text:l.bt("", "Shop", "StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.ButtonText", undefined, true),size:"lg",href:u,accessibilityLabel:l.bt("       ", "Navigate to a feed of products from this brand", "StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.linkAccessibilityLabel", undefined, true)})})]})},b="pill";var P=i(748909),w=i(276817),S=i(715912);const I=()=>{},T={2:h,3:function({item:e={},onTap:t}){const i=(0,c.ZP)(),n=null==e?void 0:e.identifier_icon_type,{icon:a,text:r}=((e,t)=>{switch(e){case 2:return{icon:"workflow-status-all",text:t.bt("", "Categories", "NavigationBubble.NavigationIcon.utils", undefined, true)};case 3:return{icon:"shopping-bag",text:t.bt("", "Stores", "ExploreArticleRep.NavigationBubble.utils", undefined, true)};case 4:return{icon:"terms",text:t.bt("", "Your items", "ExploreArticleRep.NavigationBubble.utils", undefined, true)};default:return{icon:null}}})(n,i);return(0,_.jsx)(o.iP,{onTap:t,tapStyle:"compress",rounding:a?5:b,children:(0,_.jsx)(p.q,{children:({active:t,hovered:i,onMouseEnter:n,onMouseLeave:l,onFocus:c,onBlur:u})=>{var p,h,m;return(0,_.jsxs)(o.xu,{"data-test-id":"navigation-bubble",onMouseEnter:n,onMouseLeave:l,onFocus:c,onBlur:u,rounding:5,children:[a&&(0,_.jsxs)(o.zd,{height:85,rounding:5,wash:!0,width:85,children:[(0,_.jsx)(s.Z,{hovered:i}),(0,_.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,_.jsx)(o.JO,{accessibilityLabel:r||"",color:"default",icon:a,size:32})})]}),r&&(0,_.jsx)(o.xu,{marginTop:2,width:85,children:(0,_.jsx)(o.xv,{align:"center",weight:"bold",children:r})}),!a&&!r&&(null==e||null===(p=e.title)||void 0===p?void 0:p.format)&&(0,_.jsx)(o.xu,{rounding:b,dangerouslySetInlineStyle:{__style:{backgroundColor:null===(h=e.aux_fields)||void 0===h?void 0:h.button_background_color}},children:(0,_.jsx)(o.xu,{rounding:b,padding:4,dangerouslySetInlineStyle:{__style:{backgroundColor:(t?"rgba(0, 0, 0, 0.15)":i&&"rgba(0, 0, 0, 0.06)")||void 0}},children:(0,_.jsx)(o.xv,{align:"center",weight:"normal",color:"#ffffff"===(null===(m=e.aux_fields)||void 0===m?void 0:m.button_text_color)?"inverse":"default",children:(0,_.jsx)(o.xu,{maxWidth:d.yF-16,overflow:"hidden",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},children:e.title.format})})})})]})}})})},1:function({item:e={},onTap:t}){var i;const n=(0,c.ZP)(),a=null==e||null===(i=e.cover_images)||void 0===i?void 0:i[0],r=null==a?void 0:a["236x"];return(0,_.jsx)(o.iP,{onTap:t,tapStyle:"compress",rounding:3,children:(0,_.jsx)(p.q,{children:({hovered:t,onMouseEnter:i,onMouseLeave:a})=>{var l;return(0,_.jsx)(o.xu,{"data-test-id":"search-bubble",onMouseEnter:i,onMouseLeave:a,rounding:3,children:(0,_.jsxs)(o.zd,{height:150,rounding:3,wash:!0,width:300,children:[(0,_.jsx)(s.Z,{hovered:t}),(0,_.jsx)(o.Ee,{alt:n.bt("   ", "Image previewing contents of an item", "itemRep.userRep.previewImage", undefined, true),fit:"cover",naturalHeight:150,naturalWidth:300,role:"presentation",src:(null==r?void 0:r.url)||"",children:(0,_.jsx)(o.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",justifyContent:"center",height:150,padding:3,position:"absolute",top:!0,width:300,children:(null==e||null===(l=e.title)||void 0===l?void 0:l.format)&&(0,_.jsx)(o.X6,{color:"inverse",size:"400",children:e.title.format})})})]})})}})})},4:w.Z,13:x,19:S.ZP,20:P.ZP};function A(e){var t,i;const{component:s,slotIndex:d,item:c,showExpandedHeader:u,story:p,view:m,viewParameter:g}=e,{display_options:y,story_type:v,id:f,content_ids:x}=p||{},{logContextEvent:b}=(0,r.v)(),P=(0,a.useHistory)(),w=null==c?void 0:c.id,S=(0,n.useMemo)((()=>({story_type:v,story_id:f,content_ids:x,article_id:w})),[w,x,f,v]),A=(0,l.Z)({componentType:s,contextLogData:S,impressionType:"Article",loggingId:w,objectIdStr:w,slotIndex:d,viewParameter:g,viewType:m}),k=u?null==y||null===(t=y.item_view_rep_style)||void 0===t?void 0:t.expanded_explore_article_rep_style:null==y||null===(i=y.item_view_rep_style)||void 0===i?void 0:i.explore_article_rep_style,{action:E}=c||{},{url:C=""}=E||{},j=Object.hasOwnProperty.call(T,k)?T[k]:h,R=u?I:()=>{P.push(C),b({event_type:101,component:s,view_type:m,view_parameter:g,aux_data:S})};return(0,_.jsx)(o.xu,{ref:A,children:(0,_.jsx)(j,{...e,onTap:R})})}},748909:(e,t,i)=>{i.d(t,{ZP:()=>f,dZ:()=>y,mR:()=>v});var n=i(883119),a=i(260727),o=i(70582),r=i(55592),l=i(785893);const s=118,d=137,c=80,u=92,p=160,_=186,h=108,m=126,g=4,y=216,v=258;function f({item:e,onTap:t}){const i=(0,r.HG)(),{action:f,cover_images:x,aux_fields:b,title:P,subtitle:w,dominant_colors:S=[]}=e,I=(null==P?void 0:P.format)||"",{background_color:T}=b||{};if(!(I&&x&&f&&T))return null;const A=i?v:y,k=i?_:p,E=i?m:h,C=i?d:s,j=i?u:c,R=(null==w?void 0:w.format)||"",D=x.slice(0,3).map((e=>{var t;return(null===(t=(0,o.Z)({images:e,resolutionPreferences:["200x","236x","400x"]}))||void 0===t?void 0:t.url)||""})),O=(0,a.zI)(T)?"light":"dark";return(0,l.jsx)(n.iP,{onTap:t,tapStyle:"compress",rounding:g,children:(0,l.jsx)(n.xu,{"data-test-id":"stacked-collage-display-card",rounding:g,width:A,height:A,dangerouslySetInlineStyle:{__style:{backgroundColor:T}},overflow:"hidden",children:(0,l.jsxs)(n.xu,{position:"relative",height:A,padding:2,children:[(0,l.jsxs)(n.xu,{marginTop:4,marginBottom:3,children:[(0,l.jsx)(n.kC,{justifyContent:"center",children:(0,l.jsx)(n.xv,{lineClamp:1,align:"center",size:"400",weight:"bold",color:O,children:I})}),R&&(0,l.jsx)(n.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,l.jsx)(n.xv,{lineClamp:1,align:"center",size:"100",color:O,children:null==w?void 0:w.format})})]}),(0,l.jsx)(n.xu,{position:"absolute",left:!0,bottom:!0,children:(0,l.jsx)(n.zd,{height:C,wash:!0,width:j,rounding:g,children:(0,l.jsx)(n.xu,{height:C,width:j,children:(0,l.jsx)(n.Ee,{alt:"",color:S[1],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:D[1]})})})}),(0,l.jsx)(n.xu,{position:"absolute",right:!0,bottom:!0,children:(0,l.jsx)(n.zd,{height:C,wash:!0,width:j,rounding:g,children:(0,l.jsx)(n.xu,{height:C,width:j,children:(0,l.jsx)(n.Ee,{alt:"",color:S[2],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:D[2]})})})}),(0,l.jsx)(n.xu,{display:"flex",justifyContent:"center",left:!0,right:!0,dangerouslySetInlineStyle:{__style:{bottom:"-22px"}},position:"absolute",children:(0,l.jsx)(n.zd,{height:k,wash:!0,width:E,rounding:g,children:(0,l.jsx)(n.xu,{height:k,width:E,children:(0,l.jsx)(n.Ee,{alt:"",color:S[0],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:D[0]})})})})]})})})}},276817:(e,t,i)=>{i.d(t,{Z:()=>s,u:()=>r});var n=i(883119),a=i(785893);const o=258,r=369,l=4;function s({item:e,onTap:t,slotIndex:i}){const{action:s,aux_fields:d,cover_images:c,dominant_colors:u,title:p}=e;if(!p||!c||!s)return null;const _=c.length<=0?[{}]:c.slice(0,2);return(0,a.jsx)(n.iP,{onTap:t,tapStyle:"compress",rounding:l,children:(0,a.jsxs)(n.xu,{alignItems:"center","data-test-id":"style-bubble",display:"flex",height:o,justifyContent:"center",overflow:"hidden",position:"relative",rounding:l,width:r,children:[(0,a.jsx)(n.kC,{children:_.map(((e,t)=>{var l,s,d;return(0,a.jsx)(n.zd,{height:o,wash:!0,width:r/_.length,children:(0,a.jsx)(n.Ee,{alt:"",color:(u||[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:(null===(l=e["474x"])||void 0===l?void 0:l.url)||(null===(s=e["736x"])||void 0===s?void 0:s.url)||(null===(d=e["236x"])||void 0===d?void 0:d.url)||""})},`styleCarousel_bubble${i}_pin${t}`)}))}),(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null==d?void 0:d.button_background_color}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,a.jsx)(n.xv,{align:"center",weight:"bold",children:(0,a.jsx)("span",{style:{color:null==d?void 0:d.button_text_color,margin:"0"},children:p.format})})})]})})}},715912:(e,t,i)=>{i.d(t,{Gd:()=>p,ZP:()=>h,d:()=>_});var n=i(883119),a=i(70582),o=i(55592),r=i(785893);const l=150,s=200,d=108,c=124,u=4,p=3*d,_=3*c;function h({item:e,onTap:t}){const i=(0,o.HG)(),{action:h,cover_images:m,dominant_colors:g,title:y,subtitle:v}=e,f=null==y?void 0:y.format;if(!f||!m||!h)return null;const x=i?s:l,b=i?c:d,P=i?_:p,w=(null==v?void 0:v.format)||"",S=m.slice(0,3);return(0,r.jsx)(n.iP,{onTap:t,tapStyle:"compress",rounding:u,children:(0,r.jsxs)(n.xu,{"data-test-id":"triple-preview-display-card",rounding:u,width:P,children:[(0,r.jsx)(n.zd,{height:x,wash:!0,width:P,rounding:u,children:(0,r.jsx)(n.kC,{alignItems:"stretch",justifyContent:"start",children:S.map(((e,t)=>{var i;const o=(null===(i=(0,a.Z)({images:e,resolutionPreferences:["200x","236x","400x"]}))||void 0===i?void 0:i.url)||"";return(0,r.jsx)(n.xu,{height:x,width:b,children:(0,r.jsx)(n.Ee,{alt:"",color:(g||[])[t],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:o})},o)}))})}),(0,r.jsxs)(n.xu,{marginTop:4,children:[(0,r.jsx)(n.kC,{justifyContent:"center",children:(0,r.jsx)(n.xv,{size:"400",weight:"bold",align:"center",children:f})}),w&&(0,r.jsx)(n.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,r.jsx)(n.xv,{size:i?"200":"100",color:"subtle",align:"center",children:w})})]})]})})}},941313:(e,t,i)=>{i.d(t,{ZP:()=>g,lf:()=>h,wg:()=>m,xR:()=>_});var n=i(883119),a=i(194898),o=i(164301),r=i(937768),l=i(200546),s=i(528219),d=i(55592),c=i(785893);const u=110,p=90,_=299,h=270,m=232;function g(e){var t;const{pinCards:i,isClicked:g,isHovered:y,item:v={},story:f}=e,x=(0,d.HG)(),b=(0,s.Z)(),P=f&&(null===(t=f.objects)||void 0===t?void 0:t.length),{board_name:w,header_text:S,top_image_dominant_color_rgb:I}=v;let T=g?u-4:u,A=g?_-4:_;x||(T=p,A=1===P?"100%":b?m:h);let k=155;return x||(k=b?108:148),(0,c.jsxs)(n.xu,{height:T,display:"flex",paddingY:2,position:"relative",rounding:a.N3,width:A,dangerouslySetInlineStyle:{__style:(0,r.f)(I,g,y)},children:[(0,c.jsx)(l.Z,{}),(0,c.jsx)(n.xu,{width:x?112:100,position:"relative",children:i.map(((e,t)=>(0,c.jsx)(o.Z,{fanOut:y||g,card:e,index:t,size:x?"SMALL":"MOBILE"},t)))}),(0,c.jsxs)(n.xu,{display:"flex",direction:"column",justifyContent:"center",marginStart:x?2:3,width:k,children:[(0,c.jsx)(n.xv,{size:x?"200":"100",children:S}),(0,c.jsx)(n.xv,{lineClamp:2,size:"400",weight:"bold",children:w})]})]})}},478996:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(667294),a=i(883119),o=i(545168),r=i(194898),l=i(941313),s=i(164301),d=i(937768),c=i(200546),u=i(785893);var p=i(55592);const _=700,h={1:l.ZP,3:function(e){const{pinCards:t,isClicked:i,isHovered:n,item:o}=e,{board_name:l,top_image_dominant_color_rgb:p}=o;return(0,u.jsxs)(a.xu,{height:i?165:169,display:"flex",alignItems:"end",justifyContent:"center",paddingX:4,paddingY:3,position:"relative",rounding:r.N3,width:i?232:236,dangerouslySetInlineStyle:{__style:(0,d.f)(p,i,n)},children:[(0,u.jsx)(c.Z,{}),t.map(((e,t)=>(0,u.jsx)(s.Z,{fanOut:n||i,card:e,index:t,size:"DEFAULT"},t))),(0,u.jsx)(a.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:l})]})},4:function(e){var t;const{logContextEvent:i}=(0,o.v)(),{pinCards:n,isHovered:l,item:p,view:_,viewParameter:h}=e,{action:m,board_name:g,header_text:y,ideas_deep_link_url:v,top_image_dominant_color_rgb:f}=p,x=null!==(t=null==m?void 0:m.url)&&void 0!==t?t:v.concat("?ideas_referrer=25");return(0,u.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"end",marginBottom:6,minHeight:377,position:"relative",paddingX:4,paddingY:8,rounding:r.N3,width:236,dangerouslySetInlineStyle:{__style:(0,d.f)(f,!1,l)},children:[n.map(((e,t)=>(0,u.jsx)(s.Z,{fanOut:l,card:e,index:t,size:"LARGE"},t))),(0,u.jsx)(a.xu,{height:168,width:"100%"}),(0,u.jsx)(c.Z,{}),(0,u.jsxs)(a.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"end",children:[(0,u.jsxs)(a.xu,{display:"flex",direction:"column",alignItems:"center",marginTop:5,marginBottom:5,children:[(0,u.jsx)(a.xu,{marginBottom:1,children:(0,u.jsx)(a.xv,{size:"200",weight:"bold",children:y})}),(0,u.jsx)(a.xv,{align:"center",size:"500",weight:"bold",children:g})]}),(0,u.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:1,position:"relative",width:"100%",children:(0,u.jsx)(a.ZP,{color:"white",href:x,size:"lg",onClick:({event:e})=>{e.stopPropagation(),i({event_type:101,view_type:_,view_parameter:h,component:14268,element:13002,object_id_str:p.board_id})},text:"Explore"})})]})]})}},m=["100%","60%"];function g(e){var t,i;const{component:l,isInViewOrNext:s,item:{action:c,board_id:g,ideas_deep_link_url:y,images:v,image_dominant_color_rgb:f},slotIndex:x,story:b={},view:P,viewParameter:w}=e,{logContextEvent:S}=(0,o.v)(),I=(0,p.ZP)(),{display_options:T,objects:A}=b,k=null==A?void 0:A.length,[E,C]=(0,n.useState)(!1),[j,R]=(0,n.useState)(!1),[D,O]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if("desktop"===I){const e=setTimeout((()=>O(!0)),_);return()=>{clearTimeout(e)}}}),[I]);let L=[];const z="desktop"!==I?r.mS:r.S$;(s||"desktop"!==I)&&(L=D?[...v[z]]:[v[z][0]]);const F=3-L.length;for(let n=0;n<F;n+=1)L.push({colorRGB:f,opacity:m[n]});L.reverse();const N=null==T||null===(t=T.item_view_rep_style)||void 0===t?void 0:t.more_ideas_rep_style,M=h[N],B=l||d.k[N],Z=null!==(i=null==c?void 0:c.url)&&void 0!==i?i:y.concat("?ideas_referrer=25");return M&&(0,u.jsx)(a.iP,{href:Z,role:"link",onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),onMouseDown:()=>R(!0),onTap:()=>S({event_type:101,view_type:P,view_parameter:w,component:B,element:13002,object_id_str:g,aux_data:{index:x,total_object_count:k}}),children:(0,u.jsx)(M,{isClicked:j,isHovered:E,pinCards:L,...e})})}},164301:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(883119),a=i(785893);const o={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},r=(e,t,i)=>{let n;switch(i){case"MOBILE":n={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":n={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":n={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:n={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}const a=n[e];return a.border="1px solid #FFFFFF",a.transition="all 150ms ease-out",a};function l({fanOut:e,card:t,index:i,size:l}){const s=o[l],{height:d=s.HEIGHT_PX,url:c,width:u=s.WIDTH_PX,colorRGB:p,opacity:_}=t;let h;return c?h=(0,a.jsx)(n.Ee,{alt:c,fit:"cover",naturalHeight:d,naturalWidth:u,src:c}):p&&_&&(h=(0,a.jsx)(n.xu,{height:s.HEIGHT_PX,width:s.WIDTH_PX,dangerouslySetInlineStyle:{__style:{backgroundColor:`rgba(${p.join(", ")}, ${_})`}}})),(0,a.jsx)(n.xu,{rounding:5,position:"absolute",dangerouslySetInlineStyle:{__style:r(i,e,l)},children:(0,a.jsx)(n.zd,{height:s.HEIGHT_PX,rounding:5,width:s.WIDTH_PX,wash:!0,children:h})})}},200546:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),a=i(194898),o=i(785893);function r(){return(0,o.jsx)(n.xu,{position:"absolute",rounding:a.N3,top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.03)"}}})}},194898:(e,t,i)=>{i.d(t,{N3:()=>n,Ql:()=>a,S$:()=>r,a$:()=>o,mS:()=>l});const n=4,a=.35,o=.5,r="170x",l="136x136"},937768:(e,t,i)=>{i.d(t,{f:()=>a,k:()=>o});var n=i(194898);const a=(e,t,i)=>{return{backgroundColor:`rgba(${e.join(", ")}, ${a=i||t,a?n.a$:n.Ql})`,marginRight:t?"2px":"0px",marginLeft:t?"2px":"0px"};var a},o={1:14114,3:14074,4:14268}},477447:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(616550),a=i(883119),o=i(842625),r=i(725463),l=i(661068),s=i(935057),d=i(55592),c=i(102675),u=i(785893);const p=new Set(["shopping_module_closeup","product_pins","shopping_list","shop_tab_upsell"]),_=e=>null!=e&&e.shop_source||p.has(null==e?void 0:e.story_type)?"ShoppingDynamicHeightGrid":"StoryFeedNonProduct";function h(e){var t,i,p;const{pins_display:h}=(0,s.mB)((0,n.useLocation)().search),{component:m,isInMobileCarousel:g,item:y,slideWidth:v,slotIndex:f,story:x,surface:b,view:P,viewParameter:w}=e,S="desktop"===(0,d.ZP)(),I=S?o.yF:o.tG;if(!y)return null;const{story_type:T,id:A,content_ids:k,display_options:E}=x||{},{pins_display:C}=(null==E?void 0:E.content_display)||{},{id:j,debug:R}=y,D=![3,1].includes(null!=C?C:Number(h)),O={story_type:T,story_id:A,content_ids:k},L=b||_(x),z={auxData:O,componentType:null!==(t=null==x||null===(i=x.display_options)||void 0===i||null===(p=i.content_display)||void 0===p?void 0:p.component_type)&&void 0!==t?t:m,impressionData:O,pinId:j,slotIndex:f,viewData:{pin_id:j},viewParameter:w,viewType:P},F={authDesktopSurface:L,disableHover:!S,pin:y,pinImageCrop:D?{height:I,width:I}:null},N={duploDisablePinCardPadding:g,duploIsSquarePin:D,duploQueryRef:null,trafficSource:"ShoppingDynamicHeightGrid"===L?"shop_feed":void 0},M=(0,u.jsxs)(a.xu,{"data-test-id":r.Kb,children:[(0,u.jsx)(c.ZP,{...z,...F,...N}),R&&(0,u.jsx)(l.Wu,{data:R})]});return D?(0,u.jsx)(a.xu,{flex:"none",width:g?v:I,children:M},j):M}},793516:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({height:e,width:t,src:i}){return(0,a.jsx)(n.xu,{height:e,width:t,children:(0,a.jsx)(n.Ee,{naturalHeight:e,naturalWidth:t,src:i,color:"lightGray",fit:"cover",alt:"",role:"presentation"})})}},670663:(e,t,i)=>{i.d(t,{Z:()=>v});var n=i(667294),a=i(616550),o=i(883119),r=i(545168),l=i(282605),s=i(842625),d=i(894068),c=i(770661),u=i(478473),p=i(785893);const _=({item:e,imagePlaceholderColor:t=u.hK})=>{const{username:i,image_large_url:n,full_name:a,domain_verified:r=!1,is_verified_merchant:l=!1}=e;return(0,p.jsxs)(o.xu,{width:s.yF,children:[(0,p.jsx)(o.xu,{display:"flex",justifyContent:"center",marginBottom:2,children:(0,p.jsx)(d.Z,{size:120,fullName:a||i,src:n||"",color:t})}),a&&(0,p.jsx)(c.Z,{name:a,isDomainVerified:r,isVerifiedMerchant:l})]})};var h=i(793516);const m=.4*s.yF,g=.75*s.yF,y={5:_,1:({item:e={},story:t,imagePlaceholderColor:i=u.hK})=>{var n,a,r;const{username:l,image_large_url:_,full_name:y,id:v,domain_verified:f=!1,is_verified_merchant:x=!1}=e,b=(null==t||null===(n=t.custom_properties)||void 0===n||null===(a=n.preview_image_map)||void 0===a||null===(r=a[v])||void 0===r?void 0:r[0])||"";return(0,p.jsxs)(o.xu,{width:s.yF,height:s.yF,children:[(0,p.jsx)(o.zd,{rounding:4,height:g,width:s.yF,wash:!0,children:(0,p.jsx)(h.Z,{height:s.yF,width:s.yF,src:b})}),(0,p.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:-12,marginBottom:2,children:(0,p.jsx)(d.Z,{size:m,src:_||"",color:i,fullName:y||l})}),y&&(0,p.jsx)(c.Z,{name:y,isDomainVerified:f,isVerifiedMerchant:x})]})},2:({item:e={},story:t})=>{var i,n;const{username:a,image_large_url:r,full_name:l,id:u,domain_verified:_=!1,is_verified_merchant:y=!1}=e,[v="",f=""]=(null==t||null===(i=t.custom_properties)||void 0===i||null===(n=i.preview_image_map)||void 0===n?void 0:n[u])||[];return(0,p.jsxs)(o.xu,{width:s.yF,children:[(0,p.jsxs)(o.xu,{height:s.yF,children:[(0,p.jsx)(o.zd,{rounding:4,height:g,width:s.yF,wash:!0,children:(0,p.jsxs)(o.kC,{children:[(0,p.jsx)(h.Z,{height:s.yF,width:s.yF/2,src:v}),(0,p.jsx)(o.xu,{color:"default",width:2}),(0,p.jsx)(h.Z,{height:s.yF,width:s.yF/2,src:f})]})}),(0,p.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:-12,marginBottom:2,children:(0,p.jsx)(d.Z,{size:m,src:r||"",color:"gray",fullName:l||a})})]}),l&&(0,p.jsx)(c.Z,{name:l,isDomainVerified:_,isVerifiedMerchant:y})]})}};function v(e){var t,i;const{logContextEvent:s}=(0,r.v)(),d=(0,a.useHistory)(),{story:c={},slotIndex:u,component:_,view:h,viewParameter:m,item:g}=e,v=(null===(t=c.display_options)||void 0===t||null===(i=t.item_view_rep_style)||void 0===i?void 0:i.user_rep_style)||5,f=y[v],x=(0,n.useMemo)((()=>({story_type:c.story_type,story_id:c.id,content_ids:c.content_ids,user_id:g.id})),[g,c]),b=(0,l.Z)({contextLogData:x,impressionType:"User",loggingId:g.id,objectIdStr:g.id,slotIndex:u,viewParameter:m,viewType:h});return f?(0,p.jsx)(o.iP,{ref:b,onTap:()=>{s({event_type:101,view_type:h,view_parameter:m,component:_,aux_data:x}),d.push(`/${g.username}`)},children:(0,p.jsx)(f,{...e})}):null}},894068:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(883119),a=i(800326),o=i(434012),r=i(376410),l=i(203601),s=i(785893);function d({color:e,fullName:t,size:i,src:d}){const c=(0,o.ZP)();return(0,s.jsx)(l.q,{children:({hovered:o,onMouseEnter:l,onMouseLeave:u})=>(0,s.jsx)(n.xu,{marginBottom:2,"data-test-id":"category-bubble",onMouseEnter:l,onMouseLeave:u,children:(0,s.jsxs)(n.zd,{height:i,rounding:"circle",width:i,wash:!0,children:[(0,s.jsx)(a.Z,{hovered:o,rounding:"circle"}),(0,s.jsx)(n.Ee,{naturalHeight:i,naturalWidth:i,src:d,color:e,alt:(0,r.nk)(c.bt(" {{ fullName }}", "Logo of {{ fullName }}", "itemRep.userRep.brandLogo", undefined, true),{fullName:t}).join("")})]})})})}},770661:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),a=i(581966),o=i(785893);function r({name:e,isDomainVerified:t,isVerifiedMerchant:i}){return(0,o.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"center",alignContent:"center",gap:1,children:[e&&(0,o.jsx)(n.xv,{inline:!0,weight:"bold",children:e}),(0,o.jsx)(a.Z,{size:"sm",isVerifiedMerchant:i,hasVerifiedIdentity:t})]})}},359149:(e,t,i)=>{i.d(t,{i:()=>l});var n=i(883119),a=i(842625),o=i(785893);function r(){return(0,o.jsx)(n.xu,{width:a.yF})}function l(e){return new Array(e).fill().map(((e,t)=>(0,o.jsx)(r,{},t)))}},291514:(e,t,i)=>{i.d(t,{Z:()=>P,v:()=>g});var n=i(167912),a=i.n(n),o=i(240684),r=i(231869),l=i(996141),s=i(642575),d=i(478996),c=i(477447),u=i(670663),p=i(785893),_;const h=(0,o.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(97270),i.e(39921)]).then(i.bind(i,476089)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 476089}}),m={board_more_ideas_feed_upsell:d.Z,pin:c.Z,user:u.Z,explorearticle:s.Z,productgroup:r.Z};function g(e){return null==e||!e.type||"story"===e.type&&!(e.type in m)?null:"pin"===e.type?e.images["236x"].url:null}const y=void 0!==_?_:_=i(502763);function v(e){const{itemData:t,...i}=e,{slotIndex:n,view:a,item:o}=e,{pinId:r,pinGraphQLRef:l}=t;if(l)return r&&a?(0,p.jsx)(h,{duploQueryRef:l,slotIndex:n,pinId:r,viewType:a}):null;if(null==o||!o.type||"story"===o.type&&!(o.type in m))return null;{const e=m[o.type];return(0,p.jsx)(e,{...i})}}const f=e=>e?{item:e,pinGraphQLRef:null}:null,x=e=>{const t=(0,n.useFragment)(y,e),{pinId:i}=t;return{pinId:i,pinGraphQLRef:t}},b=(0,l.Z)({useGraphQLAdapter:x,useLegacyAdapter:f});function P({pinGraphQLRef:e,...t}){return(0,p.jsx)(b,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.item},children:({data:e})=>e&&(0,p.jsx)(v,{...t,itemData:e})})}},25815:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(883119),a=i(478473),o=i(785893);const r=new Map([["pin",4]]);function l({children:e,itemType:t}){return(0,o.jsx)(n.xu,{marginBottom:r.get(t)||a.mT,children:e})}},478473:(e,t,i)=>{i.d(t,{g5:()=>r,hK:()=>a,mT:()=>o});var n=i(477447);const a="lightGray",o=8,r={itemRep:n.Z,shape:"square",getImage:()=>""}},661785:(e,t,i)=>{i.d(t,{Z:()=>N});var n,a=i(667294),o=i(167912),r=i(883119),l=i(674873),s=i(996141),d=i(842625),c=i(116200),u=i(748909),p=i(276817),_=i(715912),h=i(941313),m=i(937768),g=i(291514),y=i(913164),v=i(865649),f=i(528219),x=i(907323),b=i(285454),P=i(55592),w=i(135836),S=i(390850),I=i(991910),T=i(160897),A=i(421180),k=i(785893);const E=new Set([3,4]),C=new Set([1]),j=({text:e,url:t})=>Boolean(e)&&Boolean(t),R=e=>j(e)&&E.has(e.location),D=e=>j(e)&&C.has(e.location),O=void 0!==n?n:n=i(366234),L=({isMoreIdeasListCard:e,isStyleBubble:t,isStorefrontSpotlightCarousel:i,isSfModuleOnMobile:n,isSmallMobileScreen:a,isStackedCollageDisplayCard:o,isTriplePreviewDisplayCard:r,totalObjectCount:l,containerRef:s,deviceType:c,windowWidth:m,mobileContentVisibleItemCount:g})=>{const y=n?d.tG:d.yF,v="desktop"===c,f="phone"===c;if(r)return v?_.d:_.Gd;if(o)return v?u.mR:u.dZ;var x;if(e)return v?h.xR:1===l?(null===(x=s.current)||void 0===x?void 0:x.clientWidth)||0:a?h.wg:h.lf;if(t)return p.u;if(i)return A.PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS.WIDTH;if(f&&g){const e=Math.floor(g);return Math.min(Math.floor((m-e*d.yt)/g),d.tG)}return y};function z(e){var t,i,n,o,s,u,p,_,h,A,E,C,j,O,z,F;const{componentFallback:N,disableCarouselHeaderModule:M,initialSlotIndex:B=0,storyData:Z,surface:U,view:G,viewParameter:H}=e,{displayOptions:K,title:V,objects:W,id:$="",action:q,storyId:Y,storyType:X,rawStoryData:J,storyGraphqlRef:Q}=Z,[ee,te]=(0,a.useState)(0),ie=(0,a.useRef)(null),ne=(0,b.Z)(),ae=(0,f.Z)(),oe=(0,P.ZP)(),re="desktop"===oe,le="phone"===oe,{width:se=0}=(0,l.Z)()||{};if(!Array.isArray(W))return null;const de=null!==(t=null==K||null===(i=K.contentDisplay)||void 0===i?void 0:i.componentType)&&void 0!==t?t:N,ce=1===(null==K?void 0:K.carouselFadeEnds),ue=W,pe=ue.length,_e={index:ee,carousel_slots:ue},{text:he,url:me,location:ge}=null!=q?q:{},ye={backgroundColor:"default",hoverColor:"default",iconColor:"default"},ve={backgroundColor:"secondary",hoverColor:"secondary",iconColor:"subtle",size:32},fe=null==K||null===(n=K.itemViewRepStyle)||void 0===n?void 0:n.moreIdeasRepStyle,xe=1===fe,be=m.k[fe],Pe=4===(null==K||null===(o=K.itemViewRepStyle)||void 0===o?void 0:o.exploreArticleRepStyle),we=13698===(null==K||null===(s=K.contentDisplay)||void 0===s?void 0:s.componentType),Se=19===(null==K||null===(u=K.itemViewRepStyle)||void 0===u?void 0:u.exploreArticleRepStyle),Ie=20===(null==K||null===(p=K.itemViewRepStyle)||void 0===p?void 0:p.exploreArticleRepStyle),Te=null!==(null==K||null===(_=K.headerDisplay)||void 0===_?void 0:_.expandedTextAlignment),Ae=null==K||null===(h=K.contentDisplay)||void 0===h||null===(A=h.contentVisibleItemCount)||void 0===A?void 0:A.mobile,ke=L({containerRef:ie,isMoreIdeasListCard:xe,isStyleBubble:Pe,isStorefrontSpotlightCarousel:we,isSfModuleOnMobile:ne,isSmallMobileScreen:ae,totalObjectCount:pe,isStackedCollageDisplayCard:Ie,isTriplePreviewDisplayCard:Se,deviceType:oe,windowWidth:se,mobileContentVisibleItemCount:Ae}),Ee=null==K||null===(E=K.contentDisplay)||void 0===E||null===(C=E.carouselDisplayOptions)||void 0===C?void 0:C.navigationType,Ce=re&&0===Ee,je=re&&1===Ee,Re=!re,De=re?d.oX:d.yt,Oe=ue.filter(Boolean),Le=null==K||null===(j=K.contentDisplay)||void 0===j||null===(O=j.gridLayout)||void 0===O?void 0:O.cols,ze="number"==typeof Le?Le:-1,Fe=ze*(re?d.yF:d.tG)+(ze-1)*De,Ne=-1===ze||((null===(z=ie.current)||void 0===z?void 0:z.clientWidth)||0)<Fe?void 0:Fe,Me=(0,T.tD)({slotWidth:ke,containerWidth:(null===(F=ie.current)||void 0===F?void 0:F.clientWidth)||0,gap:De,numberOfSlides:Oe.length,index:ee});return(0,k.jsxs)(r.kC,{direction:"column",width:Ne,children:[V&&!M&&(0,k.jsx)(v.Z,{story:J,storyGraphqlRef:Q,showExpanded:Te}),(0,k.jsxs)(r.xu,{position:"relative",ref:ie,marginBottom:Ce?8:0,children:[Ce&&(0,k.jsx)(S.default,{backNode:(0,k.jsx)(I.Z,{...ye,showFab:!0,iconType:"back"}),carouselData:_e,carouselIndex:ee,componentType:de,forwardNode:(0,k.jsx)(I.Z,{...ye,showFab:!0,iconType:"forward"}),handleCarouselSwipe:e=>{te(e)},isShowingLastSlide:Me,pinId:$,viewParameter:H,viewType:G,contextLogData:fe?{index:ee}:{}}),(0,k.jsx)(w.Z,{componentType:be,containerRef:ie,gap:De,id:"structured-feed-carousel-module",impressionType:fe?"BoardMoreIdeasRep":"Pin",index:ee,shouldBeDragCarousel:Re,slideWidth:ke,viewParameter:H,view:G,children:Oe.map(((e,t)=>{var i;if(t===Oe.length-1&&q&&he&&me&&R(q)){const i=(0,g.v)(e)||"";return i&&(0,a.createElement)(c.Z,{...Z.contentIds?{contentIds:Z.contentIds}:{},buttonText:he,component:de,element:179,previewImageSrc:i,url:me,isInMobileCarousel:le,slideWidth:ke,storyId:Y,storyType:X,view:G,viewParameter:H,key:(0,x.Z)(e,t)})}return(0,k.jsx)(g.Z,{isInViewOrNext:(0,T.Iw)({slotWidth:ke,containerWidth:(null===(i=ie.current)||void 0===i?void 0:i.clientWidth)||0,gap:De,numberOfSlides:Oe.length,index:t,currentIndex:ee}),item:e,isInMobileCarousel:le,slideWidth:ke,slotIndex:B+t,story:J,surface:U,view:G,viewParameter:H,pinGraphQLRef:Q?e:null},(0,x.Z)(e,t))}))}),ce&&ee>0&&(0,k.jsx)(r.xu,{height:"100%",position:"absolute",left:!0,top:!0,width:80,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}}}),ce&&!Me&&(0,k.jsx)(r.xu,{height:"100%",position:"absolute",right:!0,top:!0,width:80,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}}})]}),je&&(0,k.jsx)(r.xu,{position:"relative",marginTop:3,marginBottom:8,width:"100%",children:(0,k.jsx)(S.default,{addEllipsis:!0,alwaysShowNavigationArrows:!0,backNode:(0,k.jsx)(I.Z,{...ve,showFab:!0,iconType:"back"}),carouselData:_e,carouselIndex:ee,componentType:de,ellipsisVariant:"dark",forwardNode:(0,k.jsx)(I.Z,{...ve,showFab:!0,iconType:"forward"}),handleCarouselSwipe:e=>{te(e)},isShowingLastSlide:Me,pinId:$,viewParameter:H,viewType:G,contextLogData:fe?{index:ee}:{},sliderStyleOverride:{padding:"0px"}})}),q&&D(q)&&(0,k.jsx)(r.xu,{marginTop:4,children:(0,k.jsx)(y.Z,{text:he,location:ge,url:me})})]})}const F=(0,s.Z)({useGraphQLAdapter:e=>{const t=(0,o.useFragment)(O,e),{action:i,contentIds:n,displayOptions:a,storyTitle:r,objects:l,storyId:s,storyType:d}=t;return{action:i,contentIds:n,displayOptions:a,title:r,objects:l,rawStoryData:null,storyId:null!=s?s:"",storyType:null!=d?d:"",storyGraphqlRef:t}},useLegacyAdapter:e=>{var t,i,n,a,o,r,l,s,d,c;if(!e)return null;const{action:u,content_ids:p,display_options:_,title:h,objects:m,id:g,story_type:y}=e,v={contentDisplay:{gridLayout:{cols:null==_||null===(t=_.content_display)||void 0===t||null===(i=t.grid_layout)||void 0===i?void 0:i.cols},componentType:null==_||null===(n=_.content_display)||void 0===n?void 0:n.component_type,contentVisibleItemCount:{mobile:null==_||null===(a=_.content_display)||void 0===a||null===(o=a.content_visible_item_count)||void 0===o?void 0:o.mobile},carouselDisplayOptions:{navigationType:null==_||null===(r=_.content_display)||void 0===r||null===(l=r.carousel_display_options)||void 0===l?void 0:l.navigation_type}},carouselFadeEnds:null==_?void 0:_.carousel_fade_ends,itemViewRepStyle:{exploreArticleRepStyle:null==_||null===(s=_.item_view_rep_style)||void 0===s?void 0:s.explore_article_rep_style,moreIdeasRepStyle:null==_||null===(d=_.item_view_rep_style)||void 0===d?void 0:d.more_ideas_rep_style},headerDisplay:{expandedTextAlignment:null==_||null===(c=_.header_display)||void 0===c?void 0:c.expanded_text_alignment}};return{action:u?{location:u.location,text:u.text,url:u.url}:null,contentIds:p,displayOptions:v,title:h?{__typename:""}:null,objects:m,rawStoryData:e,storyId:null!=g?g:"",storyType:null!=y?y:"",storyGraphqlRef:null}}});function N({storyGraphqlRef:e,...t}){return(0,k.jsx)(F,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.story},children:({data:e})=>e&&(0,k.jsx)(z,{...t,storyData:e})})}},913164:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({url:e,text:t,location:i}){return 1===i&&e&&t?(0,a.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(n.ZP,{text:t,href:e})}):null}},865649:(e,t,i)=>{i.d(t,{Z:()=>w});var n,a=i(167912),o=i(616550),r=i(883119),l=i(545168),s=i(658342),d=i(996141),c=i(434012),u=i(593954),p=i(55592),_=i(581966),h=i(785893);const m={1:"start",2:"center"},g={1:"100",2:"300"},y={1:"400",4:"200",3:"500",2:"600"},v=new Set([2,4]),f=void 0!==n?n:n=i(414700);function x({showExpanded:e=!1,view:t,viewParameter:i,storyData:n}){const a=(0,o.useHistory)(),{logContextEvent:d}=(0,l.v)(),c=(0,p.HG)(),{fullName:f,isVerifiedMerchant:x,verifiedIdentityVerified:P,username:w,imageMediumUrl:S}=n.user||Object.freeze({}),I=f||n.titleFormat,{url:T,text:A,location:k,style:E}=n.action||Object.freeze({}),C=T||w||"",j=n.displayOptions||Object.freeze({}),R=j.headerDisplay||Object.freeze({}),D=e?R.expandedTextAlignment:R.textAlignment,O=m[D||1],L=m[R.subtitleAlignment||1],z=g[R.headerSize||1],F=R.headerSize&&y[R.headerSize]?y[R.headerSize]:y[1],N=1===R.subtitleStyle?F:"200",M=(e,t)=>null!=e?e:t,B=M(j.titleTextColor,"default"),Z=(U=j.titleTextColor,G="default",null!=U?U:G);var U,G;const H=M(j.subtitleTextColor,"subtle"),K=1===R.titlePosition,V=!!n.subtitleFormat,W=(0,h.jsx)(r.X6,{size:N,color:H,align:L,children:n.subtitleFormat}),$=(0,h.jsx)(r.X6,{accessibilityLevel:2,size:F,color:B,align:O,children:I}),q=()=>d({component:j.contentDisplayComponentType,element:179,event_type:c?101:102,view_parameter:i,view_type:t});return(0,h.jsx)(r.xu,{marginBottom:c?4:2,children:(0,h.jsxs)(r.kC,{gap:{row:0,column:2},direction:"column",children:[V&&K&&W,(0,h.jsxs)(r.kC,{alignItems:"center",justifyContent:O,children:[w&&S&&(0,h.jsx)(s.qE,{name:w,size:"sm",src:S}),(0,h.jsxs)(r.xu,{marginStart:O===m[1]?2:0,alignItems:"baseline",justifyContent:O,display:"flex",flex:e?"grow":"shrink",children:[C?(0,h.jsx)(u.Z,{id:"sf-header-heading",children:(0,h.jsx)(r.iP,{role:"link",href:C,onTap:({event:e})=>{e.stopPropagation(),(e=>{q();const t=e.replace(/^\/+/,"");a.push(`/${t}`)})(C)},tapStyle:"compress",children:$})}):$,x&&(0,h.jsx)(r.xu,{marginStart:2,children:(0,h.jsx)(_.Z,{hasVerifiedIdentity:Boolean(P),isVerifiedMerchant:x,size:"xs"})})]}),v.has(k)&&T&&(0,h.jsx)(r.xu,{"data-test-id":"sf-header-action-button",children:(0,h.jsx)(b,{headerTitle:I,onClick:q,style:E,text:A,url:T})})]}),V&&!K&&W,n.descriptionFormat?(0,h.jsx)(r.xv,{size:z,color:Z,align:O,weight:"bold",children:n.descriptionFormat}):null]})})}function b({headerTitle:e,onClick:t,style:i,text:n,url:a}){const o=(0,c.ZP)();return 3!==i&&n?(0,h.jsx)(r.xu,{marginStart:6,children:(0,h.jsx)(r.ZP,{text:n,href:a,onClick:t})}):(0,h.jsx)(r.hU,{accessibilityLabel:e||o.bt(" ", "See more", "headerModule.headerModuleActionButton.iconButton", undefined, true),bgColor:"transparent",iconColor:"darkGray",icon:"arrow-forward",size:"sm",role:"link",href:a,onClick:t})}const P=(0,d.Z)({useGraphQLAdapter:e=>{var t,i;const n=(0,a.useFragment)(f,e),{action:o,displayOptions:r,storyTitle:l,subtitle:s,storyDescription:d}=n,c=n.user?{fullName:n.user.fullName,isVerifiedMerchant:n.user.isVerifiedMerchant,verifiedIdentityVerified:null===(t=n.user.verifiedIdentity)||void 0===t?void 0:t.verified,imageMediumUrl:n.user.imageMediumUrl,username:n.user.username}:null,u=r?{titleTextColor:r.titleTextColor,subtitleTextColor:r.subtitleTextColor,contentDisplayComponentType:null===(i=r.contentDisplay)||void 0===i?void 0:i.componentType,headerDisplay:r.headerDisplay}:null;return{user:c,titleFormat:null==l?void 0:l.format,subtitleFormat:null==s?void 0:s.format,descriptionFormat:null==d?void 0:d.format,action:o,displayOptions:u}},useLegacyAdapter:e=>{var t,i;if(!e)return null;const{action:n,title:a,subtitle:o,description:r,display_options:l}=e,s=e.user?{fullName:e.user.full_name,isVerifiedMerchant:e.user.is_verified_merchant,verifiedIdentityVerified:null===(t=e.user.verified_identity)||void 0===t?void 0:t.verified,imageMediumUrl:e.user.image_medium_url,username:e.user.username}:null,d=n?{url:n.url,text:n.text,location:n.location,style:n.style}:null,c=null!=l&&l.header_display?{expandedTextAlignment:l.header_display.expanded_text_alignment,textAlignment:l.header_display.text_alignment,subtitleAlignment:l.header_display.subtitle_alignment,headerSize:l.header_display.header_size,titlePosition:l.header_display.title_position,subtitleStyle:l.header_display.subtitle_style}:null,u=l?{titleTextColor:l.title_text_color,subtitleTextColor:l.subtitle_text_color,contentDisplayComponentType:null===(i=l.content_display)||void 0===i?void 0:i.component_type,headerDisplay:c}:null;return{user:s,titleFormat:null==a?void 0:a.format,subtitleFormat:null==o?void 0:o.format,descriptionFormat:null==r?void 0:r.format,action:d,displayOptions:u}}});function w({storyGraphqlRef:e,...t}){return(0,h.jsx)(P,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.story},children:({data:e})=>e&&(0,h.jsx)(x,{...t,storyData:e})})}},589042:(e,t,i)=>{i.r(t),i.d(t,{default:()=>J});var n=i(167912),a=i(883119),o=i(996141),r=i(282605),l=i(661785),s=i(913164),d=i(842625),c=i(642575),u=i(477447),p=i(670663),_=i(478473),h=i(865649),m=i(785893);const g=()=>(0,m.jsx)(a.xu,{height:d.yF,width:d.yF,color:"secondary"}),y={1:{itemRep:u.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>{var t,i;return(null===(t=e.images)||void 0===t||null===(i=t.orig)||void 0===i?void 0:i.url)||""}},4:{itemRep:c.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>{var t,i;return(null===(t=e.images)||void 0===t||null===(i=t.orig)||void 0===i?void 0:i.url)||""}},2:{itemRep:p.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};var v=i(667294),f=i(116200),x=i(359149),b=i(25815),P=i(285454),w=i(723815),S=i(55592);const I="rgba(0, 0, 0, 0)",T=()=>(0,m.jsx)(a.xu,{height:d.yF,width:d.yF,color:"secondary"}),A={1:{itemRep:u.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>{var t,i;return(null===(t=e.images)||void 0===t||null===(i=t.orig)||void 0===i?void 0:i.url)||""}},4:{itemRep:c.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>{var t,i;return(null===(t=e.images)||void 0===t||null===(i=t.orig)||void 0===i?void 0:i.url)||""}},2:{itemRep:p.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function k({componentFallback:e,dangerouslySetActionUrl:t,initialSlotIndex:i=0,showExpanded:n,story:o,view:r,viewParameter:l}){var s,c,u,p,g,y,k;const E=(0,S.HG)(),C=(null===(s=o.display_options)||void 0===s?void 0:s.content_display)||{},j=C.model_type,R=A[j]||_.g5,D=R.itemRep||T,{action:O}=o,L=t||(null===(c=o.action)||void 0===c?void 0:c.url)||"",z=null!==(u=null===(p=o.display_options)||void 0===p||null===(g=p.content_display)||void 0===g?void 0:g.component_type)&&void 0!==u?u:e,F=null===(y=C.grid_layout)||void 0===y?void 0:y.rows,N="number"==typeof F?F:1,M=null===(k=C.grid_layout)||void 0===k?void 0:k.cols,B="number"==typeof M?M:-1,Z=-1===B,{containerRef:U,itemsToRender:G,actionItem:H}=(0,w.n)({items:o.objects||[],itemWidth:(0,P.Z)()?d.tG:d.yF,itemGap:d.oX,actionItemType:Boolean(O)?"one":void 0,numRows:N}),K=H&&R.deprecatedGetActionImage?R.deprecatedGetActionImage(H):void 0,V=Z?G:o.objects||[],W=V.map(((e,t)=>(0,m.jsx)(b.Z,{itemType:"string"==typeof e.type?e.type:null,children:(0,m.jsx)(D,{component:z,imagePlaceholderColor:I,index:t,item:e,slotIndex:i+t,story:o,view:r,viewParameter:l})},t))),$=!!L&&!(null==O||!O.text)&&K&&(0,m.jsx)(f.Z,{contentIds:o.content_ids,buttonText:O.text,component:z,element:179,previewImageSrc:K,shape:R.deprecatedActionShape,storyId:o.id,storyType:o.story_type,url:L,view:r,viewParameter:l});return(0,m.jsxs)(a.xu,{display:"flex",color:"default",alignItems:"stretch",justifyContent:"start",direction:"column",children:[o.title&&(0,m.jsx)(h.Z,{story:o,showExpanded:n,storyGraphqlRef:null}),Z?(0,m.jsxs)(w.Z,{itemGap:d.oX,containerRef:U,rowAlignment:"center",numRows:N,children:[W,$,N>1&&(0,x.i)(12)]}):(0,m.jsxs)(v.Fragment,{children:[new Array(N).fill(null).map(((e,t)=>(0,m.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",gap:E?d.jC:d.D6,wrap:B<=1,children:B>0&&new Array(B).fill(null).map(((e,i)=>W[t*B+i]))},V[t].id))),$]})]})}function E({componentFallback:e,showExpanded:t=!0,story:i,view:n,viewParameter:o}){var r,l,s,c;const u=((null===(r=i.display_options)||void 0===r?void 0:r.content_display)||{}).model_type,p=(A[u]||_.g5).itemRep||T,g=null!==(l=null===(s=i.display_options)||void 0===s||null===(c=s.content_display)||void 0===c?void 0:c.component_type)&&void 0!==l?l:e,y=(0,P.Z)()?d.tG:d.yF;return(0,m.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[i.title&&(0,m.jsx)(h.Z,{story:i,showExpanded:t,storyGraphqlRef:null}),(0,m.jsx)(a.Rk,{columnWidth:y,renderItem:({data:e,itemIdx:t})=>(0,m.jsx)(p,{component:g,imagePlaceholderColor:I,index:t,item:e,story:i,view:n,viewParameter:o},t),gutterWidth:d.oX,items:i.objects||[],layout:"flexible"})]})}var C=i(674873),j=i(616550),R=i(545168),D=i(658342),O=i(434012);const L=500,z=400;var F=i(593954),N=i(661068);const M=({actionText:e,actionUrl:t,articleId:i,author:n,authorAvatar:o,component:l,contentIds:s,coverImage:d,debug:c,index:u,isFullWidth:p=!1,onImageLoad:_,storyId:h,storyType:g,subtitle:y,title:f,view:x,viewParameter:b,width:P,windowWidth:w})=>{const S=(0,O.ZP)(),I=(0,j.useHistory)(),{logContextEvent:T}=(0,R.v)(),[A,k]=(0,v.useState)(!1),E=(0,r.Z)({loggingId:i,objectIdStr:i,impressionType:"Article",contextLogData:{content_ids:s,story_id:h,story_type:g,article_id:i},slotIndex:u,viewParameter:b,viewType:x,componentType:l});return(0,m.jsx)(F.Z,{id:"sf-hero",children:(0,m.jsxs)(a.xu,{ref:E,width:P,height:"auto",onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:[(0,m.jsx)(a.iP,{onTap:()=>{T({event_type:101,view_type:x,view_parameter:b,component:l,aux_data:{article_id:i,content_ids:s,story_id:h,story_type:g}}),I.push(t)},children:(0,m.jsxs)(a.xu,{height:p?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,m.jsx)(a.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:A?"scale(1.5)":"scale(1)"}},children:(0,m.jsx)(a.Ee,{src:d,alt:S.bt("     ", "Cover image of this shopping spotlight", "hero.heroCoverImage", undefined, true),color:"#fff",onLoad:_,fit:"cover",naturalHeight:400,naturalWidth:400,children:(0,m.jsx)(a.xu,{display:"block",height:"100%",width:"100%",color:"transparentDarkGray",opacity:.3})})}),(0,m.jsx)(a.xu,{width:"100%",position:"absolute",padding:6,marginBottom:p?12:0,bottom:!0,children:(0,m.jsxs)(a.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:A?"translateY(-20px)":"translateY(20px)"}},children:(0,m.jsx)(a.X6,{size:w<=822?"600":w<1e3?"400":w<1100?"500":"600",color:"light",children:f})}),(0,m.jsxs)(a.xu,{display:"block",height:A?"auto":20,overflow:"hidden",dangerouslySetInlineStyle:{__style:{opacity:A?1:0,transition:A?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},children:[(0,m.jsx)(a.xv,{color:"inverse",children:y}),n&&(0,m.jsx)(a.xu,{marginTop:4,children:(0,m.jsxs)(a.kC,{direction:"row",alignItems:"center",children:[(0,m.jsx)(D.qE,{size:"md",src:o,name:n}),"",(0,m.jsx)(a.xv,{color:"inverse",children:n})]})})]}),(0,m.jsx)(a.xu,{width:"74px",marginTop:4,children:(0,m.jsx)(a.zx,{color:"white",size:"lg",onClick:()=>{I.push(t)},text:e})})]})})]})}),void 0!==c&&(0,m.jsx)(N.ZP,{data:c})]})})};var B=i(135836),Z=i(390850),U=i(991910);function G({onImageLoad:e,story:t,view:i,viewParameter:n,component:o,width:r}){var l;const[s,d]=(0,v.useState)(0),c=(0,v.useRef)(null),u=(null===(l=t.objects)||void 0===l?void 0:l.slice(0,3))||[],p={index:s,carousel_slots:u.map((e=>({id:e.id})))};return(0,m.jsxs)(a.xu,{position:"relative",display:"flex",width:r,height:z,justifyContent:"center",alignItems:"end",ref:c,children:[(0,m.jsx)(B.Z,{id:t.id,index:s,slideWidth:r,containerRef:c,children:u.map(((a,l)=>{var s,d,c,u,p;return(0,m.jsx)(M,{actionText:(null===(s=a.action)||void 0===s?void 0:s.text)||"",actionUrl:(null===(d=a.action)||void 0===d?void 0:d.url)||"",articleId:a.id,coverImage:a.cover_images&&(null===(c=a.cover_images[0].originals)||void 0===c?void 0:c.url)||"",debug:a.debug,onImageLoad:e,storyId:t.id,storyType:t.story_type,subtitle:(null===(u=a.subtitle)||void 0===u?void 0:u.format)||"",title:(null===(p=a.title)||void 0===p?void 0:p.format)||"",index:l,isFullWidth:!0,view:i,viewParameter:n,component:o,width:r,windowWidth:r},a.id)}))}),(0,m.jsx)(a.xu,{display:"inlineBlock",height:"auto",position:"absolute",width:"60%",paddingY:5,children:(0,m.jsx)(Z.default,{addEllipsis:!0,pinId:t.id,carouselIndex:s,carouselData:p,handleCarouselSwipe:e=>{d(e)},forwardNode:(0,m.jsx)(U.Z,{showFab:!0,iconType:"forward",iconColor:"inverse"}),backNode:(0,m.jsx)(U.Z,{showFab:!0,iconType:"back",iconColor:"inverse"})})})]})}function H({component:e,onImageLoad:t,story:i,view:n,viewParameter:o,windowWidth:r}){var l;const s=(null===(l=i.objects)||void 0===l?void 0:l.slice(0,3))||[];return(0,m.jsxs)(v.Fragment,{children:[(0,m.jsx)(a.xu,{flex:"grow",dangerouslySetInlineStyle:{__style:{backgroundColor:s[0].dominant_colors[0]}}}),s.map(((a,l)=>{var s,d,c,u,p;return(0,m.jsx)(M,{actionText:(null===(s=a.action)||void 0===s?void 0:s.text)||"",actionUrl:(null===(d=a.action)||void 0===d?void 0:d.url)||"",articleId:a.id,coverImage:a.cover_images&&(null===(c=a.cover_images[0].originals)||void 0===c?void 0:c.url)||"",debug:a.debug,index:l,onImageLoad:t,storyId:i.id,storyType:i.story_type,subtitle:(null===(u=a.subtitle)||void 0===u?void 0:u.format)||"",title:(null===(p=a.title)||void 0===p?void 0:p.format)||"",view:n,viewParameter:o,component:e,width:L,windowWidth:r},a.id)})),(0,m.jsx)(a.xu,{flex:"grow",dangerouslySetInlineStyle:{__style:{backgroundColor:s[2].dominant_colors[0]}}})]})}const K={90:l.Z,88:h.Z,89:s.Z,91:function(e){var t,i;switch(null===(t=e.story.display_options)||void 0===t||null===(i=t.content_display)||void 0===i?void 0:i.pins_display){case 3:case 1:return(0,m.jsx)(E,{...e});default:return(0,m.jsx)(k,{...e})}},101:function({component:e,pwtSurfaceContext:t,story:i,view:n,viewParameter:o}){const{width:r}=(0,C.Z)()||{},l=()=>{t&&t.markConstraintComplete("RenderHeroImages")},s=!r||r>822?3:1;return(0,m.jsx)(v.Fragment,{children:(0,m.jsx)(a.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",width:r,children:3===s?(0,m.jsx)(H,{component:e,onImageLoad:l,story:i,windowWidth:r,view:n,viewParameter:o}):(0,m.jsx)(G,{component:e,onImageLoad:l,story:i,width:r,view:n,viewParameter:o})})})},92:function({story:e}){var t;const i=(0,j.useHistory)(),{user:n,custom_properties:o,action:r}=e||{},{full_name:l,username:s,image_medium_url:c}=n||{},u=l||(null===(t=e.title)||void 0===t?void 0:t.format)||"",{url:p,text:_}=r||{},{image:h}=o||{};if(!p||!_)return null;const g=(0,m.jsxs)(a.xu,{height:"100%",padding:2,display:"flex",justifyContent:"center",alignItems:"center",color:"transparentDarkGray",position:"relative",children:[s&&c&&(0,m.jsx)(a.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,m.jsx)(D.qE,{name:s,size:"sm",src:c})}),u&&(0,m.jsx)(a.xv,{color:"inverse",weight:"bold",children:u})]});return(0,m.jsxs)(a.xu,{marginBottom:4,width:d.yF,children:[(0,m.jsx)(a.iP,{onTap:()=>i.push(p),children:(0,m.jsx)(a.zd,{rounding:2,wash:!0,height:d.yF,children:"string"==typeof h&&h?(0,m.jsx)(a.Ee,{naturalHeight:d.yF,naturalWidth:d.yF,src:h,fit:"contain",alt:u,children:g}):(0,m.jsx)(a.xu,{width:d.yF,height:d.yF,children:g})})}),(0,m.jsx)(a.xu,{marginTop:3,children:(0,m.jsx)(a.ZP,{fullWidth:!0,text:_,href:p})})]})},131:function({componentFallback:e,showExpanded:t=!0,story:i,view:n,viewParameter:o}){var r,l,s,d,c;const u=((null===(r=i.display_options)||void 0===r?void 0:r.content_display)||{}).model_type,p=(y[u]||_.g5).itemRep||g,v=null!==(l=null===(s=i.display_options)||void 0===s||null===(d=s.content_display)||void 0===d?void 0:d.component_type)&&void 0!==l?l:e;return(0,m.jsx)(a.xu,{marginBottom:2,children:(0,m.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"center",direction:"column",children:[i.title&&(0,m.jsx)(h.Z,{story:i,showExpanded:t,storyGraphqlRef:null}),(0,m.jsx)(a.kC,{wrap:!0,gap:2,justifyContent:"center",children:null===(c=i.objects)||void 0===c?void 0:c.map((function(e,t){return(0,m.jsx)(p,{component:v,imagePlaceholderColor:"rgba(0, 0, 0, 0)",index:t,item:e,story:i,view:n,viewParameter:o},t)}))})]})})}};const V=new Set([101]);function W(e){return V.has(e)}var $;const q=void 0!==$?$:$=i(359433);function Y(e){var t;const{componentFallback:i,story:n,view:o,viewParameter:s,width:d,initialSlotIndex:c}=e,{containerType:u,contentIds:p,displayOptions:_,rawStoryData:h,storyId:g,storyType:y,trackingParams:v,storyGraphqlRef:f}=n||{},x=null!==(t=null==_?void 0:_.contentDisplayComponentType)&&void 0!==t?t:i,b=(0,r.Z)({clientTrackingParams:v,componentType:x,contextLogData:{story_id:g,story_type:y,content_ids:p},impressionType:"Story",loggingId:g,slotIndex:c||0,viewParameter:s,viewType:o}),P=function(e){if(null==e)return null;const t=K[e];return t||null}(u);return P?90===u?(0,m.jsx)(a.xu,{ref:b,width:W(u)?void 0:d,children:(0,m.jsx)(l.Z,{...e,story:h,component:x,storyGraphqlRef:f})}):(0,m.jsxs)(a.xu,{ref:b,width:W(u)?void 0:d,children:[(0,m.jsx)(P,{...e,story:h,component:x}),(0,m.jsx)(a.xu,{})]}):null}const X=(0,o.Z)({useGraphQLAdapter:e=>{var t;const i=(0,n.useFragment)(q,e),{displayOptions:a,storyId:o,storyType:r,containerType:l,contentIds:s,trackingParams:d}=i;return{containerType:l,contentIds:s,displayOptions:a?{contentDisplayComponentType:null===(t=a.contentDisplay)||void 0===t?void 0:t.componentType}:null,rawStoryData:null,storyId:null!=o?o:"",storyType:null!=r?r:"",trackingParams:d,storyGraphqlRef:i}},useLegacyAdapter:e=>{var t;if(!e)return null;const{display_options:i,id:n,story_type:a,container_type:o,content_ids:r,tracking_params:l}=e;return{containerType:"number"==typeof o?o:void 0,contentIds:r,displayOptions:i?{contentDisplayComponentType:null===(t=i.content_display)||void 0===t?void 0:t.component_type}:null,rawStoryData:e,storyId:null!=n?n:"",storyType:null!=a?a:"",trackingParams:l,storyGraphqlRef:null}}});function J({storyGraphqlRef:e,...t}){return(0,m.jsx)(X,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.story},children:({data:e})=>e&&(0,m.jsx)(Y,{...t,story:e})})}},528219:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(667294),a=i(55592);function o(){const[e,t]=(0,n.useState)(!1),i=(0,a.HG)();return(0,n.useEffect)((()=>{!i&&window.innerWidth<320&&t(!0)}),[i,t]),e}},907323:(e,t,i)=>{function n(e,t){var i;const n=`${e.type||""} ${t.toString()}`;switch(e.type){case"pin":return e.title||n;case"user":return e.username||n;case"explorearticle":return(null===(i=e.title)||void 0===i?void 0:i.format)||n;case"story":return e.id||n;default:return n}}i.d(t,{Z:()=>n})},285454:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(674873),a=i(842625);function o(){const{width:e}=(0,n.Z)()||{width:0};return e<2*a.yF+a.$H}},272628:(e,t,i)=>{i.d(t,{Pw:()=>n,SB:()=>a,ZP:()=>r,x9:()=>o});const n=80,a=56,o=e=>"phone"===e?a:n;function r(e,t){return t?0:o(e)}},524209:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),a=i(883119),o=i(234983),r=i(434012),l=i(864809),s=i(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:t,showText:i,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const _=(0,r.ZP)(),[h,m]=(0,n.useState)(!1),{dangerousInlineStyle:g,iconColor:y}=(0,l.W)(!!e),v=(0,o.Z)();return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(a.iP,{onTap:()=>{v({component:13534,element:11717,event_type:102}),m(!0)},rounding:"circle",children:(0,s.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:g,display:"flex","data-test-id":"verified-badge-icon",children:[(0,s.jsx)(a.JO,{accessibilityLabel:e?_.bt("   ", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true):_.bt(" ", "Badge icon", "merchantVerification.badge.icon", undefined, true),icon:"workflow-status-ok",color:y,inline:!0,size:d[t]}),i&&!c&&(0,s.jsx)(a.xu,{marginStart:2,children:(0,s.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:g,children:_.bt("    ", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})})]})}),(e||i&&!c)&&(0,s.jsx)(l.Z,{showModal:h,setShowModal:m,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},864809:(e,t,i)=>{i.d(t,{W:()=>u,Z:()=>p});var n=i(667294),a=i(883119),o=i(778833),r=i(234983),l=i(816987),s=i(434012),d=i(643517),c=i(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:i,setShowModal:p}){const _=(0,s.ZP)(),[h,m]=(0,n.useState)(!0),{dangerousInlineStyle:g,iconColor:y}=u(!0),v=(0,r.Z)();return(0,n.useEffect)((()=>{i&&h&&(m(!1),v({event_type:13,component:13534}))}),[i]),(0,c.jsx)(l.ZP,{accessibilityModalLabel:_.bt("     ", "Verified merchant information", "creator.verifiedMerchant.accessibilityModalLabel", undefined, true),isOpen:i,mobileAccessibilityCloseIconLabel:_.bt("", "Close", "Close modal window", undefined, true),onDismiss:()=>{v({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(a.xu,{padding:3,children:(0,c.jsxs)(a.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,c.jsx)(a.xu,{display:"flex",dangerouslySetInlineStyle:g,justifyContent:"center",children:(0,c.jsx)(a.JO,{accessibilityLabel:_.bt("   ", "Merchant verification badge icon", "creator.verifiedMerchant.modalIcon", undefined, true),color:y,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(a.xu,{marginTop:4,children:(0,c.jsx)(a.xv,{color:"shopping",weight:"bold",align:"center",children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:g,children:_.bt("    ", "Verified merchant", "creator.verifiedMerchant.modalHeader", undefined, true)})})}),(0,c.jsx)(a.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:_.bt("      Pinterest", "This retailer meets Pinterest's Merchant Guidelines", "creator.verifiedMerchant.modalText.", undefined, true)})}),e.map((e=>(0,c.jsxs)(a.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(a.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(a.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,o.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,c.jsx)(a.xu,{marginTop:2,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,c.jsx)(a.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,c.jsx)(a.ZP,{accessibilityLabel:_.bt("  ", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true),target:"blank",size:"lg",href:d.vB,text:_.bt("  ", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true)})})]})})})}},571736:(e,t,i)=>{function n(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}i.d(t,{Z:()=>n})},746448:(e,t,i)=>{i.d(t,{CC:()=>n,Ll:()=>o,XF:()=>a});const n=(e,t)=>((e,t,i)=>({x:Math.floor(e*Math.cos(i)),y:Math.floor(t*Math.sin(i))}))(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},463839:(e,t,i)=>{function n(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:t,title:i}){const n=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${t}/`:`/discover/article/${n}/${t}/`}i.d(t,{x:()=>a,y:()=>n})},695255:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(883119),a=i(667294),o=i(396681),r=i(785893);const l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=()=>Array(5).fill().map((()=>l[Math.floor(52*Math.random())])).join("");function d({children:e}){const t=(0,a.useMemo)((()=>e.replace("  "," ").split("").map((e=>({className:s(),content:e})))),[e]);return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(o.Z,{unsafeCSS:t.map((({className:e,content:t})=>`.${e}:before { content: "${t}"; }`)).join(" ")}),t.map((({className:e})=>(0,r.jsx)("span",{className:e},e)))]})}var c=i(260531);const u=e=>e.startsWith("Promoted");function p({children:e,lineClamp:t,size:i,underline:a,weight:o}){const{isAuthenticated:l}=(0,c.B)(),s=l&&u(e);return(0,r.jsx)(n.xv,{size:i,lineClamp:t,underline:a,weight:o,title:s?"":e,children:s?(0,r.jsx)(d,{children:e}):e})}},880143:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(492016),a=i(610686);function o({action:e,board:t,viewer:i}){var o;return(0,n.Z)(i,t)||(0,a.Z)({board:t,viewer:i})&&!(null===(o=t.collaborator_permissions)||void 0===o||!o.includes(e))}},492016:(e,t,i)=>{function n(e,t){const i=t&&t.owner&&t.owner.id;return e.isAuth&&i===e.id}i.d(t,{Z:()=>n})},610686:(e,t,i)=>{function n({board:e,viewer:t}){const{collaborated_by_me:i}=e;return Boolean(t.isAuth&&i)}i.d(t,{Z:()=>n})},733984:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(492016),a=i(610686);function o({board:e,viewer:t}){return(0,n.Z)(t,e)||(0,a.Z)({board:e,viewer:t})}},646824:(e,t,i)=>{i.d(t,{Z:()=>a,v:()=>n});const n=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function a(){if(!n())return[];try{return await navigator.getInstalledRelatedApps()}catch(e){return[]}}},592555:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(512703),a=i(780621),o=i(782131);const r=(e,t)=>{null!=t&&t.disableOriginCheck||(0,o.Z)(e)||(e="/",(0,a.My)("url_reset")),(0,n.Z)(e)}},674873:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294);function a(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function o(){return window.innerWidth}function r(){return window.innerHeight}function l(){return null}function s(){const e=(0,n.useSyncExternalStore)(a,r,l),t=(0,n.useSyncExternalStore)(a,o,l);return null!==e&&null!==t?{height:e,width:t}:null}},722690:(e,t,i)=>{i.d(t,{Z:()=>n});const n={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},792350:(e,t,i)=>{function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>o});class a{static reportGoogleConversion(e,t,i,n){n||(void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,i):a.queuedGoogleConversions.push({id:e,label:t,url:i}))}static reportFacebookConversion(e,t,i){void 0!==window.fbq?i?window.fbq("track",t,i):window.fbq("track",t):a.queuedFacebookConversions.push({id:e,event:t,data:i})}static reportCustomFacebookConversion(e,t,i){void 0!==window.fbq?i?window.fbq("trackCustom",t,i):window.fbq("trackCustom",t):a.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:i})}static reportPinterestConversion(e,t,i){void 0!==window.pintrk?i?window.pintrk("track",t,i):window.pintrk("track",t):a.queuedPinterestConversions.push({id:e,event:t,data:i})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):a.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const i=document.createElement("img");i.setAttribute("height","1"),i.setAttribute("width","1"),i.setAttribute("role","presentation"),i.style.borderStyle="none",i.style.position="absolute",i.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(i,document.body.lastChild)}static reportLinkedInConversion(e,t){const i=document.createElement("img");i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("role","presentation"),i.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),i.style.display="none",document.body.insertBefore(i,document.body.lastChild)}static reportDoubleClickConversion(e,t,i){const n=1e13*Math.random(),a=document.createElement("iframe");a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("frameborder","0"),a.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${i};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${n}?`),a.style.display="none",document.body.insertBefore(a,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){const i=document.createElement("script");t||(i.setAttribute("async",""),i.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),i.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,i){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,i){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==i&&window.location.assign(i)}}),!1};const i=a.queuedGoogleConversions;for(let n=0;n<i.length;n+=1){const o=i[n];o.id===e&&a.reportGoogleConversion(o.id,o.label,o.url,t)}}),document.body.insertBefore(i,document.body.firstChild)}static insertFacebookPixelTag(e){var t,i,n,o,r,l;t=window,i=document,n="script",t.fbq||(o=t.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},t._fbq||(t._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(r=i.createElement(n)).async=!0,r.src="//connect.facebook.net/en_US/fbevents.js",(l=i.getElementsByTagName(n)[0]).parentNode.insertBefore(r,l)),window.fbq("init",e),window.fbq("track","PageView");const s=a.queuedFacebookConversions;for(let d=0;d<s.length;d+=1){const t=s[d];t.id===e&&(t.isCustomEvent?a.reportCustomFacebookConversion(e,t.event,t.data):a.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,i,n,a,o,r;t=window,i=document,n="script",t.twq||(a=t.twq=function(){a.exe?a.exe.apply(a,arguments):a.queue.push(arguments)},a.version="1.1",a.queue=[],(o=i.createElement(n)).async=!0,o.src="//static.ads-twitter.com/uwt.js",(r=i.getElementsByTagName(n)[0]).parentNode.insertBefore(o,r)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}}(),window.pintrk("load",e),window.pintrk("page");const t=a.queuedPinterestConversions;for(let i=0;i<t.length;i+=1){const n=t[i];n.id===e&&a.reportPinterestConversion(e,n.event,n.data)}}}n(a,"queuedGoogleConversions",[]),n(a,"queuedFacebookConversions",[]),n(a,"queuedPinterestConversions",[]),n(a,"queuedTwitterConversions",[]);const o=a},778833:(e,t,i)=>{i.d(t,{Bu:()=>h,Dm:()=>l,I:()=>y,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>_,eT:()=>m,hm:()=>g,yQ:()=>s,ym:()=>f});var n=i(260727);const a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),o=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),l=[...Object.keys(a).map((e=>a[e])),...Object.keys(o).map((e=>o[e]))],s=[...Object.keys(r).map((e=>r[e]))],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",_="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function h({verifiedMerchant:e}){var t,i;const n=null==e?void 0:e.isVerifiedMerchant,a=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_inspirational,o=null==e||null===(i=e.inspirational_signal)||void 0===i?void 0:i.is_eligible_for_storefront_badges;return Boolean(n&&a&&o)}function m(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function g(e){return(null==e?void 0:e.profile_badges)||[]}function y(e,t,i){return t&&i?t.map((e=>i.find((t=>t.id===e.trim())))).filter(Boolean):[]}function v(e){const t=(0,n.oo)(e);if(!t)return"white";const[i,a,o]=t;return(0,n.DW)(i,a,o)<=n.I?"white":"black"}function f(e){const t=e||c[0];return{backgroundColor:t,color:v(t)}}},698901:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(616550),a=i(158645),o=i(836153);function r(){const e=(0,o.S6)(),t=(0,n.useLocation)();return(i,n)=>{let o;const r=e(i);if(null!=n&&n.shouldTrackForPrevLocation){const e=(null==r?void 0:r.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));r&&(o=t?e[t]:e.PinResource)}else if(r){var l,s;o=(0,a.Z)({boardUrl:null===(l=r.board)||void 0===l?void 0:l.url,location:t,pinId:r.id,pinnerUserName:null===(s=r.pinner)||void 0===s?void 0:s.username,storyPinDataId:r.story_pin_data_id,trackingParams:r.tracking_params,trackingParamsMap:r.tracking_params_map})}return o}}},832050:(e,t,i)=>{i.d(t,{Q:()=>d,Z:()=>c});var n=i(667294),a=i(682492),o=i.n(a),r=i(234983),l=i(491190),s=i(260531);function d(e,t){const{setViewContextData:i}=(0,l.sV)(),{requestIdentifier:a}=(0,s.B)(),d=(0,r.Z)(),{viewData:c}=(0,l.SU)();(0,n.useEffect)((()=>{var t;e&&(i({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?o()(c,e.view_data):o()({},c),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:a}))}),[t])}function c(e){const{children:t,log:i}=e;return d(i),t||null}},545168:(e,t,i)=>{i.d(t,{B:()=>s,v:()=>l});var n=i(491190),a=i(946689),o=i(785893);const{Provider:r,useHook:l}=(0,a.Z)("ContextLogger");function s({children:e,value:t}){const{setViewContextData:i}=(0,n.sV)();return t.injectSetViewContextDataFromHook=i,(0,o.jsx)(r,{value:t,children:e})}},234983:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(545168);const a=()=>(0,n.v)().logContextEvent},491190:(e,t,i)=>{i.d(t,{BE:()=>d,Ih:()=>c,SU:()=>u,sV:()=>l});var n=i(667294),a=i(946689),o=i(785893);const{Provider:r,useHook:l}=(0,a.Z)("View");let s;function d(){return s}function c({children:e,initialState:t={}}){const[i,a]=(0,n.useState)(t),l=(0,n.useCallback)((()=>{s={},a({})}),[]),d=(0,n.useCallback)((e=>{s={...s,...e},a((t=>({...t,...e})))}),[]),c=(0,n.useMemo)((()=>({viewContextData:i,clearViewContextData:l,setViewContextData:d})),[i,d,l]);return(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(r,{value:c,children:e})})}function u(){const{viewContextData:e}=l();return e}},946689:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(667294);function a(e,t){return`\n  ${"consumer"===t?`${e}Consumer`:`use${e}`} must be used within a ${e}Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/testing-jest#createhydra-errors for more information.\n  `}function o(e,t){const i=(0,n.createContext)(t),{messageDisplayName:o}=function(e,t){let i=e.slice(1);if(i=i.endsWith("Context")?i:`${i}Context`,t)return{hocDisplayName:`with${e[0].toUpperCase()}${i}(${t})`};return{propsDisplayName:`${e[0].toLowerCase()}${i}`,messageDisplayName:`${e[0].toUpperCase()}${i}`}}(e);i.displayName=o;const{Provider:r}=i,l=({children:e})=>{const t=(0,n.useContext)(i);if(void 0===t)throw new Error(a(o,"consumer"));return e(t)},s=()=>(0,n.useContext)(i);return r.displayName=`${o}Provider`,l.displayName=`${o}Consumer`,{Provider:r,Consumer:l,MaybeConsumer:({children:e})=>e((0,n.useContext)(i)),useMaybeHook:s,useHook:function(){const e=s();if(void 0===e)throw new Error(a(o,"hook"));return e}}}},182833:(e,t,i)=>{i.d(t,{F6:()=>u,Hs:()=>c,Yc:()=>s,vs:()=>d});var n=i(667294),a=i(589598),o=i(780621);const r="theme",l="dark"===(0,a.qn)(r),s=()=>l;function d(){const[e,t]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{t(s())}),[t]),e}const c=()=>{(0,a.Nh)(r,"dark"),(0,o.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,a.L_)(r),(0,o.My)("mweb.dark_mode.disable"),window.location.reload()}},658609:(e,t,i)=>{i.d(t,{Z:()=>r,k:()=>n.k});var n=i(437052),a=i(260531),o=i(785893);const r=({dateFormatType:e,useUTC:t=!0,value:i})=>(0,o.jsx)(a.LC,{children:a=>(0,n.Z)(a.locale,i,e,t)})},437052:(e,t,i)=>{i.d(t,{Z:()=>o,k:()=>n});const n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit"},a=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}};function o(e,t,i,n=!0){const o=a(i);n&&(o.timeZone="UTC");return new Intl.DateTimeFormat(e,o).format(t)}},203598:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),a=i(973935);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r extends n.Component{constructor(...e){super(...e),o(this,"observer",null),o(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}const l=r},112634:(e,t,i)=>{i.d(t,{Mi:()=>a,lO:()=>o});var n=i(946689);const{Provider:a,useMaybeHook:o}=(0,n.Z)("pageContext")},776145:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),a=i(741208),o=i(189917);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends n.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{var i;const{name:t}=this.props,n=this.props.type||"secondary";(0,o.T)({extraData:null!==(i=e.extraData)&&void 0!==i?i:{},errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),a.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(n){a.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:i}=this.state;return t&&i?e?e({error:t,info:i,resetError:this.resetError}):null:this.props.children}}},483240:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i(776145).Z},976753:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),a=i(702664),o=i(303741),r=i(118591),l=i(785893);function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.Component{constructor(...e){super(...e),s(this,"state",{hasCompleted:[],hasDismissed:[]}),s(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:i,viewExperience:n,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",a(e)):i?n(e.placement_id,e.experience_id,i):n(e.placement_id,e.experience_id))})),s(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:i,experience:n,isBackendExperience:a,preventRemoval:o,targeting:r}=this.props,l=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){const{placement_id:e,experience_id:s}=n||{},d=o||2===l;(1===l||d)&&e&&s&&(a?i(n,d):r?t(e,s,d,r):t(e,s,d),this.setState((e=>({hasCompleted:[...e.hasCompleted,s]}))))}})),s(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:n,preventRemoval:a,targeting:o}=this.props,{placement_id:r,experience_id:l}=i||{};i&&!this.state.hasDismissed.includes(l)&&(n?t(i):o?e(r,l,!!a,o):e(r,l,!!a),this.setState((e=>({hasDismissed:[...e.hasDismissed,l]}))))})),s(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:i,predicate:n,transitionType:a}=this.props,{experience_id:o,type:r}=e;if(t&&t.includes(o))return!0;if(null==t||!t.length){if(n&&n(e))return!0;if(i&&i.includes(r))return!0;if(a&&a===r)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,i=this.props.experience;i&&this.shouldRenderExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}function c(e){const t=(0,a.useSelector)((({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0))),i=(0,a.useDispatch)();return(0,l.jsx)(d,{...e,experience:t,completeExperience:(e,t,n,a)=>i((0,o.CK)(e,t,n,!1,{},a)),completeExperienceObject:(e,t)=>i((0,r.Tl)(e,t)),dismissExperience:(e,t,n,a)=>i((0,o.Qu)(e,t,n,void 0,a)),dismissExperienceObject:e=>i((0,r.CF)(e)),viewExperience:(e,t,n)=>i((0,o.UT)(e,t,!1,!1,void 0,n)),viewExperienceObject:e=>i((0,r.dy)(e))})}s(d,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},446956:(e,t,i)=>{i.d(t,{F:()=>p,M:()=>u});var n=i(667294),a=i(702664),o=i(14890),r=i(946689),l=i(303741),s=i(394198),d=i(785893);const{Provider:c,useHook:u}=(0,r.Z)("ExperienceContext");function p({children:e}){const[t,i]=(0,n.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const i={...e};return delete i[t.payload],i}return e}),{}),r=(0,a.useDispatch)(),u=(0,a.useSelector)((e=>e.experiences)),p=(0,n.useMemo)((()=>{const e=(0,o.bindActionCreators)({completeExperience:l.CK,dismissExperience:l.Qu,fetchAllExperiences:l.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:l.pz,mountPlacement:l.N,triggerExperimentsForPlacement:l.kd,viewExperience:l.UT},r);return{...e,mountPlacement:(t,...n)=>{e.mountPlacement(t,...n),i({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{i({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[r,i]),_=(0,n.useMemo)((()=>({experiences:u,mountedPlacements:t,...p})),[u,t,p]);return(0,d.jsx)(c,{value:_,children:e})}},152935:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var n=i(667294),a=i(883119),o=i(976753),r=i(785893);function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s extends n.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:i,idealDirection:n}=this.props,o=i.slice(-3);return(0,r.jsx)(a.J2,{anchor:e,color:"white",idealDirection:n,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,r.jsxs)(a.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,r.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,r.jsx)(a.xv,{color:"default",weight:"bold",children:t})}),(0,r.jsx)(a.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map((e=>(0,r.jsx)(a.xu,{height:60,width:50,paddingX:1,children:(0,r.jsx)(a.zd,{rounding:2,height:60,children:(0,r.jsx)(a.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}var d=i(808520);function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends n.Component{constructor(...e){super(...e),c(this,"dismissRef",(0,n.createRef)()),c(this,"state",{paused:!1}),c(this,"dismissCb",(()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)})),c(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){const{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,i){return t&&e.text.replace("{boardName}",t),i?i(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:i,boardTextOverride:l,flyoutSize:c,fontSize:u,hasFullWidthButton:p=!0,idealDirection:_,useMasonryFlyout:h,noClickToDismiss:m,onClickComplete:g,onClickDismiss:y,placementId:v,positionRelativeToAnchor:f,shouldTimeoutDismiss:x,showCaret:b,textAlign:P,textOverflow:w,textOverrideFn:S,textWeight:I,customizedComplete:T,pulsarZIndex:A,advertiserId:k}=this.props,E=t||(({children:e})=>h?(0,r.jsx)(a.mh,{children:e}):e),C="blue";return(0,r.jsx)(o.Z,{eligibleIds:i,placementId:v,eligibleTypes:[8],targeting:k?{advertiserId:parseInt(k,10)}:null,children:({complete:t,dismiss:i,experience:o})=>{const{display_data:{scroll_to_dismiss:v,scroll_to_dismiss_delay_in_seconds:k=0,...j}}=o,R=v&&e,D=()=>{O(),setTimeout(i,1e3*k)},O=()=>{R&&(window.removeEventListener("scroll",D),window.removeEventListener("touchmove",D))},L=()=>{O(),t()};if(R&&(window.addEventListener("scroll",D),window.addEventListener("touchmove",D)),this.setDefaultPulsarTooltip(j),!j.has_pulsar&&!j.has_tooltip)return L(),null;x&&j.disappearTime&&j.disappearTime>0&&(this.timer=setTimeout((()=>(D(),null)),j.disappearTime));const z=501041===o.experience_id||505086===o.experience_id;return j.has_tooltip&&!j.has_pulsar&&(this.dismissRef.current=D,null==e||e.addEventListener("click",this.dismissCb)),(0,r.jsxs)(n.Fragment,{children:[j.has_pulsar&&(0,r.jsx)(d.Z,{anchor:e,leftOverride:z?342:void 0,onTouch:()=>this.handlePulsarClick(j.has_tooltip,L),paused:this.state.paused,topOverride:z?-5:void 0,zIndex:A&&A.index()}),j.has_tooltip&&(!j.has_pulsar||this.state.paused)&&(j.thumbnail_urls?(0,r.jsx)(s,{anchor:e,dismiss:D,idealDirection:_||"down",text:j.text,thumbnails:j.thumbnail_urls}):(0,r.jsx)(E,{children:(0,r.jsx)(a.J2,{anchor:e,color:"deprecatedBlue",idealDirection:_||"down",onDismiss:m?()=>{}:D,positionRelativeToAnchor:!h&&f,shouldFocus:!1,_deprecatedShowCaret:b,size:c,children:(0,r.jsxs)(a.xu,{column:12,padding:3,children:[(0,r.jsxs)(a.xv,{align:"right"===P?"end":P,color:"inverse",overflow:w,size:u,weight:I||"bold",children:[this.getText(j,l,S),j.secondary_cta_link&&(0,r.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,r.jsx)(a.xv,{size:u,weight:"bold",color:"inverse",children:(0,r.jsx)(a.rU,{display:"inlineBlock",target:"blank",href:j.secondary_cta_link.url,underline:"hover",children:j.secondary_cta_link.text})})})]}),j.sub_text&&(0,r.jsx)(a.xu,{paddingY:2,children:(0,r.jsx)(a.xv,{color:"inverse",size:u,children:j.sub_text})}),(j.dismiss_button_text||j.complete_button_text)&&(0,r.jsxs)(a.xu,{display:"flex",alignItems:"center",marginTop:2,children:[j.dismiss_button_text&&(0,r.jsx)(a.xu,{marginEnd:1,column:6,children:(0,r.jsx)(a.zx,{fullWidth:p,color:C,onClick:()=>{y&&y(),D()},size:"md",text:j.dismiss_button_text})}),j.complete_button_text&&(0,r.jsx)(a.xu,{column:j.dismiss_button_text?6:12,children:T?(0,r.jsx)(a.iP,{fullHeight:!0,onTap:()=>{L(),g&&g()},rounding:2,children:(0,r.jsx)(a.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,r.jsx)(a.xv,{color:"shopping",weight:"bold",children:j.complete_button_text})})}):(0,r.jsx)(a.kC,{justifyContent:"center",children:(0,r.jsx)(a.zx,{fullWidth:p,color:"white",href:j.complete_button_cta_url,role:j.complete_button_cta_url?"link":"button",size:"md",target:j.complete_button_cta_url?"blank":null,text:j.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),L(),g&&g()}})})})]})]})})}))]})}})}}c(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},118591:(e,t,i)=>{i.d(t,{CF:()=>l,Tl:()=>r,dy:()=>s});var n=i(904062),a=i(303741);const o=(e,t)=>(i,o)=>r=>{if(i&&i.id){const l=n.Z.create(e,{placed_experience_id:i.id,extra_context:{}});switch(t){case"dismissed":l.callDelete().then((()=>{r((0,a.fO)())}));break;case"completed":l.callUpdate().then((()=>{o||r((0,a.fO)())}));break;case"viewed":l.callUpdate()}}},r=o("UserExperienceCompletedResource","completed"),l=o("UserExperienceResource","dismissed"),s=o("UserExperienceViewedResource","viewed")},23668:(e,t,i)=>{i.d(t,{HI:()=>r,f8:()=>s,hm:()=>l,sH:()=>o});var n=i(883119),a=i(785893);const o=({children:e})=>(0,a.jsx)(n.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),r=({children:e})=>(0,a.jsx)(n.xu,{padding:2,children:e}),l=({children:e})=>(0,a.jsx)(n.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),s=({children:e})=>(0,a.jsx)(n.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},967297:(e,t,i)=>{i.d(t,{Ec:()=>d,IA:()=>g,LX:()=>c,Mf:()=>m,SF:()=>l,_e:()=>s,l0:()=>r,ml:()=>o,q4:()=>a,zn:()=>n});const n=e=>["feed_card_default","feed_card_video"].includes(e),a=2/3,o=2/3,r=1/3,l="36px",s="28px",d=.4,c=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},_={1:"italics",0:"normal"},h={1:"bold",0:"normal"},m=({color:e,font_style:t,font_weight:i,horizontal_alignment:n,size:a},o)=>({color:e,fontStyle:_[null!=t?t:0],fontWeight:h[null!=i?i:1],horizontalAlignment:u[null!=n?n:0],fontSize:p[o][null!=a?a:0]+"px"}),g=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?c:d},808520:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(883119),a=i(667294),o=i(785893);const r=(e,t,i,n)=>({horizontalOffset:-(n/2-t/2),verticalOffset:-(i/2-e/2)});function l({anchor:e,children:t,zIndex:i,leftOverride:l,topOverride:s}){const d=(0,a.useRef)(null),[c,u]=(0,a.useState)(0),[p,_]=(0,a.useState)(0),{height:h,width:m}=e.getBoundingClientRect();(0,a.useEffect)((()=>{const{current:t}=d;if(e&&t){const{height:e,width:i}=t.getBoundingClientRect(),{horizontalOffset:n,verticalOffset:a}=r(h,m,e,i);u(n),_(a)}}));const g=l||c,y=s||p;return(0,o.jsx)(n.xu,{position:"absolute",zIndex:i?new n.Ry(i):void 0,dangerouslySetInlineStyle:{__style:{left:g,top:y}},ref:d,children:t})}const s=function(e){const{anchor:t,leftOverride:i,onTouch:a,onMouseEnter:r,paused:s,size:d,topOverride:c,zIndex:u}=e;return t?(0,o.jsx)(l,{anchor:t,leftOverride:i,topOverride:c,zIndex:u,children:(0,o.jsx)(n.iP,{fullWidth:!1,onTap:({event:e})=>a(e),onMouseEnter:r,rounding:"circle",children:(0,o.jsx)(n.o3,{paused:s,size:d})})}):null}},71972:(e,t,i)=>{i.d(t,{_:()=>d,a:()=>c});var n=i(667294),a=i(702664),o=i(618446),r=i.n(o),l=i(303741),s=i(260531);const d=({extraContext:e,id:t,shouldUsePlacedExperience:i=!0})=>{const o=(0,n.useRef)(),d=(0,a.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,a.useSelector)((e=>e.experiences[t]));return(0,n.useEffect)((()=>{d((0,l.kd)(t))}),[d,u,t]),(0,n.useEffect)((()=>{i||r()(o.current,e)||(d((0,l.pz)([t],c,e)),o.current=e)}),[d,e,c,t,i]),u},c=e=>(d(e),(0,a.useSelector)((t=>t.experiencesMulti[e.id])))},589504:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),a=(i(303741),i(446956)),o=i(346510),r=(i(394198),i(260531));function l(e){const{mountedPlacements:t,completeExperience:i,dismissExperience:l,experiences:s,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:_}=(0,a.M)(),{isBot:h}=(0,r.B)(),m=e&&!h?(0,o.MQ)(s,t,e):null;return(0,n.useMemo)((()=>({completeExperience:i,dismissExperience:l,experienceForPlacement:m,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:_})),[i,l,m,d,c,u,p,_])}},281332:(e,t,i)=>{i.r(t),i.d(t,{default:()=>P});var n=i(667294),a=i(483240),o=i(468847),r=i(883119),l=i(545168),s=i(810392);function d({isRTL:e,maxItemWidth:t=300,maxColumns:i=16,minColumns:n=2}){let a=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${i*t}\n}\n\n.gridCentered .static {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n\n@media (min-width: ${i*t}px) {\n  .gridCentered .static:nth-child(-n+${i}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static:nth-child(-n+${i}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: ${t}px !important;\n  }\n}\n`;for(let o=n;o<i+1;o+=1){a+=`\n@media (min-width: ${o===n?0:(o-1)*t+1}px) and (max-width: ${o*t}px) {\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: calc(100% / ${o}) !important;\n  }\n}\n`}return a}var c,u,p,_=i(842625),h=i(396681),m=i(835686),g=i(260531),y=i(785893);class v extends n.Component{getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,i="simplified"===t,n=i?_.oX:e,a=i?16:6;return{gutterWidth:null!=n?n:_.ZZ,paddingBottom:a}}render(){const{_batchPaints:e,columnWidth:t,flexible:i,isGridCentered:n,isInitialRender:a,isRTL:o,isTwoColMasonryExpEnabled:l,items:c,layout:u,loadItems:p,logContextEvent:m,masonryRef:g,measurementStore:v,minCols:f,renderItem:x,scrollContainerRef:b,serverRender:P,virtualBufferFactor:w,virtualize:S}=this.props,{gutterWidth:I,paddingBottom:T}=this.getGutters(),A=P?"serverRenderedFlexible":"flexible";let k;n&&a&&(k="gridCentered");const E=()=>(null==b?void 0:b.current)||window;return(0,y.jsxs)("div",{className:k,children:[P&&a&&(0,y.jsx)(h.Z,{unsafeCSS:i?d({isRTL:o,maxItemWidth:(t||_.yF)+I,maxColumns:c.length||_.g5,minColumns:f||_.yc}):(0,s.Z)({isRTL:o,itemWidth:(t||_.yF)+I,maxColumns:c.length||_.g5,minColumns:f||_.yc})}),(0,y.jsx)(r.Rk,{columnWidth:(null!=t?t:_.yF)+I,gutterWidth:0,items:c,layout:i?A:null!=u?u:"basic",loadItems:p,measurementStore:v,minCols:f,_twoColItems:l,_logTwoColWhitespace:l?e=>{m({event_type:14705,component:14468,aux_data:{whitespace_px:e}})}:void 0,ref:e=>{g&&(g.current=e)},renderItem:e=>(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:T,paddingLeft:I/2,paddingRight:I/2}},children:x(e)}),scrollContainer:E,virtualize:S,virtualBufferFactor:w,_batchPaints:e})]})}}function f(e){var t;const{isRTL:i}=(0,g.B)(),{logContextEvent:a}=(0,l.v)(),{checkExperiment:o}=(0,m.F)(),r=null!==(t={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[o("web_masonry_virtual_buffer_factor").group])&&void 0!==t?t:.7,s=(0,n.useRef)(!0);return(0,n.useEffect)((()=>{s.current&&(s.current=!1)}),[]),(0,y.jsx)(v,{...e,isInitialRender:s.current,isRTL:i,virtualBufferFactor:r,logContextEvent:a})}c=v,u="defaultProps",p={gutterWidth:_.ZZ,isGridCentered:!0,minCols:_.yc,paddingStyle:"simplified",virtualize:!0},u in c?Object.defineProperty(c,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[u]=p;var x=i(78109);class b extends n.Component{constructor(...e){super(...e),function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;!e&&t&&t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:i,gutterWidth:n,isGridCentered:r,items:l,layout:s,masonryRef:d,minCols:c,paddingStyle:u,renderItem:p,scrollContainerRef:_,serverRender:h,virtualize:m,_batchPaints:g,isTwoColMasonryExpEnabled:v}=this.props;return(0,y.jsx)(f,{columnWidth:t,flexible:i,gutterWidth:n,isGridCentered:r,isTwoColMasonryExpEnabled:v,renderItem:e=>(0,y.jsx)(a.Z,{name:"MasonryPerfTimingItem",children:p(e)}),items:l,layout:s,loadItems:this.loadItems,masonryRef:d,measurementStore:(0,o.Z)(e),minCols:c,paddingStyle:u,scrollContainerRef:_,serverRender:h,virtualize:m,_batchPaints:g})}}function P({cacheKey:e,columnWidth:t,flexible:i,gutterWidth:n,isAtEnd:a,isFetching:o,isGridCentered:r=!0,renderItem:l,items:s,pinData:d,layout:c,loadItems:u,masonryRef:p,minCols:_,paddingStyle:h,scrollContainerRef:g,serverRender:v=!0,isTwoColMasonryExpEnabled:f,virtualize:P=!0,includeBackgroundImages:w,includeVideos:S}){const{checkExperiment:I}=(0,m.F)(),T=I("web_masonry_batched_paints").anyEnabled;return(0,y.jsx)(x.Z,{isAtEndOfFeed:a,pinData:d,itemCount:s.length,includeBackgroundImages:w,includeVideos:S,children:(0,y.jsx)(b,{cacheKey:e,isTwoColMasonryExpEnabled:f,columnWidth:t,flexible:i,gutterWidth:n,isFetching:o,isGridCentered:r,items:s,layout:c,loadItems:u,masonryRef:p,minCols:_,paddingStyle:h,renderItem:l,scrollContainerRef:g,serverRender:v,virtualize:P,_batchPaints:T})})}},522858:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(667294),a=i(616550),o=i(883119),r=i(483240),l=i(468847);function s({flexible:e,gutterWidth:t,id:i,isRTL:n,itemWidth:a,maxColumns:o,minColumns:r}){const l=i.replace(/\:/g,"\\:"),s=a+t;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:o+1-r},((e,t)=>t+r)).map((i=>{const d=i===o?null:(i+1)*s-1;return`\n      @media (min-width: ${i===r?0:i*s}px) ${d?`and (max-width: ${d}px)`:""} {\n        #${l} .static:nth-child(-n+${i}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${n?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${l} .static {\n        width: calc(100% / ${i}) !important;\n      }\n    `:`\n      #${l} {\n        width: ${i*s}px;\n      }\n\n      #${l} .static {\n        padding: 0 ${t/2}px;\n        width: ${a}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var d=i(842625),c=i(396681),u=i(504289),p=i(835686),_=i(260531),h=i(55592),m=i(785893);function g({cacheKey:e,columnWidth:t,gutterWidth:i,id:g,renderItem:y,items:v,layout:f,loadItems:x,masonryRef:b,minCols:P,scrollContainerRef:w,serverRender:S,resetPositions:I,virtualize:T=!0}){var A;const{isRTL:k}=(0,_.B)(),E=(0,h.ZP)(),C=(0,a.useLocation)(),j="desktop"!==E,R=S?"serverRenderedFlexible":"flexible",D=(0,u.Q0)(C)&&"desktop"===E?d.OS:v.length||d.g5,O=(0,n.useCallback)((()=>(null==w?void 0:w.current)||window),[w]),L=(0,l.Z)(e),[z,F]=(0,n.useState)(!1);(0,n.useEffect)((()=>{I&&!z&&(null==L||L.reset(),F(!0))}),[L,I,z]);const{checkExperiment:N}=(0,p.F)(),M=null!==(A={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[N("duplo_masonry_virtual_buffer_factor").group])&&void 0!==A?A:.7,B=N("web_masonry_batched_paints").anyEnabled;return(0,m.jsxs)("div",{id:g,className:"gridCentered","data-test-id":"masonry-container",children:[S&&g&&(0,m.jsx)(c.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:s({flexible:j,gutterWidth:i||0,id:g,isRTL:k,itemWidth:t||d.yF,maxColumns:D,minColumns:P||d.yc})}),(0,m.jsx)(o.Rk,{columnWidth:t,renderItem:e=>(0,m.jsx)(r.Z,{name:"MobileGridItem",children:y(e)}),gutterWidth:i||1,layout:j?R:null!=f?f:"basic",items:v,loadItems:x,measurementStore:(0,l.Z)(e),minCols:P||d.yc,ref:e=>{b&&(b.current=e)},scrollContainer:O,virtualize:T,virtualBufferFactor:M,_batchPaints:B})]})}},468847:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119);const a={};function o(e){if(null!=e)return a[e]&&a[e].screenWidth===window.innerWidth||(a[e]={screenWidth:window.innerWidth,cache:n.Rk.createMeasurementStore()}),a[e].cache}},810392:(e,t,i)=>{function n({isRTL:e,itemWidth:t=236,maxColumns:i=16,minColumns:n=2}){let a="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static {\n  position: absolute;\n  visibility: hidden;\n}\n";for(let o=n;o<i+1;o+=1){a+=`\n@media (min-width: ${o===n?0:o*t}px) and (max-width: ${(o+1)*t-1}px) {\n  .gridCentered {\n    width: ${o*t}px;\n  }\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n}\n`}return a}i.d(t,{Z:()=>n})},816987:(e,t,i)=>{i.d(t,{ZP:()=>d,b7:()=>r.b7,bN:()=>l,p4:()=>s});var n=i(240684),a=i(55592),o=i(785893),r=i(268893);const l=(0,n.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(51879).then(i.bind(i,127242)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 127242}}),s=(0,n.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(72430).then(i.bind(i,7039)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 7039}});function d(e){const t=(0,a.ZP)(),i=void 0===e.isOpen||e.isOpen;if("desktop"===t&&i){const{isOpen:t,mobileAccessibilityCloseIconLabel:i,mobileAllowScroll:n,mobileHideCloseIcon:a,mobileIsFullscreen:r,mobileIsSlideUp:s,type:d,mobileIsFooter:c,zIndex:u,...p}=e;return(0,o.jsx)(l,{...p})}const{allowClickAndDrag:n,allowMediaPlay:r,allowScroll:d,role:c,size:u,_dangerouslyDisableScrollBoundaryContainer:p,..._}=e;return(0,o.jsx)(s,{..._,isOpen:i})}},7039:(e,t,i)=>{i.r(t),i.d(t,{default:()=>y});var n=i(667294),a=i(883119),o=i(571736),r=i(268893),l=i(434012),s=i(654504),d=i(260531),c=i(640003),u=i(780621),p=i(55592),_=i(290588),h=i(785893);const m=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},g=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function y({accessibilityModalLabel:e,align:t="center",allowScroll:i=!1,children:y,closeOnOutsideClick:v=!0,footer:f,heading:x,mobileAccessibilityCloseIconLabel:b,mobileHideCloseIcon:P,mobileIsFullscreen:w,isOpen:S,mobileIsSlideUp:I,mobileIsFooter:T,onDismiss:A,zIndex:k,subHeading:E,type:C}){const j=(0,l.ZP)(),{isRTL:R}=(0,d.B)(),D=(0,n.useRef)(!1),[O,L]=(0,n.useState)(!1),{setAppFocusState:z}=(0,_.I)(),F=(0,p.ZP)();(0,n.useEffect)((()=>{(0,u.My)(`mweb_unauth.mobile_modal.${C||"unknown_type"}.did_mount.is_open.${String(!!S)}`)}),[S,C]),(0,n.useEffect)((()=>(D.current=(0,o.Z)((()=>{D.current&&L(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&D.current&&(window.cancelAnimationFrame(D.current),D.current=null)})),[]),(0,n.useEffect)((()=>(S?(s.Z.pause(),z(!1)):(s.Z.resume(),z(!0)),()=>{S&&(s.Z.resume(),z(!0))})),[z,S]),(0,n.useEffect)((()=>{const e=S&&!i;return e&&m(),()=>{e&&g()}}),[S,i]);return S?(0,h.jsx)(c.Z,{children:(0,h.jsx)(a.mh,{children:(0,h.jsxs)(a.xu,{"aria-label":e,display:"inlineBlock",zIndex:k||r.ZM,position:"relative",role:"dialog",children:[(0,h.jsx)(a.iP,{accessibilityLabel:j.bt("      ", "Mobile Signup Modal Mask", "mweb.signup_modal.mask", undefined, true),onTap:({event:e})=>{const t=e;(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${C||"unknown_type"}.with_dismissal`,{x:t.clientX,y:t.clientY}),v&&A()},tapStyle:"none",children:(0,h.jsx)(a.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,h.jsxs)(a.xu,{position:"fixed",color:"default","data-test-id":"mobile-signup-mask",dangerouslySetInlineStyle:I?(0,r.Vf)({isFullscreen:w,isTablet:"tablet"===F,isShowing:O,isRelatedInterestsModal:"related_interests_modal"===C}):(0,r.JN)({variant:w?"fullscreen":"tablet"===F?"tablet":T?"footer":"signup"===C?"signup":void 0}),children:[(0,h.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[b&&!P?(0,h.jsx)(a.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,h.jsx)(a.hU,{accessibilityLabel:b,iconColor:"darkGray",icon:"cancel",onClick:A,padding:4,size:"sm"})}):null,x?(0,h.jsx)(a.kC.Item,{flex:"grow",children:(0,h.jsx)(a.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,h.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:b&&!P?{marginRight:R?-10:50,marginLeft:R?50:-10}:{}},children:[w?x:(0,h.jsx)(a.xv,{align:t,weight:"bold",size:"400",children:x}),E?(0,h.jsx)(a.xv,{align:t,children:E}):null]})})}):null]}),(0,h.jsxs)(a.xu,{overflow:"auto",children:[y,f]})]})]})})}):null}},268893:(e,t,i)=>{i.d(t,{JN:()=>d,Vf:()=>c,ZM:()=>l,b7:()=>r,i_:()=>s});var n=i(883119),a=i(182833),o=i(840209);const r=new n.Ry(1e3),l=new n.H3([o.Z]),s=12,d=({variant:e})=>{let t;return t="fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,a.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"},{__style:t}},c=({isFullscreen:e,isTablet:t,isShowing:i,isRelatedInterestsModal:n})=>{let o={border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},r=i?"translateY(0)":"translateY(100vh)";return o.height=e?"100vh":"",t&&n&&(o={...o,width:425,left:"50%",transform:"translateX(-50%)"},r=i?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...o,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:r}}}},992935:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(443426),a=i(260531),o=i(785893);const r=({currency:e,maximumFractionDigits:t,minimumFractionDigits:i,shortform:r,shortformMaximumFractionDigits:l,formatStyle:s,uplimit:d,value:c})=>{const u=(0,n.Z)();return(0,o.jsx)(a.LC,{children:n=>u(n.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:i,shortform:r,shortform_maximum_fraction_digits:l,style:s,uplimit:d})})}},544197:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(846344),a=i(434012),o=i(376410);function r(){const e=(0,a.ZP)();return function(t,i){const a=new Date(t),r=new Date-a,l=Math.floor(r/n.FS),s=Math.floor(r/n.UK),d=Math.floor(r/n.F4),c=Math.floor(r/n.VL),u=Math.floor(r/n.N1),p=e.nbt([" {{ minutes }}  ", "   ({{ minutes }})", "  ({{ minutes }})", " {{ minutes }} ", " {{ minutes }} ", " {{ minutes }}  "], l, " - ", true),_=e.nbt([" {{ hours }}  ", " {{ hours }}  ", "  ({{ hours }})", " {{ hours }} ", " {{ hours }} ", " {{ hours }}  "], s, " - ", true),h=e.nbt([" {{ days }}  ", "   ({{ days }})", "  ({{ days }})", " {{ days }} ", " {{ days }} ", " {{ days }}  "], d, " - ", true),m=e.nbt([" {{ weeks }}  ", "   ({{ weeks }})", "  ({{ weeks }})", " {{ weeks }} ", " {{ weeks }} ", " {{ weeks }}  "], c, " - ", true),g=e.nbt([" {{ years }}  ", "   ({{ years }})", "  ({{ years }})", " {{ years }} ", " {{ years }} ", " {{ years }}  "], u, " - ", true),y=e.nbt([" {{ minutes }} ", "   ({{ minutes }})", "  ({{ minutes }})", " {{ minutes }} ", " {{ minutes }} ", " {{ minutes }} "], l, "minutes ago abbreviated", true),v=e.nbt([" {{ hours }} ", "   ({{ hours }})", "  ({{ hours }})", " {{ hours }} ", " {{ hours }} ", " {{ hours }} "], s, "hours ago abbreviated", true),f=e.nbt([" {{ days }} ", "   ({{ days }})", "  ({{ days }})", " {{ days }} ", " {{ days }} ", " {{ days }} "], d, "days ago abbreviated", true),x=e.nbt([" {{ weeks }} ", "   ({{ weeks }})", "  ({{ weeks }})", " {{ weeks }} ", " {{ weeks }} ", " {{ weeks }} "], c, "weeks ago abbreviated", true),b=e.nbt(["{{ years }} ", "  ({{ years }})", " ({{ years }})", "{{ years }} ", "{{ years }} ", " ({{ years }})"], u, "years ago abbreviated", true);return u>0?(0,o.nk)(i?b:g,{years:u}).join(""):c>0?(0,o.nk)(i?x:m,{weeks:c}).join(""):d>0?(0,o.nk)(i?f:h,{days:d}).join(""):s>0?(0,o.nk)(i?v:_,{hours:s}).join(""):l>0?(0,o.nk)(i?y:p,{minutes:l}).join(""):e.bt(" ", "Just now", " - ", undefined, true)}}},434012:(e,t,i)=>{i.d(t,{ZP:()=>l,oz:()=>o,q6:()=>a});var n=i(946689);const{Provider:a,Consumer:o,useHook:r}=(0,n.Z)("i18n"),l=r},443426:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(434012),a=i(499237);const o=(e,t)=>{const i=t||0,n=10**i,a=+(i?e*n:e).toFixed(8),o=Math.floor(a),r=a-o,l=r>.5-1e-8&&r<.5+1e-8?o%2==0?o:o+1:Math.round(a);return i?l/n:l},r=({maximumFractionDigits:e,minimumFractionDigits:t,style:i,currency:n})=>{const a={maximumFractionDigits:e,minimumFractionDigits:t};return i?{...a,style:i,..."currency"===i?{currency:n,currencyDisplay:"symbol"}:{}}:a},l=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0},s=(e,t)=>{if(t){const{minimumFractionDigits:i,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==i&&void 0!==n)return{minimumFractionDigits:i,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function d(){const e=(0,n.ZP)();return(t,i,n)=>{let d=0,c=0;const u=n&&n.style||void 0,p=n&&n.shortform||!1,_=n&&n.uplimit||void 0,h=n&&n.currency||void 0,m=!!_&&i>=_,g=_&&m?_:i;if("currency"===u){const{minimumFractionDigits:e,maximumFractionDigits:i}=s(t,h);d=void 0===n||void 0===n.maximum_fraction_digits?i:n.maximum_fraction_digits,c=void 0===n||void 0===n.minimum_fraction_digits?e:n.minimum_fraction_digits}else d=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,c=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits;if(p&&g>999&&(d=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,c=0),d<c)return String(g);let y=g,v="";const f=[{"100M":{value:1e8,localeKey:e.bt("", "", "Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}},{"10k":{value:1e4,localeKey:e.bt("", "", "Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}}],x=[{b:{value:1e9,localeKey:e.bt("", "B", "Abbreviation for one billion.", undefined, true)}},{m:{value:1e6,localeKey:e.bt("", "M", "Abbreviation for one million.", undefined, true)}},{k:{value:1e3,localeKey:e.bt("", "k", "Abbreviation for one thousand.", undefined, true)}}],b=/^zh|ja|ko/.test(t);if(p&&g>999){const e=b?f:x;for(let t=0;t<e.length;t+=1){const i=Object.keys(e[t])[0],n=e[t][i].value;if(g>=n){y=o(g/n*Math.pow(10,d))/Math.pow(10,d),v=e[t][i].localeKey;break}}}if(null==y)return"";const P=y.toLocaleString([l(t)&&"ar-SA"!==t?t:"en-US"],r({maximumFractionDigits:d,minimumFractionDigits:c,currency:h,style:u}));return v&&v.length>0?(0,a.Z)(e.bt("{{formattedNumber}} {{numberSuffix}}", "{{formattedNumber}}{{numberSuffix}}", "i18n.usePrettyNumberFormat.prettyNumberFormat", undefined, true),{formattedNumber:P,numberSuffix:v})+(m?"+":""):P+(m?"+":"")}}},282605:(e,t,i)=>{i.d(t,{F:()=>s,Z:()=>l});var n=i(667294),a=i(545168),o=i(654504);const r={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function l({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:l,contextLogData:s,clientTrackingParams:d,elementType:c,impressionAuxFields:u,inImpressionExp:p,impressionType:_,impressionsFramework:h,isPaused:m,loggingId:g,objectIdStr:y,slotIndex:v,trackCarousel:f,viewData:x,viewParameter:b,viewType:P}){const{logContextEvent:w}=(0,a.v)(),S=h||o.Z,I=(0,n.useRef)(null),T=n=>{const a=r[_],o=a.idType;let p={clientTrackingParams:d,endTime:n.endTime,[o]:g,slotIndex:v,time:n.startTime,renderDuration:n.endTime-n.startTime,type:t,...u,forcedExit:"removed"===n.forcedExit?0:void 0};var h,m,S,T;"Pin"===_&&(p={...p,pinCellWidth:(null===(h=I.current)||void 0===h?void 0:h.getBoundingClientRect().width)||0,pinCellHeight:(null===(m=I.current)||void 0===m?void 0:m.getBoundingClientRect().height)||0,windowWidth:null===(S=window)||void 0===S?void 0:S.innerWidth,windowHeight:null===(T=window)||void 0===T?void 0:T.innerHeight});const A={component:l,object_id_str:y,view_type:P,view_data:x||{},view_parameter:b};if(f){if(e){var k,E,C;w({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...p,carouselDataId:Number(e.id),carouselSlotId:(null===(k=e.carousel_slots)||void 0===k?void 0:k[null!==(E=e.index)&&void 0!==E?E:0])&&Number(e.carousel_slots[null!==(C=e.index)&&void 0!==C?C:0].id),slotIndex:e.index}]},...A,aux_data:{...s}})}}else w({clientTrackingParams:d,event_type:a.eventType,...A,element:c,event_data:{[a.impressionType]:"Story"===_?p:[p]},aux_data:{closeup_navigation_type:i,...s}})},A=(0,n.useCallback)((()=>{try{I.current instanceof HTMLElement&&S.start(I.current).onExitViewport(T).setDebugId(g||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[I.current]);(0,n.useEffect)((()=>(p&&!S.inExperiment&&S.setExperimentStatus(!0),m||A(),()=>{I.current instanceof HTMLElement&&S.stop(I.current)})),[A]);const k=(0,n.useRef)(m);return(0,n.useEffect)((()=>{k.current&&!m&&A(),k.current=m}),[m,A]),I}const s=({children:e,...t})=>e({impressionTrackerRef:l(t)})},376410:(e,t,i)=>{i.d(t,{Wc:()=>s,bF:()=>c,nk:()=>l,r7:()=>u});var n=i(667294),a=i(785893);function o(e,t,i){return e.split(i).map((e=>{if(e.match(i)){const i=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,i))return t[i]}return e}))}const r=/(\{\{\s*\w+\s*\}\})/g;function l(e,t){return o(e,t,r)}function s(e,t){return o(e,t,r).join("")}const d=/(\{\s*\w+\s*\})/g;function c(e,t){return o(e,t,d)}const u=({text:e})=>Array.isArray(e)?e.map(((e,t)=>(0,a.jsx)(n.Fragment,{children:e},t))):e},344590:(e,t,i)=>{i.d(t,{Rq:()=>o,Vf:()=>r,jd:()=>l,k8:()=>d,oy:()=>s});var n=i(7125),a=i(895799);const o=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,l=e=>window.innerHeight>=748&&o(e),s=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)},d=()=>{if(s()){n.U2(a.oj)||(n.t8(a.oj,String(!0),(0,n.kZ)(a.oj)),"undefined"!=typeof window&&window.location.reload(!0))}}},154247:(e,t,i)=>{i.d(t,{P:()=>o,Z:()=>a});var n=i(702664);function a(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function o(){const e=(0,n.useSelector)((({experiences:e})=>e));return!!e&&a(e)}},339736:(e,t,i)=>{i.d(t,{Z:()=>a});const n=28;function a(e,t,i=n){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let a;a=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,r=a?new Date(a):o;return r.setDate(r.getDate()+i),(new Date).getTime()<r.getTime()}},747944:(e,t,i)=>{i.r(t),i.d(t,{DEFAULT_HEIGHT:()=>c,DEFAULT_PADDING_Y:()=>u,FixedFooter:()=>v,FixedHeader:()=>y});var n=i(667294),a=i(883119),o=i(182833),r=i(654504),l=i(762772),s=i(835686),d=i(785893);const c=64,u=3,p=100,_=44,h="0px 0px 8px rgba(0, 0, 0, 0.1)",m="1px solid #efefef";function g({children:e,footerConfig:t,headerConfig:i,height:l,hideOnScroll:_,hideOnScrollState:{isHidden:g,updateHiddenState:y},noPadding:v,paddingY:f=u,type:x,zIndex:b}){const{headerLimitedOverflow:P,ignoreObstructions:w,zIndexForGestaltBug:S}=i||{},{appUpsellFooterConfig:I,footerInLego:T,navFooterConfig:A}=t||{},k=!!I,E="header"===x?"top":"bottom",{anyEnabled:C}=(0,s.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),j=(0,o.vs)(),R=C?j:(0,o.Yc)(),D=(0,n.useRef)(null),O=(0,n.useRef)(null);(0,n.useEffect)((()=>{try{if(!w){const e=D.current;O.current=P&&e&&Array.isArray(e.children)?e.children[0]:e,O.current instanceof HTMLElement&&r.Z.addObstruction(E,O.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{w||O.current instanceof HTMLElement&&r.Z.removeObstruction(E,O.current)}}),[w,P,E,R]);const L="top"===E?"relative":"fixed",z=v?0:f,F=(null!=l?l:c)+((null==i?void 0:i.overrideTop)||0),N=_||A?{transition:T?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...g?{transform:`translateY(${"top"===E?-F:F}px)`,opacity:T?0:1}:Object.freeze({})}:{},M="relative"!==L||null!=i&&i.noGutter?0:2,B=M?-M:0,Z=R?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let U,G;return R&&("header"===x?U=-1:G=-1),(0,d.jsx)(a.xu,{ref:D,dangerouslySetInlineStyle:{__style:{top:U,bottomStyle:G,...!b||S?{zIndex:S||1}:Object.freeze({}),...P?{background:"transparent",overflow:"hidden",paddingBottom:p,marginBottom:-p,pointerEvents:"none"}:Object.freeze({}),...null!=i&&i.hasBorder?{borderBottom:m}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...N}},zIndex:S?void 0:b,"data-test-id":x,display:k?"flex":void 0,height:l&&!T?l:void 0,position:L,bottom:"footer"===x,top:"header"===x,left:!0,right:!0,marginStart:T?"auto":B,marginEnd:T?"auto":B,onTransitionEnd:()=>{(_||A)&&O.current&&(g?r.Z.removeObstruction(E,O.current):r.Z.addObstruction(E,O.current))},width:T||"fixed"!==L?void 0:"100%",children:(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==i?void 0:i.isTranslucent)&&Z||(null==i?void 0:i.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:T?k?void 0:null!=l?l:c:"100%",boxShadow:T?h:void 0,marginBottom:!T||null!=A&&A.docked?void 0:16,...P?{pointerEvents:"auto"}:Object.freeze({}),...null!=i&&i.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==x||v?0:4)+M,paddingY:z,position:"relative",width:A?A.footerWidth:k?void 0:"100%",rounding:!T||null!=A&&A.docked?void 0:"pill",display:T||null!=t&&t.alignCenter?"flex":void 0,marginStart:T?"auto":void 0,marginEnd:T?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:y}):e})})}function y({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:i,isTranslucent:n,isTransparentBackground:o,noGutter:r,overrideTop:s,useRoundedCorners:c,zIndexForGestaltBug:p,...h}){const{noPadding:m,paddingY:y=u,zIndex:v}=h,f=m?0:y;return(0,d.jsx)(a.Le,{top:s||0,height:t?_+2*f*4:void 0,zIndex:v||void 0,children:(0,d.jsx)(l.Z,{hideOnScroll:h.hideOnScroll,children:a=>(0,d.jsx)(g,{...h,hideOnScrollState:a,type:"header",headerConfig:{isTranslucent:n,isTransparentBackground:o,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:i,noGutter:r,overrideTop:s,zIndexForGestaltBug:p,useRoundedCorners:c}})})})}function v({alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:n,navFooterConfig:a,...o}){return(0,d.jsx)(l.Z,{appUpsellFooterConfig:t,hideOnScroll:o.hideOnScroll,navFooterConfig:null==a?void 0:a.scrollConfig,children:r=>(0,d.jsx)(g,{...o,hideOnScrollState:r,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:n,navFooterConfig:a}})})}},762772:(e,t,i)=>{i.d(t,{Z:()=>l,m:()=>r});var n=i(667294),a=i(145021);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const r=20;class l extends n.Component{constructor(...e){var t;super(...e),o(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!(null===(t=this.props.navFooterConfig)||void 0===t||!t.isDockedNavOnPlp)}),o(this,"lastScrollPos",0),o(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),o(this,"handleScroll",(0,a.Z)((()=>{var e;const{appUpsellFooterConfig:t,navFooterConfig:i}=this.props,{isHidden:n}=this.state,a=window.scrollY,o=a-this.lastScrollPos;let l="none";const{scrollHeight:s,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(s)&&!Number.isNaN(d))if(o<0){const e=window.scrollMinY||0;l=a<=Math.abs(e+Math.max(o,r))?"start":"none"}else{l=a>=(window.scrollMaxY||s-d)-Math.max(o,r)?"end":"none"}const c=null!=i&&i.isModal?0:55;if(t)if(o>r&&n&&a>=500){t.shouldShowAfterScroll()&&(this.updateHiddenState(!1),null==i||i.onScroll(!1))}else(o<-r&&!n||a<=c)&&(this.updateHiddenState(!0),null==i||i.onScroll(!0));else null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===l&&!n||a<=c?(this.updateHiddenState(!0),null==i||i.onScroll(!0)):(a>c||"end"===l)&&n&&(this.updateHiddenState(!1),null==i||i.onScroll(!1)):(o<-r||"start"===l)&&n||a<=c?(this.updateHiddenState(!1),null==i||i.onScroll(!1)):(o>r||"end"===l)&&!n&&(this.updateHiddenState(!0),null==i||i.onScroll(!0));this.lastScrollPos=a}),30))}componentDidMount(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(t){window.console.error(t),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){var t,i,n,a;!e.hideOnScroll&&this.props.hideOnScroll||(null===(t=e.navFooterConfig)||void 0===t||!t.isDockedNavOnPlp)&&null!==(i=this.props.navFooterConfig)&&void 0!==i&&i.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(n=e.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp&&(null===(a=this.props.navFooterConfig)||void 0===a||!a.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,navFooterConfig:t}=this.props,{isHidden:i}=this.state;return e({isHidden:!(null!=t&&t.forceShow)&&i,updateHiddenState:this.updateHiddenState})}}},714376:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(883119),a=i(842625),o=i(535225),r=i(55592),l=i(785893);const s=({children:e,roundedForLargeDevice:t})=>{const i="phone"!==(0,r.ZP)()&&t;return(0,o.V)()?(0,l.jsx)(n.xu,{marginStart:-a.D6,marginEnd:-a.D6,rounding:i?6:void 0,overflow:i?"hidden":void 0,children:(0,l.jsx)(o.C,{value:!1,children:e})}):e}},340439:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var n=i(883119),a=i(842625),o=i(344590),r=i(535225),l=i(260531),s=i(785893);const d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:i=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:p=!1})=>{const _=(0,l.B)(),h=(0,o.jd)(_.userAgent.platform)?o.Vf:0;return(0,s.jsx)(n.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${h}px)`:c,paddingX:d?a.D6:void 0,paddingY:i||u?void 0:3,children:(0,s.jsx)(r.C,{value:!!d,children:e})})}},770722:(e,t,i)=>{function n(e,t){if("object"==typeof e&&"object"==typeof t){const i=Object.keys(e),n=Object.keys(t);return i.length===n.length&&i.every((i=>e[i]===t[i]))}return e===t}i.d(t,{Ak:()=>n,_Y:()=>a,qe:()=>l,xZ:()=>r});const a=(e,t)=>e.length===t.length&&e.every(((e,i)=>n(e,t[i]))),o=(e,t)=>e.length===t.length&&e.every(((e,i)=>e===t[i])),r=(e,t=o)=>i=>{const n=[];return function(...a){const o=this,r=n.find((e=>e.context===o&&t(e.args,a)));if(r)return r.result;const l={context:o,args:a,result:i.apply(this,a)};return n.push(l),e&&n.length>e&&n.shift(),l.result}},l=r(1);r()},751806:(e,t,i)=>{function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>r});const a=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1),n(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}getAppState(){return this.windowInFocus?0:void 0}},o=e=>{if(e.isHidden){const{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach((e=>e(t)))}else a.windowInFocus=!0,a.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>o({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>o({isHidden:!1}))),window.addEventListener("blur",(()=>o({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>o({isHidden:!1}))),window.addEventListener("pagehide",(()=>o({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const r=a},976641:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(835686);const a=Object.freeze({analytics:{organic:"web_sce_organic_analytics",monetized:"web_sce_monetized_analytics"},pinStats:{organic:"web_sce_organic_pin_stats",monetized:"web_sce_monetized_pin_stats"}});function o(e){const{checkExperiment:t}=(0,n.F)();t("sce_lightswitch_organic"),t("sce_lightswitch_monetized");const i=a[e];return()=>t(i.organic).anyEnabled||t(i.monetized).anyEnabled}},718199:(e,t,i)=>{i.d(t,{G7:()=>c,Nl:()=>p,WE:()=>d,l6:()=>u,rh:()=>s});var n=i(42633),a=i(437052),o=i(639429),r=i(499237);const l=e=>e.checkExperiment("web_ps4p").anyEnabled;function s(e,t,i,a,r=!1){var s,d,c;if(!t.isAuth)return!1;const{creator_analytics:u,public_creator_analytics:p}=e,_=!!e.story_pin_data_id,h=(0,o.Nc)({pin:e,isSCEEnabled:r})||(0,o.o)(u),m=(null===(s=e.board)||void 0===s?void 0:s.privacy)===n.Z.BoardPrivacy.PUBLIC,g=((null===(d=e.board)||void 0===d?void 0:d.privacy)===n.Z.BoardPrivacy.PROTECTED||m)&&!e.is_repin&&[t.id,a].includes(null===(c=e.pinner)||void 0===c?void 0:c.id);return h||t.isPartner&&g||l(i)&&_&&g||(0,o.pU)(p)}function d(e,t,i,n,a,o){return e.isAuth&&!!t&&(i||n)&&!(null==a||!a.isLoaded)&&!o}function c(e,t){return(0,r.Z)(t.nbt([" {{ count }}  ", " {{ count }}  ", " {{ count }}  ", " {{ count }}  ", " {{ count }}  ", " {{ count }}  "], e, "Previous {{ count }} days from current date", true),{count:e})}function u(e,t){return(0,r.Z)(t.nbt([" {{ count }}  ", "  ({{ count }})", "  ({{ count }})", " {{ count }} ", " {{ count }} ", " {{ count }} "], e, "analytics.utils", true),{count:e})}function p({i18n:e,isRealtime:t,humanizedTimeSinceLastUpdate:i,displayLifetime:n,numDays:o,selectedDateRange:l,locale:s}){const d=[];if(o){const t=n?(0,r.Z)(e.nbt(["      {{n}}    {{startDate}}  {{endDate}}.", "      {{n}}    {{startDate}}  {{endDate}}.", "      {{n}}    {{startDate}}  {{endDate}}.", "      {{n}}    {{startDate}}  {{endDate}}.", "      {{n}}    {{startDate}}  {{endDate}}.", "      {{n}}    {{startDate}}  {{endDate}}."], o, "pinstats.toplineMetrics.description", true),{n:o,startDate:(0,a.Z)(s,l.startDate,a.k.NUMERIC),endDate:(0,a.Z)(s,l.endDate,a.k.NUMERIC)}):(0,r.Z)(e.nbt(["      {{n}}      .", "      {{n}}      .", "      {{n}}      .", "      {{n}}      .", "      {{n}}      .", "      {{n}}      ."], o, "pinstats.toplineMetrics.description", true),{n:o});d.push(t)}return t?d.push(e.bt("     .", "Metrics are updated in real-time.", "pinstats.PinnerToplineMetrics.description", undefined, true)):i&&d.push((0,r.Z)(e.bt("    {{ timeSince }}.", "Metrics updated {{ timeSince }}.", "analytics.header.disclaimer.metricsUpdated", undefined, true),{timeSince:i})),d.join(" ")}},481156:(e,t,i)=>{function n(e,t,i){return!(!(e&&e.trim().length>0&&t)||i)}i.d(t,{r:()=>n})},257877:(e,t,i)=>{i.d(t,{P:()=>l,t:()=>s});var n=i(904062),a=i(162474);const o=()=>{};const r={complaint:function(e,t){n.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){n.Z.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){n.Z.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){n.Z.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){(0,a.Z)({url:e.undo?`/v3/news_hub/${e.newsId}/pin/${e.pinId}/undo/`:`/v3/news_hub/${e.newsId}/pin/${e.pinId}/hide/`,method:"PUT"}).then((()=>t()))},promotedComplaint:function(e,t){n.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){(0,a.Z)({url:e.undo?`/v3/p2p/${e.pin}/unhide/`:`/v3/p2p/${e.pin}/hide/`,method:"PUT"}).then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){n.Z.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){n.Z.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){n.Z.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){(0,a.Z)({url:e.undo?`/v3/search/${e.pin_id}/unhide/`:`/v3/search/${e.pin_id}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then((()=>t()))}},l=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,i=o){const n=e?r[e]:null;return n?n(t,i):i()}},728036:(e,t,i)=>{i.d(t,{EF:()=>p,Iv:()=>d,Ud:()=>s,hP:()=>l,nb:()=>u,oK:()=>c});var n=i(376410),a=i(257877),o=i(744589);const r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function l({boardFollowedByMe:e,feedbackType:t,viewParameter:i,promotion:n,recommendationReason:a,pinnerFollowedByMe:o}){if(n&&!n.isDownstreamPromotion)return"promoted";if(t)return t;if(a){if("FOLLOWED_INTEREST"===a.reason)return"topic";if("FOLLOWING_FEED"!==a.reason&&"RECENT_FOLLOWED_BOARD"!==a.reason)return a.hasBoard?"pfyBoard":"pfy"}if(e||o)return"followed";switch(i){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function s({feedback:e,i18n:t,makeNavigateLink:i}){var a,o,l,s,d,c,u,p;switch(e.type){case"pfy":return t.bt("     ", "This Pin was inspired by your recent activity", "Pin feedback reason", undefined, true);case"pfyBoard":const{recommendationReasonBoard:_}=e;return _?(0,n.nk)(t.bt("      {{ boardLink }}", "This Pin was inspired by your board {{ boardLink }}", "Pin feedback - inspired by your board", undefined, true),{boardLink:i("navigation",_.url,_.name)}):null;case"topic":const{sourceInterest:h}=e;return h?(0,n.nk)(t.bt("    {{ formattedTopic }}", "This Pin was inspired by {{ formattedTopic }}", "Pin feedback", undefined, true),{formattedTopic:i("topicUrl",`/topics/${h.url_name}`,h.name)}):null;case"followed":const{followed:m}=e;return"pinner"===m.type?(0,n.nk)(t.bt("   {{ formattedPinner }}    ", "This Pin is from {{ formattedPinner }}, a profile you follow", "Pin feedback", undefined, true),{formattedPinner:i("pinnerUrl",`/${null!==(a=null===(o=m.pinner)||void 0===o?void 0:o.username)&&void 0!==a?a:""}`,r(null!==(l=null===(s=m.pinner)||void 0===s?void 0:s.full_name)&&void 0!==l?l:""))}):(0,n.nk)(t.bt("   {{ formattedBoard }}  ", "This Pin is from {{ formattedBoard }}, a board you follow", "Pin feedback", undefined, true),{formattedBoard:i("boardUrl",null!==(d=null===(c=m.board)||void 0===c?void 0:c.url)&&void 0!==d?d:"",r(null!==(u=null===(p=m.board)||void 0===p?void 0:p.name)&&void 0!==u?u:""))});case"promoted":if(e.promoter){const{full_name:a,username:o}=e.promoter,r=i("promotedLink",o?"/"+o+"/":"/",a);return(0,n.nk)(t.bt(" {{ promoterLink }}          ", "{{ promoterLink }} paid to have this Pin show up where youd be more likely to notice it", "Pin feedback", undefined, true),{promoterLink:r})}return t.bt("         ", "This ad was personalized for you using info from one of our partners", "Pin feedback", undefined, true);default:return null}}function d({sourceInterest:e,i18n:t,makeNavigateLink:i}){var a,r;return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:o.X},title:"",subTitle:(0,n.nk)(t.bt("     {{ formattedTopic }}  .", "Well show you less Pins from {{ formattedTopic }} in the future.", "pin.contextualMenu.feedback.unfollowTopic.subtitle", undefined, true),{formattedTopic:i("topicUrl",`/topics/${null!==(a=e.url_name)&&void 0!==a?a:""}`,null!==(r=e.name)&&void 0!==r?r:"",!0)})}}function c({boardId:e,display:t,i18n:i,makeNavigateLink:a}){var o,r,l,s;return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===t.type?(0,n.nk)(i.bt("  {{ formattedPinner }}      .", "You unfollowed {{ formattedPinner }} and wont see Pins they save anymore.", "Confirmation text after unfollowing a user", undefined, true),{formattedPinner:a("pinnerUrl",`/${null!==(o=t.data.username)&&void 0!==o?o:""}`,null!==(r=t.data.full_name)&&void 0!==r?r:"",!0)}):(0,n.nk)(i.bt("   {{ formattedBoard }}        .", "You unfollowed the board {{ formattedBoard }} and wont see Pins saved to it anymore.", "Confirmation text after unfollowing a board", undefined, true),{formattedBoard:a("boardUrl",null!==(l=t.data.url)&&void 0!==l?l:"",null!==(s=t.data.name)&&void 0!==s?s:"",!0)})}}function u(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function p(e,t,i,n,o,r,l){return()=>{const s={...e,undo:!0};let d=t;"unfollowPinner"===t?d="followPinner":"unfollowBoard"===t?d="followBoard":"unfollowTopic"===t&&(d="followTopic"),(0,a.t)(d,s),r(i),l({event_type:101,component:0,element:11181,view_type:n,view_parameter:o})}}},539315:(e,t,i)=>{i.d(t,{Z:()=>n});const n=({hasRecipe:e,hasArticle:t,i18n:i})=>e?i.bt(" ", "Make it", "pinPage.pinActionBar.Makeit.Button", undefined, true):t?i.bt(" ", "Read it", "pinPage.pinActionBar.Readit.Button", undefined, true):i.bt("", "Visit", "pinPage.pinActionBar.visitButton", undefined, true)},92143:(e,t,i)=>{i.d(t,{Z:()=>a});const n={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,U2I_DNN_INTERESTS_PINS:196,PINNERSAGE_INTERESTS_PINS:197,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,RECGPT_CG_USER_TO_PINS:206,TOPIC_FEED:190,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194,SHOPPING_RECENTLY_VIEWED_MODULE_PINS:198,SHOPPING_RECENTLY_SAVED_MODULE_PINS:199,SHOPPING_BEST_SELLING_RECOMMENDED_BRAND_MODULE_PINS:200,SHOPPING_SHOP_THE_BOARD_MODULE_PINS:203,SHOPPING_ON_SALE_MODULE_PINS:204,SHOPPING_PRODUCT_CATEGORY_BASED_MODULE_PINS:205,RECENTLY_VIEWED_ORGANIC_MODULE_PINS:201,RECENTLY_SAVED_ORGANIC_MODULE_PINS:202};function a({feedbackData:e,feedbackType:t,pinId:i,pinFeedbackType:a,recommendationReason:o,complaintReason:r,clientTrackingParams:l}){var s,d;switch(t){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==e?void 0:e.query,pin_id:i}};case"related":return{action:"relatedPinHide",actionOptions:{pin:i}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:i,newsId:null==e?void 0:e.newsId}};default:const c="promoted"===t,u=function(e){return e&&n[e]}(null==o?void 0:o.reason),p=null!==(s=null==o?void 0:o.reasonId)&&void 0!==s?s:null==o||null===(d=o.board)||void 0===d?void 0:d.entityId;return{action:c?"promotedComplaint":"complaint",actionOptions:{complaint_reason:r||0,pin_id:i,...u?{recommendation_reason_id:u}:{},feedback_type:a||1,promoted:c,...p?{through_id:p}:{},...null!=o&&o.throughProperties?{through_properties:o.throughProperties.reduce(((e,t)=>{const{key:i,data:n}=t;return i?(e[i]=[...e[i]||[],...n||[]],e):e}),{})}:{},...l?{client_tracking_params:l}:{}}}}}},929350:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(70582),a=i(456883),o=i(296972);function r(e){const{images:t={}}=(0,a.Z)((0,o.Z)({pin:e}))||{},i=(0,n.Z)({images:t});return{url:(null==i?void 0:i.url)||"",height:(null==i?void 0:i.height)||1,width:(null==i?void 0:i.width)||1}}},417824:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(70582),a=i(929350);function o(e,t,i=564){return e>i&&(t*=i/e,e=i),{width:e,height:t}}var r=i(137465);const l=({pin:e,maxWidth:t,imageSignature:i})=>{var l,s;const{image_signature:d}=e;if(!i||""===i||d===i){const{width:i,height:n,url:r}=(0,a.Z)(e);return{...o(i,n,t),url:r}}const c=(0,r.Z)({richPinData:e.rich_metadata||e.rich_summary}),u=[...(null==c||null===(l=c.variant_set)||void 0===l||null===(s=l.variants)||void 0===s?void 0:s.flatMap((e=>e.additional_images||[])))||[],...(null==c?void 0:c.additional_images)||[]],{canonical_images:p}=u.find((({image_signature:e})=>i===e))||{},{height:_=1,width:h=1,url:m=""}=(0,n.Z)({images:p||{}})||{};return{...o(h,_,t),url:m}}},426093:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(301351);const a=e=>(e||"").trim().replace(/\s+/g," "),o=({storyPinDataId:e,pinDescription:t,richMetadataDescription:i,richSummaryDisplayName:o,closeupDescription:r,closeupUnifiedDescription:l,seoDescription:s,seoNoindexReason:d})=>{if(d&&n.eg.has(d))return a(s);return!!e?a(t):a((0,n.eK)({richMetadataDescription:i,richSummaryDisplayName:o,closeupUnifiedDescription:l}).description)||a(l||"")||a(r)||a(t)||a(i)||""}},279361:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(539315),a=i(824082);const o=(e,t)=>{const i=e.link_domain||{},o=e.tracked_link||e.link||e.images&&e.images.orig&&e.images.orig.url,r=e.rich_metadata||e.richMetadata,{domain:l}=e,s=e.closeup_attribution||e.native_creator||i.official_user||e.pinner||e.origin_pinner,d=!(!(r&&r.recipe&&r.recipe.name&&r.recipe.categorized_ingredients)||r.recipe.from_aggregated_data);let c,u;r&&r.products&&r.products[0]&&(c=!!(r&&r.products[0].name&&r.products[0].offer_summary));const p=c,_=!(!r||!r.article),h=!(!r||!r.tutorial),m=!(!s||!s.username);let g=t.bt("   ", "Saved from ", "Closeup pin annotation", undefined, true),y=m?t.bt("  ", "Saved by", " - ", undefined, true):t.bt("  ", "Saved from", " - ", undefined, true);r&&r.products&&r.products[0]&&r&&r.products[0].name&&r.products[0].offer_summary&&(g=t.bt("    ", "Product sold by ", "pin annotation", undefined, true),u=r.products[0].offer_summary),p?y=t.bt("  ", "Sold by", " - ", undefined, true):h?(g=t.bt("   ", "Saved from ", "pin annotation", undefined, true),y=m?t.bt("  ", "Saved by", " - ", undefined, true):t.bt("  ", "Saved from", " - ", undefined, true)):d?(g=t.bt("  ", "Recipe from ", "pin annotation", undefined, true),y=m?t.bt("  ", "Recipe by", " - ", undefined, true):t.bt(" ", "Recipe from", " - ", undefined, true)):_&&(g=t.bt("  ", "Article from ", "pin annotation", undefined, true),y=m?t.bt(" ", "Article by", " - ", undefined, true):t.bt(" ", "Article from", " - ", undefined, true));const v=e.rich_summary;if(!u&&v){let e;v&&v.products&&v.products[0]&&(e=!!(v&&v.products[0].name&&v.products[0].offer_summary),e&&(g=t.bt("    ", "Product sold by ", "pin annotation", undefined, true)))}let f,x;m?(f="/"+s.username+"/",x=s.full_name):(f="/source/"+l,x=r&&r.site_name||l);const b=s&&(s.image_medium_url||s.image_small_url)||e.board&&e.board.image_thumbnail_url,P=(0,a.Z)(t.bt("  {{ subtitle }}", "More from {{ subtitle }}", " - ", undefined, true),{subtitle:x});return{actionButtonText:(0,n.Z)({hasRecipe:d,hasArticle:_,i18n:t}),image:b,link:f,pinLink:o,pin:e,pinCreditPrefix:g,prefixText:y,subtitle:x,title:P,pinTitle:e.closeup_unified_title,pinDescription:e.closeup_unified_description,pinCategory:e.category}}},301351:(e,t,i)=>{i.d(t,{eg:()=>r,kt:()=>h,rw:()=>p,fs:()=>d,eK:()=>c,Ly:()=>u,BY:()=>_,bN:()=>m,RC:()=>l,EU:()=>s});const n=/\s\s+/g,a=e=>e.replace(n," ");var o=i(675475);const r=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),l=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,s=(e,t)=>e?e.trim().length>t?(0,o.ZP)(e.trim(),t).trim():e.trim():"",d=({pinTitle:e,gridTitle:t,richSummaryDisplayName:i,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o})=>{const r=o||e,l=s(t,200);return l||(i||(n||(a&&r?r:null)))},c=e=>{const{richSummaryDisplayName:t}=e,i=e.pinJoinVisualAnnotation||[],n=e.pinJoinAnnotationsWithLinks||{},r=e.richMetadataDescription||"",l=e.closeupUnifiedDescription||"",s=i.map((e=>(n||{})[e]||{name:e,url:""}));let d="";const c=(t||"").toLocaleLowerCase().trim(),u=r.toLocaleLowerCase().trim(),p=l.toLocaleLowerCase().trim();return l&&l.length>3&&p!==c?d=l:r&&r.length>3&&u!==c&&(d=r),d&&(d=a((0,o.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:s}},u=({pinTitle:e,gridTitle:t,richSummaryDisplayName:i,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o,pinJoinVisualAnnotation:l,seoNoindexReason:s,seoTitle:c})=>r.has(null!=s?s:"")?c:d({pinTitle:e,gridTitle:t,richSummaryDisplayName:i,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o})||(null==l?void 0:l[0])||e,p=(e,t,i,n,a)=>{const o=(r=e,"string"==typeof r?r:"").trim();var r;let l="";const s=(e,t)=>t&&t.length>0?`${e} ${t.join(", ")}`:e;return l=n&&n.trim().length?s(n.trim(),i):a&&a.trim().length?a.trim():o?s(o,i):i?i.join(", "):"",l},_=e=>`/pin/${e}/`,h=(e,t)=>{const i=`Pinterest video from ${t}: `.concat(e);return""===t?e:i},m=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:_(e)},456883:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>{if(!e)return null;const{pin:t}=e,{images:i}=t,n=Object.keys(i||{}).reduce(((e,t)=>{const n=i[t],{url:a,width:o,height:r}=n;return e&&a&&o&&r?{...e,[t]:{url:a,width:o,height:r}}:null}),{});return n&&Object.keys(n).length>0?{...e,images:n}:null}},296972:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>{var t;return null!=e&&null!==(t=e.pin)&&void 0!==t&&t.id?e:null}},835686:(e,t,i)=>{i.d(t,{F:()=>o,a:()=>a});var n=i(946689);const{Provider:a,useHook:o}=(0,n.Z)("ExperimentContext")},768682:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),a=i(883119),o=i(434012),r=i(376410),l=i(94630),s=i(55592),d=i(702012),c=i(785893);function u(){const e=(0,o.ZP)();return e.bt(" ", "Free shipping", "closeup.product.shipping", undefined, true)}function p({freeShippingPrice:e}){const t=(0,o.ZP)();return(0,r.nk)(t.bt("   {{ shippingPrice }}+", "Free shipping with {{ shippingPrice }}+", "closeup.product.shipping", undefined, true),{shippingPrice:e}).join("")}function _(){const e=(0,o.ZP)();return e.bt(" ", "Shipping info", "closeup.product.shipping", undefined, true)}function h({clickthroughFn:e}){const t=(0,o.ZP)(),[i,r]=(0,n.useState)(!1),l=(0,s.HG)(),u=(0,n.useRef)(null),p=()=>{r(!i)},_=t.bt("      ", "Check the merchant's site for shipping to your region", "closeup.product.shipping", undefined, true),h=t.bt(" ", "Visit site", "closeup.product.shipping", undefined, true),m=l?(0,c.jsx)(a.J2,{anchor:u.current,onDismiss:p,idealDirection:"right",children:(0,c.jsx)(a.xu,{padding:5,rounding:4,children:(0,c.jsx)(a.xv,{children:_})})}):(0,c.jsx)(a.Io,{onDismiss:p,zIndex:d.lp,size:"auto",heading:"",children:(0,c.jsxs)(a.xu,{alignItems:"center",direction:"column",marginStart:10,marginEnd:10,display:"flex",children:[(0,c.jsx)(a.xu,{marginBottom:5,children:(0,c.jsx)(a.xv,{size:"400",weight:"bold",align:"center",children:_})}),(0,c.jsx)(a.zx,{text:h,accessibilityLabel:h,size:"lg",onClick:e})]})});return(0,c.jsxs)(a.xu,{display:"flex",alignItems:"center",marginStart:1,children:[(0,c.jsx)(a.iP,{ref:u,onTap:p,children:(0,c.jsx)(a.JO,{accessibilityLabel:t.bt("  ", "Show shipping information", "closeup.product.shipping", undefined, true),color:"default",icon:"info-circle",size:14})}),i&&m]})}function m({clickthroughFn:e,customStyles:t,showPrevDot:i,freeShippingPrice:n,freeShippingValue:o,showShippingCountryDisclaimer:r}){const s=i?[""]:[],{color:d="subtle",size:m="200"}=t||{};if(!Number.isFinite(o)&&!r)return null;let g;return 0===o?g=(0,c.jsx)(u,{}):n?g=(0,c.jsx)(p,{freeShippingPrice:n}):r&&(g=(0,c.jsx)(_,{})),g&&s.push((0,c.jsxs)(a.kC,{direction:"row",children:[g,r&&(0,c.jsx)(h,{clickthroughFn:e})]})),0===s.length?null:(0,c.jsx)(a.xv,{color:d,size:m,children:(0,c.jsx)(l.Z,{color:d,items:s})})}},232683:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),a=(i(883119),i(451681)),o=i(785893);const r=(e,t,i)=>{const a=(0,n.useRef)(null),o=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(e!==a.current||i&&i!==o.current){a.current=e;const i=(n=e,document.querySelector(`img[src="${n}"]`)||null);null!=i&&i.complete&&t()}var n;o.current=i}),[e,t,i])};function l({alt:e,children:t,color:i,elementTiming:n,isActive:l=!1,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,fit:p="none"}){return r(u,c,l),(0,o.jsx)(a.Z,{alt:e,color:i,elementTiming:n,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,fit:p,children:t})}},444089:(e,t,i)=>{i.d(t,{Z:()=>q});var n=i(667294),a=i(751806),o=i(835686),r=i(86831),l=i(543203),s=i(666075),d=i(262703),c=i(656510),u=i(790936),p=i(26567),_=i(103808),h=i(656680),m=i(880823);const g=({constraintMap:e,initialNavTiming:t,annotations:i})=>({...i,...(0,m.jh)("constraint_",e),...(0,m.jh)("mark_",(0,d.gQ)()),...(0,m.jh)("browser_",{...t?(0,m.D3)(t):{},...(0,m.rX)()})});var y=i(511124),v=i(274979),f=i(593522);const x=(e,t)=>{const{firstInputDelay:i}=(0,v.v2)();return[...e.map((e=>(0,y.Z)(e,t))).filter(Boolean),...i?[{name:"fid",id:(0,f.Z)(),parentId:t,startTime:i.startTime,endTime:i.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var b=i(741208),P=i(277280);const w=({eventPrefix:e,endTime:t,tags:i,resourceArr:n,resourceType:a="allResources"})=>{const o=n.length;if(o>0&&"object"==typeof n[0]&&!Array.isArray(n[0])){const r=[...n].sort(((e,t)=>e.fetchStart-t.fetchStart)),l=[...n].sort(((e,t)=>e.responseEnd-t.responseEnd));let s=1;const d=t/5;let c=0;for(;s<=5;){let t=0;for(;c<=o-1&&r[c].fetchStart<=d*s;)c+=1,t+=1;b.Z.gauge(`${e}.tags.${a}.fetchStartInterval${s}of5`,t,.2,i),b.Z.gauge(`${e}.${a}.fetchStartInterval${s}of5`,t,.2),s+=1}const u={zeroPercentInFlight:r[0].fetchStart,twentyFivePercentInFlight:r[Math.floor(o/4)].fetchStart,fiftyPercentInFlight:r[2*Math.floor(o/4)].fetchStart,seventyFivePercentInFlight:r[3*Math.floor(o/4)].fetchStart,hundredPercentInFlight:r[o-1].fetchStart,twentyFivePercentComplete:l[Math.floor(o/4)].responseEnd,fiftyPercentComplete:l[2*Math.floor(o/4)].responseEnd,seventyFivePercentComplete:l[3*Math.floor(o/4)].responseEnd,hundredPercentComplete:l[o-1].responseEnd};for(const t in u)u[t]&&(b.Z.timing(`${e}.tags.${a}.${t}`,u[t],.2,i),b.Z.timing(`${e}.${a}.${t}`,u[t],.2))}},S=({annotateExperiments:e,endTime:t,entries:i,metricId:n,pwtStaticContext:a})=>{const o=`${(0,P.Z)(a)}.${n.surface}`,r=[o];e&&e.forEach((e=>{const t=a.getExperimentGroup(e)||"null";r.push(`${o}.${e}.${t}`)}));const l={lcpTimingBucket:(e=>{let t;return t=e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",t})((0,v.Bn)())||"unknown",isAuthenticated:a.isAuthenticated,navigationType:n.navigationType},s=Array.from(i.filter((e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t))),d=[],c=[],u=[],p=[],_=[];s.forEach((e=>{"img"===e.initiatorType?d.push(e):"css"===e.initiatorType?c.push(e):"script"===e.initiatorType?u.push(e):"xmlhttprequest"===e.initiatorType?p.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&_.push(e)})),r.forEach((e=>{w({eventPrefix:e,endTime:t,tags:l,resourceArr:s}),w({eventPrefix:e,endTime:t,tags:l,resourceArr:d,resourceType:"image"}),w({eventPrefix:e,endTime:t,tags:l,resourceArr:c,resourceType:"css"}),w({eventPrefix:e,endTime:t,tags:l,resourceArr:u,resourceType:"scripts"}),w({eventPrefix:e,endTime:t,tags:l,resourceArr:p,resourceType:"xhr"}),w({eventPrefix:e,endTime:t,tags:l,resourceArr:_,resourceType:"preloadedImage"})}))};var I=i(97379);const T=({annotateExperiments:e,annotations:t,binaryAnnotations:i,constraintMap:n,endTime:a,imageTimings:o,metricId:r,pwtStaticContext:l,startTime:s,traceId:d,spans:c})=>{const u=(0,I.Cg)();let m;"initial_app_load"===r.navigationType&&(m=(0,_.Z)());const y=o.map((({name:e})=>e)),v=u.map((e=>(0,h.p)(e,y))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},i)=>e>i.endTime||!!t&&t<i.startTime||e<i.startTime-100)(e,{startTime:s,endTime:a})));return"board"!==r.surface&&"pin_closeup"!==r.surface||S({annotateExperiments:e,endTime:a,entries:u,metricId:r,pwtStaticContext:l}),{type:"COMPLETE",traceId:d,startTime:s,endTime:a,spans:x(v,d).concat(c),annotationMap:g({constraintMap:n,initialNavTiming:m,annotations:t}),binaryAnnotationMap:(0,p.rA)({annotateExperiments:e,binaryAnnotations:i,entries:u,metricId:r,performanceResources:v,pwtEndTime:a,pwtStaticContext:l})}};let A=!1;const k=(e,t)=>e&&t?A?((0,s.H)("duplicated_initial_app_load_surface_pwt"),(0,f.Z)()):(A=!0,t):(0,f.Z)();var E=i(646222),C=i(778566);const j=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const i=t.name.replace(".jpg","").split("/");return{[i[i.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const i=e.src.replace(".jpg","").split("/"),n=i[i.length-1];if(t[n]){var a;const i=(null===(a=(0,C.rZ)(e))||void 0===a?void 0:a.width)||1,o=t[n].downloadSize;return{fileName:n,renderedSize:i,downloadedSize:o,ratio:o/i}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const i=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),n=i[i.length-1];if(t[n]&&e instanceof HTMLDivElement){var a;const i=(null===(a=(0,C.rZ)(e))||void 0===a?void 0:a.width)||1,o=t[n].downloadSize;return{fileName:n,renderedSize:i,downloadedSize:o,ratio:o/i}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:i,fileName:n,downloadedSize:a}=t;t.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*i)/10,tags:{fileName:`${a}_${n}`}})}))};var R=i(608436),D=i(260531);const O=(e,t)=>{const i=(0,n.useRef)(t);return{getState:()=>i.current,dispatch:t=>{i.current=e(i.current,t)}}};var L=i(953632),z=i(880254),F=i(785893);const N=["initial_app_load","client_route_push"],M=(0,l.XV)("PwtSurface"),B="NavigationComplete",Z="VisuallyComplete",U=(e,t)=>{e.isSampled&&(0,E.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},G=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var i;const{metricConfig:{metricId:n,pwtStaticContext:a,annotateExperiments:o},annotations:l,binaryAnnotations:c,constraintMap:u,startTime:p,imageTimings:_,isSampled:h,spans:m}=e;(0,d.L8)(`PWT_Complete_${(0,r.KJ)(n)}`);const g=k("initial_app_load"===n.navigationType,null===(i=a.serverData)||void 0===i?void 0:i.trace_id),y=T({annotateExperiments:o,annotations:l,binaryAnnotations:c,constraintMap:u,endTime:t,imageTimings:_,metricId:n,pwtStaticContext:a,startTime:p,traceId:g,spans:m});h&&(0,E.Z)({metricId:n,pwtStaticContext:a,result:y});try{j(String(y.binaryAnnotationMap["metricId.surface"].value))}catch(v){(0,s.H)("image_ratio_check_error",{error:v})}return{...e,result:y,status:"DONE"}})(e,t)}return e},H=(e,t)=>{const{constraint:i,time:n}=t,a=(0,r.KJ)(e.metricConfig.metricId);return R.Z?e.metricConfig.constraints.find((e=>e===i))?e.constraintMap[i]?(M(`constraint "${i}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:i,action:a}),e):(M(`marking constraint "${i}" as complete`),(0,d.ZP)(`constraint_${i}_is_complete`),G({...e,constraintMap:{...e.constraintMap,[i]:n||R.Z.now()}})):(M(`marked constraint "${i}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:a}),e)},K=(e,t)=>{if(M("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:i,startTime:n,isSampled:a}=t;if("TIMING"===e.status&&n!==e.startTime&&U(e,"routeUpdatedOnSameSurface"),!i)return{status:"DISABLED",metricConfig:null};const o=(0,r.KJ)(i.metricId);return"TIMING"===e.status&&e.startTime===n&&e.constraintMap[B]?((0,s.H)("duplicated_init_route_action",{action:o}),e):("Other"===i.pwtStaticContext.browserName&&!1===i.metricId.isAuthenticated&&"initial_app_load"===i.metricId.navigationType?((0,s.A9)(`TIMING.${o}`,{tags:{userAgent:null===(l=window)||void 0===l||null===(d=l.navigator)||void 0===d?void 0:d.userAgent}}),(0,s.A9)(`TIMING.sampled.${o}`,{tags:{userAgent:null===(c=window)||void 0===c||null===(u=c.navigator)||void 0===u?void 0:u.userAgent},sampleRate:.5})):((0,s.A9)(`TIMING.${o}`),(0,s.A9)(`TIMING.sampled.${o}`,{sampleRate:.5})),H({status:"TIMING",metricConfig:i,startTime:n,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:B}));var l,d,c,u})(e,t.payload);if("TIMING"!==e.status)return M(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":U(e,t.reason);const i={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:i};case"ANNOTATE":const{name:n}=t.payload;if(!R.Z)return e;const a=R.Z.now();return M(`adding annotation {${n}: ${a}}`),{...e,annotations:{...e.annotations,[n]:a}};case"BINARY_ANNOTATE":const{name:o,value:l,annotationType:d}=t.payload;return M(`adding binary annotation {${o}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[o]:{value:l,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return H(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!R.Z){const t=(0,r.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}M(`removing constraint "${t}"`);const i=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:n,...a}=e.constraintMap;return G({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:i}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!R.Z){const t=(0,r.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}M(`updating pwt segment to "${t}"`);const i={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:i}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:i}}=t;if(0===i.length){U(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const n=Math.max(...i.map((e=>e.responseEnd||0)));return H({...e,imageTimings:i},{constraint:Z,time:n})}case"ADD_SUBSPAN":const{startTime:c}=e,{payload:{name:u,startTime:p,endTime:_,annotations:h,binaryAnnotations:m,parentId:g}}=t;return{...e,spans:[...e.spans,{name:u,id:(0,f.Z)(),startTime:p||c,endTime:_,annotationMap:{...h},binaryAnnotationMap:{...m},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,f.Z)(),startTime:R.Z?R.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const y=e.spans.findIndex((e=>e.name===t.payload.name));return y>-1?(e.spans[y].endTime=R.Z?R.Z.now():0,t.payload.annotations&&(e.spans[y].annotationMap={...e.spans[y].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[y].binaryAnnotationMap={...e.spans[y].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const v=(0,r.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:v}),e}},V=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},W=({surface:e,constraints:t,segment:i,measureGridVisuallyComplete:r,annotateExperiments:l,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:d,navigationType:u},sampleRate:p})=>{const _=(0,n.useRef)("NOT_SET"),h=(0,c.N5)(),{getState:m,dispatch:g}=O(K,{status:"DISABLED",metricConfig:null}),y=(0,D.B)();if(_.current!==d&&(_.current=d,h)){const{isAuthenticated:n}=h,a=e&&u&&(s||N).includes(u)?{metricId:{type:"surface",surface:e,navigationType:u,isAuthenticated:n,segment:i},annotateExperiments:l,constraints:[B,...t||[],...r?[Z]:[]],pwtStaticContext:h}:null;g({type:"INIT_ROUTE",payload:{metricConfig:a,startTime:d?d.time:0,isSampled:!p||Math.random()<p}})}const v=(0,o.F)(),f=m();if((0,n.useEffect)((()=>{const e=e=>{g({type:"ABORT",reason:e})};a.Z.onSessionPause(e);const t=window.innerHeight,i=window.innerWidth,n=()=>{var e,a,o;const r=Math.abs(window.innerHeight-t),l=Math.abs(window.innerWidth-i),s=window.innerHeight!==t,d=window.innerWidth!==i,c={handler:(0,L.H)(),deviceType:null!==(e=null==h?void 0:h.deviceType)&&void 0!==e?e:"unknown",isAuthenticated:null!==(a=null==h?void 0:h.isAuthenticated)&&void 0!==a?a:"unknown",platform:null!==(o=y.userAgent.platform)&&void 0!==o?o:"unknown"};(0,z.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...c,heightChanged:s,widthChanged:d}}),s&&(0,z.S0)("webapp.PwtLogger.resizeHeightDelta",r,{sampleRate:1,tags:c}),d&&(0,z.S0)("webapp.PwtLogger.resizeWidthDelta",l,{sampleRate:1,tags:c}),window.removeEventListener("resize",n);("phone"===(null==h?void 0:h.deviceType)&&(!d&&s&&r<=150||!s&&!d)||"desktop"===(null==h?void 0:h.deviceType)&&!s&&!d)&&v.checkExperiment(y.isAuthenticated?"web_pwt_resize_abort_auth":"web_pwt_resize_abort_unauth").anyEnabled?(0,z.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...c,heightChanged:s,widthChanged:d}}):g({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",n),()=>{const t=m();M("handling unmount",t),"TIMING"===t.status&&U(t,"unmount"),a.Z.removePauseListener(e),window.removeEventListener("resize",n)}}),[]),"TIMING"!==f.status||!f.constraintMap[B])return{state:f,context:null};const{startTime:x,metricConfig:b}=f;return{state:f,context:{abort:e=>g({type:"ABORT",reason:e}),addAnnotation:e=>g({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,i)=>g({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:i}}),addSubspan:(e,t,i,n={},a={},o=null)=>g({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:i,annotations:n,binaryAnnotations:a,parentId:o}}),getId:()=>x,getMetricId:()=>b.metricId,markConstraintComplete:e=>g({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:R.Z?R.Z.now():0}}),removeConstraint:e=>g({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>g({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:b.constraints.includes(Z)?e=>g({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},i={},n=null)=>g({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:i,parentId:n}}),stopSubspan:(e,t={},i={},n=null)=>g({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:i,parentId:n}})}}},$=()=>{const e=(0,u.E)(),t=!!e;(0,n.useEffect)((()=>{if(t){const t=null==e?void 0:e.getMetricId(),i=t?(0,r.KJ)(t):null;(0,s.H)("nested_pwt_surface",{action:i})}}),[t])};function q({children:e,...t}){var i;const n=(0,c.fM)(),a=V(n),o=[...null!==(i=t.annotateExperiments)&&void 0!==i?i:[]],r={...t,annotateExperiments:o,navigationInfo:{navigationType:a,clientNavigation:n}},{context:l}=W(r);return $(),(0,F.jsx)(u.S,{value:l,children:e})}},78109:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(833618),a=i(667294),o=i(262703),r=i(790936);var l=i(656510);function s({children:e,isAtEndOfFeed:t,pinData:i,itemCount:s,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1}){var p;return(null===(p=(0,l.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,n.Z)({pinData:i,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:c,includeSections:u}),function(e){const t=(0,r.E)(),i=(0,a.useRef)(null);(0,a.useEffect)((()=>{e!==i.current&&(i.current=e,t&&(0,o.ZP)(o.at))}),[!!t,e])}(s),e}},727541:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},443782:(e,t,i)=>{function n(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,i)=>e[i]-e[t])).slice(0,3)}return null}function a(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function o(e,t,i){const{videos:n,is_downstream_promotion:a,is_promoted:o,story_pin_data_id:r,board:l}=e;return!(o||a||(!n||!n.id)&&!r||t||null!=l&&l.is_collaborative&&l.collaborated_by_me||i)}i.d(t,{At:()=>n,J6:()=>o,Ud:()=>a})},792618:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(667294),a=i(883119),o=i(878122),r=i(651081),l=i(946903),s=i(434012),d=i(835686),c=i(785893);function u({category:e,ingredients:t,textSize:i="300"}){return(0,c.jsxs)(a.xu,{children:[e&&(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{weight:"bold",size:i,children:e})}),(0,c.jsx)("ul",{children:t.map(((e,t)=>(0,c.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,c.jsx)(a.xu,{marginTop:1,children:(0,c.jsxs)(a.xv,{size:i,children:[" ",e.amt||null," ",e.name]})})},t)))})]})}var p=i(364002),_=i(914886),h=i(824082);const m=e=>e.reduce(((e,t)=>e.concat(t)),[]);function g({columnGap:e,recipeProps:t,marginOverrides:i}){const g=(0,s.ZP)(),{diets:y,image:v,name:f,categorizedIngredients:x,fromAggregatedData:b}=t.recipe,{checkExperiment:P}=(0,d.F)(),w=P("closeup_dweb_onepin_title_and_description").anyEnabled,S=g.bt("", "Ingredients", "Ingredients title and count in closeup recipe description", undefined, true);let I;if(x&&x.length){const e=[];x.forEach((t=>e.push(t.ingredients)));const t=m(e.filter(Boolean)).length;I=x&&x.length&&t?(0,h.Z)(g.nbt(["{{ count }}  ", "{{ count }}  ", "{{ count }}  ", "{{ count }}  ", "{{ count }}  ", "{{ count }}  "], t, "Ingredients title and count in closeup recipe description", true),{count:t.toString()}):S}const T=w?8:(null==i?void 0:i.outerMarginTop)||80;return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:T}},children:(0,c.jsxs)(p.Z,{itemScope:!0,itemType:_.G,children:[(0,c.jsx)("meta",{content:f,itemProp:"name"}),(0,c.jsx)("meta",{content:v,itemProp:"image"}),!w&&(0,c.jsx)(a.xu,{"data-test-id":"ingredients-heading",marginBottom:4,children:(0,c.jsx)(a.X6,{size:"400",children:b?f:I})}),!w&&y&&y.length>0&&(0,c.jsx)(a.xu,{marginBottom:4,children:(0,c.jsx)(a.xv,{inline:!0,size:"200",children:y.join(" ")})}),w?(0,c.jsx)(o.Z,{heading:S,children:(0,c.jsx)(l.Z,{children:(0,c.jsx)(a.xu,{marginTop:4,children:x.map((({category:e,ingredients:t},o)=>{const l=`ingredient-${o}`;return(0,c.jsx)(n.Fragment,{children:(0,c.jsx)(a.xu,{marginBottom:(null==i?void 0:i.ingredientMarginBottom)||4,children:(0,c.jsx)(u,{category:e,ingredients:t,textSize:r.n})})},l)}))})})}):Array.isArray(x)&&x.length>0&&(1===x.length?(0,c.jsx)(a.xu,{column:12,"data-test-id":"single-column-ingredients",children:x.map((({category:e,ingredients:t},n)=>(0,c.jsx)(a.xu,{marginBottom:(null==i?void 0:i.ingredientMarginBottom)||2,children:(0,c.jsx)(u,{category:e,ingredients:t,textSize:"100"})},n)))}):(0,c.jsxs)(a.xu,{display:"flex","data-test-id":"dual-column-ingredients",children:[(0,c.jsx)(a.xu,{column:6,children:x.slice(0,Math.ceil(x.length/2)).map((({category:e,ingredients:t},n)=>(0,c.jsx)(a.xu,{marginBottom:(null==i?void 0:i.ingredientMarginBottom)||2,children:(0,c.jsx)(u,{category:e,ingredients:t,textSize:"100"})},n)))}),e,(0,c.jsx)(a.xu,{column:6,children:x.slice(Math.ceil(x.length/2)).map((({category:e,ingredients:t},n)=>(0,c.jsx)(a.xu,{marginBottom:(null==i?void 0:i.ingredientMarginBottom)||2,children:(0,c.jsx)(u,{category:e,ingredients:t,textSize:"100"})},n)))})]}))]})})}},681887:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),a=i(883119),o=i(975323),r=i(785893);function l({recipeData:e}){var t;if(null!==(t=e.aggregate_rating)&&void 0!==t&&t.rating_value&&e.aggregate_rating.review_count){var i,l,s;const t="number"==typeof(null===(i=e.cook_times)||void 0===i||null===(l=i.cook)||void 0===l?void 0:l.m)&&"number"==typeof(null===(s=e.cook_times.prep)||void 0===s?void 0:s.m)?`${e.cook_times.cook.m+e.cook_times.prep.m} minutes  `:"";return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(o.Z,{rating:e.aggregate_rating.rating_value,max_rating:e.aggregate_rating.best_rating,width:12},e.aggregate_rating.rating_value),(0,r.jsx)(a.xv,{inline:!0,size:"200",children:` ${e.aggregate_rating.review_count}  ${t}`})]})}return null}},610767:(e,t,i)=>{function n(e,t,i){const n=[...e],a=n.splice(t,1)[0];return n.splice(i,0,a),n}i.d(t,{Z:()=>n})},260531:(e,t,i)=>{i.d(t,{B:()=>u,LC:()=>d,P2:()=>s,fH:()=>c,gf:()=>p});var n=i(667294),a=i(770722),o=i(401764),r=i(785893);const l=(0,n.createContext)();function s({children:e,initialValue:t}){const[i,s]=(0,n.useState)(t),d=(0,n.useMemo)((()=>({requestContext:i,updateRequestContext:e=>{const t={...i,...e};(0,a.Ak)(i,e)||s(t),(0,o.J)(t)}})),[i]);return(0,r.jsx)(l.Provider,{value:d,children:e})}const d=({children:e})=>{const t=(0,n.useContext)(l);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},c=({children:e})=>{const t=(0,n.useContext)(l);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function u(){const e=(0,n.useContext)(l);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function p(){const e=(0,n.useContext)(l);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},401764:(e,t,i)=>{let n;function a(e){n=e}function o(){return n}i.d(t,{J:()=>a,l:()=>o})},233423:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),a=i(702664),o=i(616550),r=i(499917),l=i(260531),s=i(53019),d=i(134220);const c={},u=({httpStatus:e})=>!e||e>=500;function p(e){const{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:i,headers:p,name:_,noCache:h,options:m,schema:g}=null!=e?e:{name:"DisabledResource",options:null},y=!e,v=(0,a.useDispatch)(),f=(0,r.Z)(m),x=(0,n.useRef)(null),b=(0,n.useRef)(),P=(0,o.useHistory)(),w=P&&"POP"!==P.action,S=e=>(e[_]||c)[f]||c,I=(0,a.useSelector)((({resources:e})=>S(e).nextBookmark)),T=(0,a.useSelector)((({resources:e})=>S(e).data)),A=(0,a.useSelector)((({resources:e})=>S(e).auxData)),k=(0,a.useSelector)((({resources:e})=>S(e).error)),E=(0,a.useSelector)((({resources:e})=>Boolean(S(e).fetching))),C=Boolean(k)||void 0!==T,j=C&&!E&&I===d.q,R=Boolean(C&&t&&w&&!y),[D,O]=(0,n.useState)(R),L=(0,n.useCallback)((e=>{x.current=v((0,s.U)(_,{options:m,schema:g,bookmark:e,headers:p}))}),[v,_,f,g,p]),z=()=>{x.current=v((0,s.b)(_,{options:m,schema:g,headers:p}))},{isBot:F}=(0,l.B)(),N=()=>{if(!y&&b.current!==f){const e=void 0===b.current;b.current=f,!C&&!E||e&&k&&u(k)?L():(!F&&h||R)&&z()}};(0,n.useEffect)((()=>{i||N()})),i&&N();const M=(0,n.useCallback)((()=>{y||(z(),O(!0))}),[y,s.b,_,f,p,O]),B=(0,n.useCallback)((()=>{!I||j||E||y||L(I)}),[y,L,I,j,E]);if(x.current)if(C&&!E)x.current=null;else if(i)throw x.current;const Z=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:B,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:M}),U={auxData:A,data:T,error:k,fetchMore:B,isAtEnd:j,isFetching:E,isLoaded:C,isRefreshing:D,nextBookmark:I,refresh:M};return(0,a.shallowEqual)(U,Z.current)||(!D||!Z.current.data&&R||(0,a.shallowEqual)(U.data,Z.current.data)||(U.isRefreshing=!1,O(!1)),Z.current=U),Z.current}},822368:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(233423),a=i(578662);var o=i(616550),r=i(260531),l=i(55592),s=i(935057);function d({checkExperiments:e,disableFetch:t,viewer:i}){var n;const a=(0,o.useLocation)(),d=(0,o.useRouteMatch)(),c=(0,r.B)(),u=function({advertiser:e,deviceType:t,location:{pathname:i,search:n},inviteCode:a,match:{params:o,path:r},viewer:l}){return{advertiser:e,deviceType:t,routeData:{inviteCode:a,matchPath:r,params:o,parsedSearch:(0,s.mB)(n),pathname:i,search:n},user:{country:l.country||void 0,id:l.id||void 0,isAuth:l.isAuth,isEmployee:!!l.isEmployee||!1,isPartner:!!l.isPartner||!1,username:l.username||void 0,firstHomeFeedRequestAfterNux:l.firstHomeFeedRequestAfterNux||void 0}}}({advertiser:c.advertiser,deviceType:(0,l.Mq)(c),location:a,match:d,viewer:i,inviteCode:null!==(n=c.inviteCode)&&void 0!==n?n:""}),p=!!t&&t(u),_=!(!p&&e)||e(c.experimentsClient);return{args:u,fetchDisabled:p||!_}}function c({getOptions:e,checkExperiments:t,disableFetch:i,...o}){const r=function(){const e=(0,a.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0,firstHomeFeedRequestAfterNux:e.firstHomeFeedRequestAfterNux||void 0}}(),{args:l,fetchDisabled:s}=d({checkExperiments:t,disableFetch:i,viewer:r}),c=e?e(l):void 0;return(0,n.Z)(s?null:{options:c,...o})}},949364:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({accessibilityLabel:e}){return(0,a.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(n.$j,{accessibilityLabel:e,show:!0})})}},490286:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(0,i(667294).createContext)("undefined"!=typeof window?window:null)},348886:(e,t,i)=>{i.d(t,{Hd:()=>s,_R:()=>r,gi:()=>a,lw:()=>n,wF:()=>l,zh:()=>o});const n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},a=e=>{switch(e){case n.PINS:return 0;case n.PINS_MINE:return null;case n.PINS_BUYABLE:return 1;case n.PINS_VIDEO:return 2;case n.BOARDS:return 3;case n.USERS:return 4;default:return null}},o=e=>{switch(e){case 0:return n.PINS;case 1:return n.PINS_BUYABLE;case 2:return n.PINS_VIDEO;case 3:return n.BOARDS;case 4:return n.USERS;default:return null}},r=e=>{switch(e){case n.PINS:return 43;case n.PINS_MINE:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;default:return null}},l=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},s=(e,t)=>{if(t)switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}switch(e){case n.USERS:return 1000432;case n.PINS_BUYABLE:return 1000433;case n.PINS:default:return 1000269}}},464422:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(463839),a=i(383443);function o({bubbleId:e,pinId:t,query:i,referringSource:o,storyCategory:r,storyId:l,title:s}){const d=[0,24,21,26].includes(r),c=(0,a.Z)({q:i,rs:o||void 0,b_id:e,source_id:l,top_pin_id:t}),u=d&&s?(0,n.x)({title:s,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?u:"/search/pins/"+(c?"?"+c:"")}},999330:(e,t,i)=>{function n({appliedProductFilters:e,autoCorrectionDisabled:t,filters:i,query:n,scope:a,selectedPinImgSig:o,user:r}){const l=[a,i,e,r,o,n].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+l:l}function a(e){const{autoCorrectionDisabled:t,appliedProductFilters:i,appliedFilters:n,filters:a,selectedPinImgSig:o,query:r,rs:l,scope:s,bubbleId:d,user:c}=e,u=function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:i=null,bubbleId:n=null,filters:a=null,query:o=null,rs:r="direct_navigation",scope:l="pins",selectedPinImgSig:s=null,sourceId:d=null,user:c}){return{article:n,applied_filters:t,appliedProductFilters:i,auto_correction_disabled:e,corpus:s?"personalize":null,customized_rerank_type:s?"manas_graph_sage_only_wand_rewrite":null,filters:a,query:o,query_pin_sigs:s,redux_normalize_feed:!0,rs:r,scope:l,source_id:d,user:c}}({autoCorrectionDisabled:!!t,appliedProductFilters:i,appliedFilters:n,filters:a,query:r,rs:l,scope:s,selectedPinImgSig:o,bubbleId:d,user:c});return{name:"BaseSearchResource",options:u}}i.d(t,{Ht:()=>a,Tb:()=>n})},602404:(e,t,i)=>{function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function a(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(let o=0;o<i.length;o+=1)if(!Object.prototype.hasOwnProperty.call(t,i[o])||!n(e[i[o]],t[i[o]]))return!1;return!0}i.d(t,{Z:()=>a})},475252:(e,t,i)=>{i.d(t,{Z:()=>s,t:()=>d});var n=i(667294),a=i(167912),o=i(904062);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const l={};class s extends n.Component{constructor(...e){super(...e),r(this,"state",{invite:l[this.props.invite_code]||null,loaded:this.props.invite_code in l})}componentDidMount(){const{invite_code:e}=this.props;o.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((t=>{if(t&&t.resource_response){const i=t.resource_response.data;l[e]=i,this.setState({invite:i,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}class d extends n.Component{constructor(...e){super(...e),r(this,"state",{invite:l[this.props.invite_code]||null,loaded:this.props.invite_code in l})}componentDidMount(){const{invite_code:e,relayEnvironment:t,inviteQuery:i}=this.props;(0,a.fetchQuery)(t,i,{invite_code:e}).subscribe({next:e=>{var t;if(null!==(t=e.v3GetInviteCodeQuery)&&void 0!==t&&t.data){const t=e.v3GetInviteCodeQuery;this.setState({invite:t,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}},515146:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),a=i(434012),o=i(785893);function r({height:e,isDenseView:t,rounding:i,width:r,color:l}){const s=(0,a.ZP)();return(0,o.jsx)(n.xu,{color:l||"default",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:i,overflow:"hidden",width:r,height:e,"data-test-id":"unavailable-pin",children:(0,o.jsxs)(n.kC,{direction:"column",alignItems:"center",children:[(0,o.jsx)(n.xu,{paddingY:t?2:4,children:(0,o.jsx)(n.JO,{accessibilityLabel:s.bt("  ", "Pin not available", "story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel", undefined, true),color:"default",icon:"alert",size:20})}),(0,o.jsx)(n.xv,{weight:"bold",children:s.bt(" ", "Unavailable", "story-pin.Closeup.UnavailableIdeaPin.Unavailable", undefined, true)}),!t&&(0,o.jsx)(n.xu,{paddingY:1,children:(0,o.jsx)(n.xv,{children:s.bt("    ", "Removed by the creator", "story-pin.Closeup.UnavailableIdeaPin.Removed", undefined, true)})})]})})}},457408:(e,t,i)=>{i.d(t,{Wr:()=>p,Hx:()=>h,RC:()=>_});var n=i(667294),a=i(946689);const o="";var r=i(481392),l=i(981811),s=i(785893);const d=()=>Promise.resolve().then(i.bind(i,481392)),{Provider:c,useHook:u}=(0,a.Z)("IdeaPinVideoPlayer");function p({children:e}){const[t,i]=(0,l.Z)(d,r.initialState),a=(0,n.useMemo)((()=>({dispatch:i,ideaPinVideoPlayerControls:t})),[i,t]);return(0,s.jsx)(c,{value:a,children:e})}function _(){const{dispatch:e}=u();return(0,n.useMemo)((()=>({updateSeekTime:(t,i)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:i||o}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||o}})},updateSeekingIdeaPin:t=>{e(t?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}})),[e])}function h(){const{ideaPinVideoPlayerControls:e}=u();return e}},481392:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a,initialState:()=>n});const n={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function a(e=n,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},424948:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(756766);const a=/\{\s*(\w+)\s*\}/g,o=(e,t)=>(0,n.Z)(a,e,t);function r({args:e,format:t}){const i=(e||[]).reduce(((e,t,i)=>({...e,[i]:t.text})),{});return o(t,i)}},405967:(e,t,i)=>{i.d(t,{J:()=>n,Z:()=>a});const n=-1;function a(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},824082:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(756766);const a=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>(0,n.Z)(a,e,t)},93953:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},756766:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(e,t,i)=>t?t.replace(e,((e,t)=>i&&Object.prototype.hasOwnProperty.call(i,t)?i[t]:"")):""},499237:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(824082),a=i(93953);const o=(e,t)=>{const i={};return Object.keys(t).forEach((e=>{i[e]=t[e]?(0,a.Z)(t[e].toString()):""})),(0,n.Z)(e,i)}},549622:(e,t,i)=>{function n(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}i.d(t,{Z:()=>n})},323386:(e,t,i)=>{i.d(t,{Z:()=>v});var n=i(667294),a=i(203598),o=i(90096),r=i(260531),l=i(602404),s=i(567605),d=i(946689);const{Provider:c,useMaybeHook:u}=(0,d.Z)("timeSpentContext");var p=i(291756),_=i(836153),h=i(785893);function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class g extends n.Component{constructor(e){super(e),m(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),m(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:i,objectId:n,timeSpentContext:a,view:o,viewParameter:r}=this.props;return{view:o||a&&a.view,viewParameter:r||a&&a.viewParameter,component:t||a&&a.component,element:i,objectId:n||a&&a.objectId,clientTrackingParams:e||a&&a.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),m(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),m(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),m(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),m(this,"getTimedPair",(()=>this.state.timedPair)),m(this,"setTimedPair",(e=>this.setState({timedPair:e}))),m(this,"isRegistered",!1),m(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),m(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),m(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:i,left:n,right:a,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===i&&0===n&&0===a&&0===o?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new s.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,l.Z)(e.auxData,this.props.auxData)&&(0,l.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,h.jsx)(c,{value:this.getContext(),children:(0,h.jsx)(a.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:n.Children.only(e)})})}}function y(e){var t;const i=(0,o.Hv)(),a=u(),l=(0,p.w)(),s=(0,_.H0)(),{requestIdentifier:d=""}=(0,r.B)(),c={app_instance_id:d.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,n.useEffect)((()=>{null==l||l.setHistoryStackContext(i)}),[i,l]),(0,n.useEffect)((()=>{null==l||l.setPins(null!=s?s:{})}),[s,l]),l?(0,h.jsx)(g,{...e,auxData:c,timeSpentContext:a,timeSpentManager:l,children:e.children}):e.children}y.displayName="TimeSpent";const v=y},291756:(e,t,i)=>{i.d(t,{j:()=>u,w:()=>c});var n=i(545168),a=i(946689),o=i(260531),r=i(55592),l=i(278286),s=i(785893);const{Provider:d,useMaybeHook:c}=(0,a.Z)("TimeSpentManagerContext");function u({children:e,value:t}){const i=(0,n.v)(),a=(0,r.HG)(),{isAuthenticated:c}=(0,o.B)(),u=a&&c;return(0,l.Z)((()=>{document.hasFocus()&&t(i,u).registerApp(),t(i,u).addEventListeners()})),(0,s.jsx)(d,{value:t(i,u),children:e})}},567605:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(172045),a=i(17314);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const l=class{constructor(e){o(this,"start",(()=>(this.startTime=r(),this.startTime))),o(this,"end",(()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,n.Z)()}catch(t){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},448983:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(935057);function a(){const e=(0,n.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"}},18110:(e,t,i)=>{i.d(t,{U:()=>o,Z:()=>r});var n=i(883119),a=i(785893);const o=", ";function r(){return(0,a.jsx)(n.xu,{display:"visuallyHidden",children:o})}},661068:(e,t,i)=>{i.d(t,{Qy:()=>d,Wu:()=>u,ZP:()=>c});var n=i(616550),a=i(883119),o=i(260531),r=i(935057),l=i(578662),s=i(785893);const d=()=>{const e=(0,l.Z)(),{isInternalIP:t}=(0,o.B)(),i=(0,n.useLocation)();return(t||e.isAuth&&e.isEmployee)&&Object.keys((0,r.mB)(i.search)).some((e=>e.startsWith("deb_")))};function c({data:e}){return(0,s.jsx)(a.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,s.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const u=e=>(0,s.jsx)(a.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,s.jsx)(c,{...e})})},518626:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({ariaHidden:e=!1,color:t="darkGray",size:i}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(n.xv,{color:t,inline:!0,size:null!=i?i:"200",children:""})})}},94630:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),a=i(883119),o=i(518626),r=i(785893);function l(e){return null!=e}function s({additionalPadding:e,color:t="darkGray",inline:i,items:s}){const d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(o.Z,{color:t})}):(0,r.jsx)(o.Z,{color:t}),c=s.filter(l).reduce(((e,t,i)=>[...e,0!==i?d:null,t]),[]).filter(l).map(((e,t)=>(0,r.jsx)(n.Fragment,{children:e},t)));return 0===c.length?null:i?(0,r.jsx)(a.xu,{children:c}):(0,r.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:c})}},723815:(e,t,i)=>{i.d(t,{Z:()=>s,n:()=>r});var n=i(883119),a=i(667294);var o=i(785893);function r({items:e,itemWidth:t,itemGap:i,numRows:n=1,actionItemType:o}){const[r,l]=function(){const[e,t]=(0,a.useState)(0),i=(0,a.useRef)(null),n=(0,a.useCallback)((()=>{i.current&&t(i.current.clientWidth)}),[i]);return(0,a.useEffect)((()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)})),[n]),(0,a.useEffect)(n),[e,i]}(),s=Math.floor((r+i)/(t+i))*n||n,d=e.slice(0,s);let c,u=[];switch(o){case"nextFour":s>=e.length?u=[d.pop()]:(d.pop(),u=e.slice(s-1,s+3));break;case"one":c=s>e.length?e[Math.floor(e.length/2)]:d.pop()}return{containerRef:l,itemsToRender:d,actionItem:c,nextFourItems:u}}const l={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function s({children:e,itemGap:t,containerRef:i,numRows:a=1,rowAlignment:r="center"}){const s=l[r];return(0,o.jsx)(n.xu,{ref:i,width:"100%",children:(0,o.jsx)(n.kC,{alignItems:"center",justifyContent:s.outer,children:(0,o.jsx)(n.kC,{justifyContent:s.inner,gap:{row:Math.floor(t/4),column:0},wrap:a>1,children:e})})})}},708798:(e,t,i)=>{i.d(t,{F9:()=>o,Zo:()=>a});var n=i(946689);const{Provider:a,useHook:o}=(0,n.Z)("toastManagerContext")},733399:(e,t,i)=>{i.d(t,{M:()=>r,Q:()=>o});var n=i(667294);const a=(0,n.createContext)(null),o=()=>(0,n.useContext)(a),r=a.Provider},287421:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(733399);const a=()=>{var e;return(null===(e=(0,n.Q)())||void 0===e?void 0:e.showUnauthContextMenu)||(()=>{})}},666742:(e,t,i)=>{i.d(t,{Ag:()=>o,C0:()=>s,L1:()=>p,Vi:()=>r,YD:()=>u,kS:()=>a,oo:()=>l,p3:()=>_,vC:()=>d,vI:()=>c});var n=i(13081);const a="https://www.pinterest.com/business/hub/",o="https://www.pinterest.com/homefeed/",r="www.pinterest.com",l="https://help.pinterest.com",s=`${(0,n.Z)({site:"www"})}`,d=(0,n.Z)({site:"developers"}),c=`${(0,n.Z)({site:"sterling"})}`,u=`${(0,n.Z)({site:"analytics"})}`,p=`${(0,n.Z)({site:"trends"})}`,_=`${(0,n.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`},1889:(e,t,i)=>{function n(e){const t="--";if((e||"").includes(t)){const i=e.split(t),n=i.pop();return{text:i.join(t),pinId:n}}return{text:"",pinId:e}}i.d(t,{Z:()=>n})},55592:(e,t,i)=>{i.d(t,{HG:()=>u,Kf:()=>r,Mq:()=>a,Wb:()=>c,ZP:()=>p,dA:()=>l,ds:()=>s,ml:()=>d});var n=i(260531);function a(e){const{isMobile:t,isTablet:i}=e.userAgent;return i?"tablet":t?"phone":"desktop"}const o=()=>a((0,n.B)()),r=e=>"phone"===e,l=e=>"tablet"===e,s=e=>"desktop"===e,d=()=>r(o()),c=()=>l(o()),u=()=>s(o()),p=o},981811:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294);function a(e,t){const i=(0,n.useRef)([]),[a,o]=(0,n.useState)(),[r,l]=(0,n.useReducer)(null!=a?a:()=>t,t),s=(0,n.useCallback)((t=>{a?l(t):(i.current.length||e().then((e=>{o((()=>e.default))})),i.current=[...i.current,t])}),[e,a]);return(0,n.useEffect)((()=>{a&&(i.current.forEach(l),i.current=[])}),[a]),[r,s]}},278286:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294);const a=e=>{(0,n.useEffect)(e,[])}},203601:(e,t,i)=>{i.d(t,{Z:()=>r,q:()=>o});var n=i(667294);const a=()=>{const[e,t]=(0,n.useState)(!1),[i,a]=(0,n.useState)(!1),[o,r]=(0,n.useState)(!1);return{active:e,focused:i,hovered:o,onBlur:()=>{a(!1),t(!1)},onFocus:()=>a(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function o({children:e}){return e(a())}const r=a},842179:(e,t,i)=>{i.d(t,{G:()=>l,Z:()=>s});var n=i(667294),a=i(616550),o=i(785893);const r=(0,n.createContext)(!0);function l({children:e}){const t=(0,a.useLocation)(),[i,l]=(0,n.useState)(!0),s=(0,n.useRef)(t);return(0,n.useEffect)((()=>{s.current!==t&&(s.current=t,l(!1))}),[t]),(0,o.jsx)(r.Provider,{value:i,children:e})}function s(){return(0,n.useContext)(r)}},655127:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294);const a=()=>{const e=(0,n.useRef)(!1);return(0,n.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},578662:(e,t,i)=>{i.d(t,{$:()=>a,Z:()=>r});var n=i(946689);const{Provider:a,useHook:o}=(0,n.Z)("viewer"),r=o},222717:(e,t,i)=>{i.d(t,{GW:()=>a,RL:()=>n,s4:()=>o});const n="ios",a="android",o="ipad"},235735:(e,t,i)=>{i.d(t,{Z:()=>o,t:()=>a});const n=()=>{var e,t;const i="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let n,a=null===(o=window)||void 0===o||!o.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var o;return i?"4g"===i?n="40-80":(a="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:a}};function a({vExp3:e,vExp4:t,vExp5:i,vExp6:a,vExp7:o,v720p:r}){const{downloadSpeedGroup:l,screenDimension:s}=n(),d={"1x":e,"2x":i},c={"1x":o,"2x":o};return{unknown:d,"0-1":d,"1-5":{"1x":t,"2x":i},"5-10":{"1x":i,"2x":i},"10-20":{"1x":a,"2x":a},"20-40":c,"40-80":c,"80_or_above":c}[l][s]||r||void 0}function o(e){const{video_list:t={}}=e,i=a({vExp3:t.V_EXP3,vExp4:t.V_EXP4,vExp5:t.V_EXP5,vExp6:t.V_EXP6,vExp7:t.V_EXP7,v720p:t.V_720P}),n=t.V_HLSV3_MOBILE||void 0;return i?{hlsv3:n,mp4:i}:{hlsv3:n}}},356255:(e,t,i)=>{i.d(t,{Z:()=>o,e:()=>a});var n=i(765767);const a=e=>{if("undefined"==typeof window)return"";let t=0;const i=document.querySelector('[data-test-id="header"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:i}=e.getBoundingClientRect();t+=i}break;case"SearchItem":const i=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}const n=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},o=({videosDuration:e,vHLSV4VideoDuration:t,storyPinDataTotalVideoDuration:i})=>(0,n.Z)(e||t||i||0)},314478:(e,t,i)=>{i.d(t,{Z:()=>n});const n={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},951108:(e,t,i)=>{function n(e){let t;switch(e){case 1:t=1;break;case 2:t=2;break;case 3:t=3;break;case 4:t=4;break;case 5:t=5;break;case 6:t=6}return t}i.d(t,{Z:()=>n})},238216:(e,t,i)=>{function n({cropArea:{x:e,y:t,w:i,h:n},scaledWidth:a,scaledHeight:o}){return{x:e/a,y:t/o,w:i/a,h:n/o}}i.d(t,{Z:()=>n})},251324:(e,t,i)=>{function n({cropArea:{x:e=0,y:t=0,w:i=0,h:n=0},scaledWidth:a,scaledHeight:o}){return{h:Math.floor(n*o),w:Math.floor(i*a),x:Math.floor(e*a),y:Math.floor(t*o)}}i.d(t,{Z:()=>n})},475704:(e,t,i)=>{function n({cropArea:{x:e,y:t,w:i,h:n},cropSource:a,searchQuery:o,entry:r,entrySource:l,title:s,trafficSource:d,imageSignature:c}){const u=[];e>=0&&t>=0&&i>=0&&n>=0&&u.push(`x=${e}`,`y=${t}`,`w=${i}`,`h=${n}`),a&&u.push(`cropSource=${a}`),l&&u.push(`entrySource=${l}`),o&&u.push(`q=${o}`),s&&u.push(`full_feed_title=${encodeURIComponent(s)}`),c&&u.push(`imageSignature=${c}`),d&&"unknown"!==d&&u.push(`rs=${d}`),r&&"shop"===r&&u.push(`entry=${r}`);return u.length?`?${u.join("&")}`:""}i.d(t,{Z:()=>n})},474478:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(475704);function a({cropArea:e,cropSource:t,entry:i,entrySource:a,isProductOnlyFeed:o,isUnified:r,imageSignature:l,pinId:s,searchQuery:d,title:c,trafficSource:u,view:p}){return`/pin/${s}/${r?"related-products":"visual-search"}/${r||"products"!==p?"":"products/"}${o?"all/":""}${(0,n.Z)({cropArea:e,cropSource:t,entry:i,entrySource:a,title:c,trafficSource:u,searchQuery:d,imageSignature:l})}`}},678088:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(260531),a=i(233423),o=i(578662);function r(){var e;const t=(0,n.B)(),i=(0,o.Z)(),{advertiser:r}=t,l=(0,a.Z)(null!=r&&r.merchant_id?null:{name:"UserResource",options:{user_id:r?r.owner_user_id:i.isAuth&&i.id,field_set_key:"merchant_summary"}});return{merchantId:(null==r?void 0:r.merchant_id)||(null===(e=l.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==r?void 0:r.id)||"",ownerUserId:(null==r?void 0:r.owner_user_id)||(i.isAuth?i.id:""),advertiser:r}}},187642:(e,t,i)=>{i.d(t,{AC:()=>p,AV:()=>o,Bm:()=>u,E2:()=>c,HS:()=>l,cb:()=>n,mX:()=>d,rf:()=>a,yo:()=>r,zv:()=>s});const n=150,a=175,o=300,r=700,l=4e3,s=6e3,d={DESC:"desc",ASC:"asc"},c={SHOPIFY:"SHOPIFY",WOOCOMMERCE:"WOOCOMMERCE"},u=32,p=10},766574:(e,t,i)=>{i.d(t,{C:()=>a,O:()=>n});const n=()=>["2","100","101","102","103","129","138","139","140","143","150","152","155","9051"],a=()=>["108","114","115","116","117","118","119","121","124","125","126","127","129","130","131","132","133","134","136","137","144","145","146","147","148","149","153","154","155","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","174","175","176","179","180","181","182","183","184","185","186","188","189","191","192","4029","4043","4055"]},595658:(e,t,i)=>{i.d(t,{GN:()=>m,Ju:()=>d,lW:()=>_,nl:()=>s,p8:()=>c,so:()=>h});var n=i(667294),a=i(512703),o=i(935057),r=i(187642),l=i(556421);const s=({advertiser:e,history:t,location:i})=>{const n=e&&e.id,r=e&&e.actions,l=(0,o.mB)(i.search),s=l.advertiserId;if(i){const e=!n||r&&r.includes(68);if(!n&&s||!e)return(0,a.Z)(`${i.pathname}`),!0;if(n&&n!==s)return t.replace({pathname:i.pathname,search:`?${(0,o.XP)({...l,advertiserId:n})}`}),!0}return!1};function d(e,t=[]){const i=e=>"function"==typeof e?e():null!=e?e:0;return[...Object.entries(e)].sort((([e,n],[a,o])=>(-1!==(null!=t?t:[]).indexOf(e)?t.indexOf(e):i(n.order))-(-1!==(null!=t?t:[]).indexOf(a)?t.indexOf(a):i(o.order)))).map((([e,t])=>[e,t]))}function c(e,t,i){const n=e=>null==e,a=(e,t,i)=>Number.isNaN(e)&&Number.isNaN(t)?0:Number.isNaN(e)?1:Number.isNaN(t)?-1:i;return(o,l)=>{for(const c of Object.keys(e)){const{value:u,propertyName:p,type:_,isSortable:h,propertyPath:m}=e[c];if(h&&(p||m)&&t===u){var s,d;const e=(null!==(s=null!=p?p:m)&&void 0!==s?s:"").split(".").reduce(((e,t)=>null==e?void 0:e[t]),o),t=(null!==(d=null!=p?p:m)&&void 0!==d?d:"").split(".").reduce(((e,t)=>null==e?void 0:e[t]),l);if(n(e)&&n(t))return 0;if(n(e))return 1;if(n(t))return-1;if(_===Number){const n=Number(e),o=Number(t);return a(n,o,i===r.mX.ASC?n-o:o-n)}if(_===Date){const n=new Date(e),o=new Date(t);return a(n.getTime(),o.getTime(),i===r.mX.ASC?n-o:o-n)}if(_===String||!_){const n=String(e),a=String(t);return i===r.mX.ASC?n.localeCompare(a):a.localeCompare(n)}}}return null}}function u(e){const t=function(e){const{type:t}=(0,n.createElement)(e);return t}(e);return e=>t===e.type}function p(e){return n.Children.toArray(e).flatMap((e=>u(n.Fragment)(e)?p(e.props.children):e))}function _(e,t){var i;return null!==(i=p(e).find(u(t)))&&void 0!==i?i:null}function h(e,t){return p(e).filter(u(t))}const m=(e,t,i)=>{if(i===l.Be[Number(t)]){if(1===Number(t))return e.bt(" ", "All Products", "catalogs.productGroup.name.allProducts", undefined, true);if(2===Number(t))return e.bt(" ", "Best Deals", "catalogs.productGroup.name.bestDeals", undefined, true);if(3===Number(t))return e.bt(" ", "Most Popular", "catalogs.productGroup.name.mostPopular", undefined, true);if(4===Number(t))return e.bt(" ", "Top Sellers", "catalogs.productGroup.name.topSellers", undefined, true);if(5===Number(t))return e.bt("  ", "Back In Stock", "catalogs.productGroup.name.inStock", undefined, true);if(6===Number(t))return e.bt(" ", "New Arrivals", "catalogs.productGroup.name.newArrivals", undefined, true)}return i}},608205:(e,t,i)=>{i.d(t,{$E:()=>n,AG:()=>f,EF:()=>p,F4:()=>m,HB:()=>b,Hm:()=>u,N7:()=>o,OF:()=>d,Qv:()=>c,RS:()=>g,TL:()=>_,Wd:()=>s,Wg:()=>P,gp:()=>v,n6:()=>h,pg:()=>a,qN:()=>r,ul:()=>y,v6:()=>x,yn:()=>l});const n=[1,3],a={1:5,2:8,3:24,4:24},o={inStockCount:"inStockProductCount",outOfStockCount:"outOfStockProductCount",preorderCount:"preorderProductCount"},r={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",COMPLETED_EARLY:"COMPLETED_EARLY",UNDER_REVIEW:"UNDER_REVIEW",DISAPPROVED:"DISAPPROVED",QUEUED_FOR_PROCESSING:"QUEUED_FOR_PROCESSING",UNDER_APPEAL:"UNDER_APPEAL"},l={PENDING:"PENDING",ACTIVE:"ACTIVE",PAUSED:"PAUSED",DISABLED:"DISABLED",INACTIVE:"INACTIVE"},s={APPROVED:"approved",PENDING:"pending",DECLINED:"declined",REVOKED:"revoked",STAGING:"staging",PROD_TEST:"prod_test",APPEAL_PENDING:"appeal_pending"},d={MARKETPLACE:"MARKETPLACE",MARKETPLACE_SECOND_HAND:"MARKETPLACE_SECOND_HAND",MARKETPLACE_AFFILIATES:"MARKETPLACE_AFFILIATES",MARKETPLACE_WHOLESALE:"MARKETPLACE_WHOLESALE",PROHIBITED_PRODUCTS:"PROHIBITED_PRODUCTS",SERVICES:"SERVICES",DOMAIN_AGE:"DOMAIN_AGE",DOMAIN_MISMATCH:"DOMAIN_MISMATCH",SHIPPING:"SHIPPING",RETURNS:"RETURNS",BROKEN_URL:"BROKEN_URL",BROKEN_404:"BROKEN_404",BROKEN_REGISTRATION:"BROKEN_REGISTRATION",INCOMPLETE:"INCOMPLETE",AUTHENTICITY:"AUTHENTICITY",IN_STOCK:"IN_STOCK",BANNER_ADS:"BANNER_ADS",LOW_QUALITY_IMAGERY:"LOW_QUALITY_IMAGERY",SALE:"SALE",OUT_OF_DATE:"OUT_OF_DATE",PRODUCTS:"PRODUCTS",POP_UP:"POP_UP",MINIMUM_WEBSITE_QUALITY:"MINIMUM_WEBSITE_QUALITY",BROKEN_SOCIAL_MEDIA:"BROKEN_SOCIAL_MEDIA",INACTIVE_FEED:"INACTIVE_FEED",TERMINATED:"TERMINATED",LABELING:"LABELING",TS:"TS",ADS_QUALITY:"ADS_QUALITY",PINNER:"PINNER",SHOPPING:"SHOPPING",MERCHANT:"MERCHANT",HUMAN_REVIEW_CONFIRMED_PINNER_REPORTS_HIGH:"HUMAN_REVIEW_CONFIRMED_PINNER_REPORTS_HIGH",HUMAN_REVIEW_CONFIRMED_PINNER_REPORTS_MED:"HUMAN_REVIEW_CONFIRMED_PINNER_REPORTS_MED",HUMAN_REVIEW_COPYRIGHT_DMCA_STRIKES_HIGH:"HUMAN_REVIEW_COPYRIGHT_DMCA_STRIKES_HIGH",HUMAN_REVIEW_COPYRIGHT_DMCA_STRIKES_MED:"HUMAN_REVIEW_COPYRIGHT_DMCA_STRIKES_MED",RESALE_MARKETPLACE:"RESALE_MARKETPLACE",AFFILIATE_MARKETPLACE:"AFFILIATE_MARKETPLACE",WEBSITE_REQUIREMENTS:"WEBSITE_REQUIREMENTS",PRODUCT_REQUIREMENTS:"PRODUCT_REQUIREMENTS",BRAND_REPUTATION:"BRAND_REPUTATION"},c=[d.TS,d.ADS_QUALITY,d.PINNER,d.SHOPPING,d.MERCHANT],u={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",NEW_NOT_YET_ACTIVE:"NEW_NOT_YET_ACTIVE",TESTING:"TESTING"},p=[r.PROCESSING,r.QUEUED_FOR_PROCESSING],_={DISMISS_INGESTION_STATUS_POPUP:1,DATA_SOURCE_PENDING_GOT_IT_DISMISSED:2,DATA_SOURCE_VERIFIED_GOT_IT_DISMISSED:3,PRODUCT_GROUPS_CREATE_GOT_IT_DISMISSED:4,PRODUCT_GROUPS_PROMOTE_GOT_IT_DISMISSED:5,ADD_DATA_SOURCE_GOT_IT_DISMISSED:6,FEED_PROFILES_NEW_BADGE_SEEN:7,PRODUCT_GROUPS_SELECTED_METRICS:8,SHOPIFY_COLLECTION_MODAL_GOT_IT_DISMISSED:9,SHOPIFY_COLLECTION_CALLOUT_GOT_IT_DISMISSED:10,PRODUCT_GROUPS_NEW_BADGE_SEEN:11,PRODUCT_GROUPS_METRICS_SELECTED_NUM_OF_DAYS:12,I2PC_MODAL_GOT_IT_DISMISSED:13},h={PENDING:0,SUCCESS:1,UNKNOWN_FAILURE:2,BAD_URL_OR_CREDENTIAL:3,UNSUPPORTED_PROTOCOL:4,BAD_FEED_FORMAT:5,EMPTY_FEED_PROFILE:6,HTML:7,MISSING_REQUIRED_HEADERS:8},m="USD",g="None",y={IN_STOCK:"IN STOCK",OUT_OF_STOCK:"OUT OF STOCK",PREORDER:"PREORDER"},v=e=>[{value:"AED",label:e.bt("AED -  ", "AED - United Arab Emirates Dirham", "[catalogs] name of AED currency", undefined, true)},{value:"AFN",label:e.bt("AFN - ", "AFN - Afghanistan Afghani", "[catalogs] name of AFN currency", undefined, true)},{value:"ALL",label:e.bt("ALL -  ", "ALL - Albania Lek", "[catalogs] name of ALL currency", undefined, true)},{value:"AMD",label:e.bt("AMD -  ", "AMD - Armenia Dram", "[catalogs] name of AMD currency", undefined, true)},{value:"ANG",label:e.bt("ANG -   ", "ANG - Netherlands Antilles Guilder", "[catalogs] name of ANG currency", undefined, true)},{value:"AOA",label:e.bt("AOA -  ", "AOA - Angola Kwanza", "[catalogs] name of AOA currency", undefined, true)},{value:"ARS",label:e.bt("ARS -  ", "ARS - Argentina Peso", "[catalogs] name of ARS currency", undefined, true)},{value:"AUD",label:e.bt("AUD -  ", "AUD - Australia Dollar", "[catalogs] name of AUD currency", undefined, true)},{value:"AWG",label:e.bt("AWG -  ", "AWG - Aruba Guilder", "[catalogs] name of AWG currency", undefined, true)},{value:"AZN",label:e.bt("AZN -   ", "AZN - Azerbaijan New Manat", "[catalogs] name of AZN currency", undefined, true)},{value:"BAM",label:e.bt("BAM -    ", "BAM - Bosnia and Herzegovina Convertible Marka", "[catalogs] name of BAM currency", undefined, true)},{value:"BBD",label:e.bt("BBD -  ", "BBD - Barbados Dollar", "[catalogs] name of BBD currency", undefined, true)},{value:"BDT",label:e.bt("BDT -  ", "BDT - Bangladesh Taka", "[catalogs] name of BDT currency", undefined, true)},{value:"BGN",label:e.bt("BGN -  ", "BGN - Bulgaria Lev", "[catalogs] name of BGN currency", undefined, true)},{value:"BHD",label:e.bt("BHD -  ", "BHD - Bahrain Dinar", "[catalogs] name of BHD currency", undefined, true)},{value:"BIF",label:e.bt("BIF -  ", "BIF - Burundi Franc", "[catalogs] name of BIF currency", undefined, true)},{value:"BMD",label:e.bt("BMD -  ", "BMD - Bermuda Dollar", "[catalogs] name of BMD currency", undefined, true)},{value:"BND",label:e.bt("BND -  ", "BND - Brunei Darussalam Dollar", "[catalogs] name of BND currency", undefined, true)},{value:"BOB",label:e.bt("BOB -  ", "BOB - Bolivia Boliviano", "[catalogs] name of BOB currency", undefined, true)},{value:"BRL",label:e.bt("BRL -  ", "BRL - Brazil Real", "[catalogs] name of BRL currency", undefined, true)},{value:"BSD",label:e.bt("BSD -  ", "BSD - Bahamas Dollar", "[catalogs] name of BSD currency", undefined, true)},{value:"BTN",label:e.bt("BTN -  ", "BTN - Bhutan Ngultrum", "[catalogs] name of BTN currency", undefined, true)},{value:"BWP",label:e.bt("BWP -  ", "BWP - Botswana Pula", "[catalogs] name of BWP currency", undefined, true)},{value:"BYR",label:e.bt("BYR -  ", "BYR - Belarus Ruble", "[catalogs] name of BYR currency", undefined, true)},{value:"BZD",label:e.bt("BZD -  ", "BZD - Belize Dollar", "[catalogs] name of BZD currency", undefined, true)},{value:"CAD",label:e.bt("CAD -  ", "CAD - Canada Dollar", "[catalogs] name of CAD currency", undefined, true)},{value:"CDF",label:e.bt("CDF -  ", "CDF - Congo/Kinshasa Franc", "[catalogs] name of CDF currency", undefined, true)},{value:"CHF",label:e.bt("CHF -  ", "CHF - Switzerland Franc", "[catalogs] name of CHF currency", undefined, true)},{value:"CLP",label:e.bt("CLP -  ", "CLP - Chile Peso", "[catalogs] name of CLP currency", undefined, true)},{value:"CNY",label:e.bt("CNY -  ", "CNY - China Yuan Renminbi", "[catalogs] name of CNY currency", undefined, true)},{value:"COP",label:e.bt("COP -  ", "COP - Colombia Peso", "[catalogs] name of COP currency", undefined, true)},{value:"CRC",label:e.bt("CRC -  ", "CRC - Costa Rica Colon", "[catalogs] name of CRC currency", undefined, true)},{value:"CUC",label:e.bt("CUC -    ", "CUC - Cuba Convertible Peso", "[catalogs] name of CUC currency", undefined, true)},{value:"CUP",label:e.bt("CUP -  ", "CUP - Cuba Peso", "[catalogs] name of CUP currency", undefined, true)},{value:"CVE",label:e.bt("CVE -    ", "CVE - Cape Verde Escudo", "[catalogs] name of CVE currency", undefined, true)},{value:"CZK",label:e.bt("CZK -  ", "CZK - Czech Republic Koruna", "[catalogs] name of CZK currency", undefined, true)},{value:"DJF",label:e.bt("DJF -  ", "DJF - Djibouti Franc", "[catalogs] name of DJF currency", undefined, true)},{value:"DKK",label:e.bt("DKK -  ", "DKK - Denmark Krone", "[catalogs] name of DKK currency", undefined, true)},{value:"DOP",label:e.bt("DOP -  ", "DOP - Dominican Republic Peso", "[catalogs] name of DOP currency", undefined, true)},{value:"DZD",label:e.bt("DZD -  ", "DZD - Algeria Dinar", "[catalogs] name of DZD currency", undefined, true)},{value:"EGP",label:e.bt("EGP -  ", "EGP - Egypt Pound", "[catalogs] name of EGP currency", undefined, true)},{value:"ERN",label:e.bt("ERN -  ", "ERN - Eritrea Nakfa", "[catalogs] name of ERN currency", undefined, true)},{value:"ETB",label:e.bt("ETB -  ", "ETB - Ethiopia Birr", "[catalogs] name of ETB currency", undefined, true)},{value:"EUR",label:e.bt("EUR -      ", "EUR - Euro Member Countries", "[catalogs] name of EUR currency", undefined, true)},{value:"FJD",label:e.bt("FJD -  ", "FJD - Fiji Dollar", "[catalogs] name of FJD currency", undefined, true)},{value:"FKP",label:e.bt("FKP -    ()", "FKP - Falkland Islands (Malvinas) Pound", "[catalogs] name of FKP currency", undefined, true)},{value:"GBP",label:e.bt("GBP -  ", "GBP - United Kingdom Pound", "[catalogs] name of GBP currency", undefined, true)},{value:"GEL",label:e.bt("GEL -  ", "GEL - Georgia Lari", "[catalogs] name of GEL currency", undefined, true)},{value:"GGP",label:e.bt("GGP -  ", "GGP - Guernsey Pound", "[catalogs] name of GGP currency", undefined, true)},{value:"GHS",label:e.bt("GHS -  ", "GHS - Ghana Cedi", "[catalogs] name of GHS currency", undefined, true)},{value:"GIP",label:e.bt("GIP -   ", "GIP - Gibraltar Pound", "[catalogs] name of GIP currency", undefined, true)},{value:"GMD",label:e.bt("GMD -  ", "GMD - Gambia Dalasi", "[catalogs] name of GMD currency", undefined, true)},{value:"GNF",label:e.bt("GNF -  ", "GNF - Guinea Franc", "[catalogs] name of GNF currency", undefined, true)},{value:"GTQ",label:e.bt("GTQ -  ", "GTQ - Guatemala Quetzal", "[catalogs] name of GTQ currency", undefined, true)},{value:"GYD",label:e.bt("GYD -  ", "GYD - Guyana Dollar", "[catalogs] name of GYD currency", undefined, true)},{value:"HKD",label:e.bt("HKD -   ", "HKD - Hong Kong Dollar", "[catalogs] name of HKD currency", undefined, true)},{value:"HNL",label:e.bt("HNL -  ", "HNL - Honduras Lempira", "[catalogs] name of HNL currency", undefined, true)},{value:"HRK",label:e.bt("HRK -  ", "HRK - Croatia Kuna", "[catalogs] name of HRK currency", undefined, true)},{value:"HTG",label:e.bt("HTG -  ", "HTG - Haiti Gourde", "[catalogs] name of HTG currency", undefined, true)},{value:"HUF",label:e.bt("HUF -  ", "HUF - Hungary Forint", "[catalogs] name of HUF currency", undefined, true)},{value:"IDR",label:e.bt("IDR -  ", "IDR - Indonesia Rupiah", "[catalogs] name of IDR currency", undefined, true)},{value:"ILS",label:e.bt("ILS -   ", "ILS - Israel Shekel", "[catalogs] name of ILS currency", undefined, true)},{value:"IMP",label:e.bt("IMP -  ", "IMP - Isle of Man Pound", "[catalogs] name of IMP currency", undefined, true)},{value:"INR",label:e.bt("INR -  ", "INR - India Rupee", "[catalogs] name of INR currency", undefined, true)},{value:"IQD",label:e.bt("IQD -  ", "IQD - Iraq Dinar", "[catalogs] name of IQD currency", undefined, true)},{value:"IRR",label:e.bt("IRR -  ", "IRR - Iran Rial", "[catalogs] name of IRR currency", undefined, true)},{value:"ISK",label:e.bt("ISK -  ", "ISK - Iceland Krona", "[catalogs] name of ISK currency", undefined, true)},{value:"JEP",label:e.bt("JEP -  ", "JEP - Jersey Pound", "[catalogs] name of JEP currency", undefined, true)},{value:"JMD",label:e.bt("JMD -  ", "JMD - Jamaica Dollar", "[catalogs] name of JMD currency", undefined, true)},{value:"JOD",label:e.bt("JOD -  ", "JOD - Jordan Dinar", "[catalogs] name of JOD currency", undefined, true)},{value:"JPY",label:e.bt("JPY -  ", "JPY - Japan Yen", "[catalogs] name of JPY currency", undefined, true)},{value:"KES",label:e.bt("KES -  ", "KES - Kenya Shilling", "[catalogs] name of KES currency", undefined, true)},{value:"KGS",label:e.bt("KGS -  ", "KGS - Kyrgyzstan Som", "[catalogs] name of KGS currency", undefined, true)},{value:"KHR",label:e.bt("KHR -  ", "KHR - Cambodia Riel", "[catalogs] name of KHR currency", undefined, true)},{value:"KMF",label:e.bt("KMF -  ", "KMF - Comoros Franc", "[catalogs] name of KMF currency", undefined, true)},{value:"KPW",label:e.bt("KPW -   ()", "KPW - Korea (North) Won", "[catalogs] name of KPW currency", undefined, true)},{value:"KRW",label:e.bt("KRW -   ()", "KRW - Korea (South) Won", "[catalogs] name of KRW currency", undefined, true)},{value:"KWD",label:e.bt("KWD -  ", "KWD - Kuwait Dinar", "[catalogs] name of KWD currency", undefined, true)},{value:"KYD",label:e.bt("KYD -   ", "KYD - Cayman Islands Dollar", "[catalogs] name of KYD currency", undefined, true)},{value:"KZT",label:e.bt("KZT -  ", "KZT - Kazakhstan Tenge", "[catalogs] name of KZT currency", undefined, true)},{value:"LAK",label:e.bt("LAK -  ", "LAK - Laos Kip", "[catalogs] name of LAK currency", undefined, true)},{value:"LBP",label:e.bt("LBP -  ", "LBP - Lebanon Pound", "[catalogs] name of LBP currency", undefined, true)},{value:"LKR",label:e.bt("LKR -  ", "LKR - Sri Lanka Rupee", "[catalogs] name of LKR currency", undefined, true)},{value:"LRD",label:e.bt("LRD -  ", "LRD - Liberia Dollar", "[catalogs] name of LRD currency", undefined, true)},{value:"LSL",label:e.bt("LSL -  ", "LSL - Lesotho Loti", "[catalogs] name of LSL currency", undefined, true)},{value:"LYD",label:e.bt("LYD -  ", "LYD - Libya Dinar", "[catalogs] name of LYD currency", undefined, true)},{value:"MAD",label:e.bt("MAD -  ", "MAD - Morocco Dirham", "[catalogs] name of MAD currency", undefined, true)},{value:"MDL",label:e.bt("MDL -  ", "MDL - Moldova Leu", "[catalogs] name of MDL currency", undefined, true)},{value:"MGA",label:e.bt("MGA -  ", "MGA - Madagascar Ariary", "[catalogs] name of MGA currency", undefined, true)},{value:"MKD",label:e.bt("MKD -  ", "MKD - Macedonia Denar", "[catalogs] name of MKD currency", undefined, true)},{value:"MMK",label:e.bt("MMK -   ()", "MMK - Myanmar (Burma) Kyat", "[catalogs] name of MMK currency", undefined, true)},{value:"MNT",label:e.bt("MNT -  ", "MNT - Mongolia Tughrik", "[catalogs] name of MNT currency", undefined, true)},{value:"MOP",label:e.bt("MOP -  ", "MOP - Macau Pataca", "[catalogs] name of MOP currency", undefined, true)},{value:"MRO",label:e.bt("MRO -  ", "MRO - Mauritania Ouguiya", "[catalogs] name of MRO currency", undefined, true)},{value:"MUR",label:e.bt("MUR -  ", "MUR - Mauritius Rupee", "[catalogs] name of MUR currency", undefined, true)},{value:"MVR",label:e.bt("MVR -   ( )", "MVR - Maldives (Maldive Islands) Rufiyaa", "[catalogs] name of MVR currency", undefined, true)},{value:"MWK",label:e.bt("MWK -  ", "MWK - Malawi Kwacha", "[catalogs] name of MWK currency", undefined, true)},{value:"MXN",label:e.bt("MXN -  ", "MXN - Mexico Peso", "[catalogs] name of MXN currency", undefined, true)},{value:"MYR",label:e.bt("MYR -  ", "MYR - Malaysia Ringgit", "[catalogs] name of MYR currency", undefined, true)},{value:"MZN",label:e.bt("MZN -  ", "MZN - Mozambique Metical", "[catalogs] name of MZN currency", undefined, true)},{value:"NAD",label:e.bt("NAD -  ", "NAD - Namibia Dollar", "[catalogs] name of NAD currency", undefined, true)},{value:"NGN",label:e.bt("NGN -  ", "NGN - Nigeria Naira", "[catalogs] name of NGN currency", undefined, true)},{value:"NIO",label:e.bt("NIO -  ", "NIO - Nicaragua Cordoba", "[catalogs] name of NIO currency", undefined, true)},{value:"NOK",label:e.bt("NOK -  ", "NOK - Norway Krone", "[catalogs] name of NOK currency", undefined, true)},{value:"NPR",label:e.bt("NPR -  ", "NPR - Nepal Rupee", "[catalogs] name of NPR currency", undefined, true)},{value:"NZD",label:e.bt("NZD -  ", "NZD - New Zealand Dollar", "[catalogs] name of NZD currency", undefined, true)},{value:"OMR",label:e.bt("OMR -  ", "OMR - Oman Rial", "[catalogs] name of OMR currency", undefined, true)},{value:"PAB",label:e.bt("PAB -  ", "PAB - Panama Balboa", "[catalogs] name of PAB currency", undefined, true)},{value:"PEN",label:e.bt("PEN -   ", "PEN - Peru Nuevo Sol", "[catalogs] name of PEN currency", undefined, true)},{value:"PGK",label:e.bt("PGK -    ", "PGK - Papua New Guinea Kina", "[catalogs] name of PGK currency", undefined, true)},{value:"PHP",label:e.bt("PHP -  ", "PHP - Philippines Peso", "[catalogs] name of PHP currency", undefined, true)},{value:"PKR",label:e.bt("PKR -  ", "PKR - Pakistan Rupee", "[catalogs] name of PKR currency", undefined, true)},{value:"PLN",label:e.bt("PLN -  ", "PLN - Poland Zloty", "[catalogs] name of PLN currency", undefined, true)},{value:"PYG",label:e.bt("PYG -  ", "PYG - Paraguay Guarani", "[catalogs] name of PYG currency", undefined, true)},{value:"QAR",label:e.bt("QAR -  ", "QAR - Qatar Riyal", "[catalogs] name of QAR currency", undefined, true)},{value:"RON",label:e.bt("RON -   ", "RON - Romania New Leu", "[catalogs] name of RON currency", undefined, true)},{value:"RSD",label:e.bt("RSD -  ", "RSD - Serbia Dinar", "[catalogs] name of RSD currency", undefined, true)},{value:"RUB",label:e.bt("RUB -  ", "RUB - Russia Ruble", "[catalogs] name of RUB currency", undefined, true)},{value:"RWF",label:e.bt("RWF -  ", "RWF - Rwanda Franc", "[catalogs] name of RWF currency", undefined, true)},{value:"SAR",label:e.bt("SAR -  ", "SAR - Saudi Arabia Riyal", "[catalogs] name of SAR currency", undefined, true)},{value:"SBD",label:e.bt("SBD -   ", "SBD - Solomon Islands Dollar", "[catalogs] name of SBD currency", undefined, true)},{value:"SCR",label:e.bt("SCR -  ", "SCR - Seychelles Rupee", "[catalogs] name of SCR currency", undefined, true)},{value:"SDG",label:e.bt("SDG -  ", "SDG - Sudan Pound", "[catalogs] name of SDG currency", undefined, true)},{value:"SEK",label:e.bt("SEK -  ", "SEK - Sweden Krona", "[catalogs] name of SEK currency", undefined, true)},{value:"SGD",label:e.bt("SGD -  ", "SGD - Singapore Dollar", "[catalogs] name of SGD currency", undefined, true)},{value:"SHP",label:e.bt("SHP -   ", "SHP - Saint Helena Pound", "[catalogs] name of SHP currency", undefined, true)},{value:"SLL",label:e.bt("SLL -  ", "SLL - Sierra Leone Leone", "[catalogs] name of SLL currency", undefined, true)},{value:"SOS",label:e.bt("SOS -  ", "SOS - Somalia Shilling", "[catalogs] name of SOS currency", undefined, true)},{value:"SPL",label:e.bt("SPL -  ", "SPL - Seborga Luigino", "[catalogs] name of SPL currency", undefined, true)},{value:"SRD",label:e.bt("SRD -  ", "SRD - Suriname Dollar", "[catalogs] name of SRD currency", undefined, true)},{value:"STD",label:e.bt("STD -    ", "STD - So Tom and Prncipe Dobra", "[catalogs] name of STD currency", undefined, true)},{value:"SVC",label:e.bt("SVC -  ", "SVC - El Salvador Colon", "[catalogs] name of SVC currency", undefined, true)},{value:"SYP",label:e.bt("SYP -  ", "SYP - Syria Pound", "[catalogs] name of SYP currency", undefined, true)},{value:"SZL",label:e.bt("SZL -  ", "SZL - Swaziland Lilangeni", "[catalogs] name of SZL currency", undefined, true)},{value:"THB",label:e.bt("THB -  ", "THB - Thailand Baht", "[catalogs] name of THB currency", undefined, true)},{value:"TJS",label:e.bt("TJS -  ", "TJS - Tajikistan Somoni", "[catalogs] name of TJS currency", undefined, true)},{value:"TMT",label:e.bt("TMT -  ", "TMT - Turkmenistan Manat", "[catalogs] name of TMT currency", undefined, true)},{value:"TND",label:e.bt("TND -  ", "TND - Tunisia Dinar", "[catalogs] name of TND currency", undefined, true)},{value:"TOP",label:e.bt("TOP -  ", "TOP - Tonga Pa'anga", "[catalogs] name of TOP currency", undefined, true)},{value:"TRY",label:e.bt("TRY -  ", "TRY - Turkey Lira", "[catalogs] name of TRY currency", undefined, true)},{value:"TTD",label:e.bt("TTD -   ", "TTD - Trinidad and Tobago Dollar", "[catalogs] name of TTD currency", undefined, true)},{value:"TVD",label:e.bt("TVD -  ", "TVD - Tuvalu Dollar", "[catalogs] name of TVD currency", undefined, true)},{value:"TWD",label:e.bt("TWD -   ", "TWD - Taiwan New Dollar", "[catalogs] name of TWD currency", undefined, true)},{value:"TZS",label:e.bt("TZS -  ", "TZS - Tanzania Shilling", "[catalogs] name of TZS currency", undefined, true)},{value:"UAH",label:e.bt("UAH -  ", "UAH - Ukraine Hryvnia", "[catalogs] name of UAH currency", undefined, true)},{value:"UGX",label:e.bt("UGX -  ", "UGX - Uganda Shilling", "[catalogs] name of UGX currency", undefined, true)},{value:"USD",label:e.bt("USD -  ", "USD - United States Dollar", "[catalogs] name of USD currency", undefined, true)},{value:"UYU",label:e.bt("UYU -  ", "UYU - Uruguay Peso", "[catalogs] name of UYU currency", undefined, true)},{value:"UZS",label:e.bt("UZS -  ", "UZS - Uzbekistan Som", "[catalogs] name of UZS currency", undefined, true)},{value:"VEF",label:e.bt("VEF -  ", "VEF - Venezuela Bolivar", "[catalogs] name of VEF currency", undefined, true)},{value:"VND",label:e.bt("VND -  ", "VND - Viet Nam Dong", "[catalogs] name of VND currency", undefined, true)},{value:"VUV",label:e.bt("VUV -  ", "VUV - Vanuatu Vatu", "[catalogs] name of VUV currency", undefined, true)},{value:"WST",label:e.bt("WST -  ", "WST - Samoa Tala", "[catalogs] name of WST currency", undefined, true)},{value:"XAF",label:e.bt("XAF -       (     (BEAC))", "XAF - Communaut Financire Africaine (BEAC) CFA Franc BEAC", "[catalogs] name of XAF currency", undefined, true)},{value:"XCD",label:e.bt("XCD -   ", "XCD - East Caribbean Dollar", "[catalogs] name of XCD currency", undefined, true)},{value:"XDR",label:e.bt("XDR -        (IMF)", "XDR - International Monetary Fund (IMF) Special Drawing Rights", "[catalogs] name of XDR currency", undefined, true)},{value:"XOF",label:e.bt("XOF -       (     (BCEAO))", "XOF - Communaut Financire Africaine (BCEAO) Franc", "[catalogs] name of XOF currency", undefined, true)},{value:"XPF",label:e.bt("XPF -   (CFP)", "XPF - Comptoirs Franais du Pacifique (CFP) Franc", "[catalogs] name of XPF currency", undefined, true)},{value:"YER",label:e.bt("YER -  ", "YER - Yemen Rial", "[catalogs] name of YER currency", undefined, true)},{value:"ZAR",label:e.bt("ZAR -   ", "ZAR - South Africa Rand", "[catalogs] name of ZAR currency", undefined, true)},{value:"ZMW",label:e.bt("ZMW -  ", "ZMW - Zambia Kwacha", "[catalogs] name of ZMW currency", undefined, true)},{value:"ZWD",label:e.bt("ZWD -  ", "ZWD - Zimbabwe Dollar", "[catalogs] name of ZWD currency", undefined, true)}],f=["Africa/Abidjan","Africa/Accra","Africa/Algiers","Africa/Bissau","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/El_Aaiun","Africa/Johannesburg","Africa/Juba","Africa/Khartoum","Africa/Lagos","Africa/Maputo","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Grand_Turk","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/La_Paz","America/Lima","America/Los_Angeles","America/Maceio","America/Managua","America/Manaus","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Johns","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","CET","CST6CDT","EET","EST","EST5EDT","Etc/GMT","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-13","Etc/GMT-14","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Etc/UTC","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Helsinki","Europe/Istanbul","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/Saratov","Europe/Simferopol","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zaporozhye","Europe/Zurich","HST","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Reunion","MET","MST","MST7MDT","PST8PDT","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","WET"],x=[{label:"English (Canada)",value:"en-CA"},{label:"Franais (Canadien)",value:"fr-CA"}],b=50,P="-"},548362:(e,t,i)=>{i.d(t,{Bc:()=>x,Di:()=>S,Dy:()=>m,Hc:()=>v,I5:()=>A,Qv:()=>d,Sx:()=>E,Vn:()=>w,Yy:()=>_,bD:()=>b,bQ:()=>s,d9:()=>I,do:()=>C,f7:()=>c,gP:()=>T,h$:()=>f,hW:()=>p,p6:()=>h,qH:()=>y,v6:()=>g});i(883119);var n=i(437052),a=i(499237),o=i(766574),r=i(608205),l=i(631959);const s=({feedProfile:e,workflows:t})=>{if(t.length){var i;const n=t[0].workflowStatus,a=r.EF.includes(n);return n===r.qN.DISAPPROVED?r.yn.DISABLED:(null==e?void 0:e.feedStatus)===r.Hm.INACTIVE?r.yn.PAUSED:n===r.qN.UNDER_REVIEW||n===r.qN.UNDER_APPEAL||a&&(null==e||null===(i=e.lastSuccessfulIngestion)||void 0===i?void 0:i.workflowStatus)!==r.qN.COMPLETED?r.yn.PENDING:null!=e&&e.lastSuccessfulIngestion?r.yn.ACTIVE:r.yn.INACTIVE}return null},d=(e,t=null)=>0===e&&(t===l.$o.PENDING||t===l.$o.APPEAL_PENDING),c=e=>({[r.yn.PENDING]:{color:"subtle",icon:"workflow-status-unstarted",text:e.bt("", "Pending", "catalogs.dataSource.UnderReviewStatus", undefined, true)},[r.yn.ACTIVE]:{color:"success",icon:"workflow-status-in-progress",text:e.bt("", "Active", "catalogs.dataSource.ActiveStatus", undefined, true)},[r.yn.PAUSED]:{color:"subtle",icon:"workflow-status-halted",text:e.bt("  ", "Paused", "catalogs.dataSource.PausedStatus", undefined, true)},[r.yn.DISABLED]:{color:"error",icon:"workflow-status-problem",text:e.bt("", "Disabled", "catalogs.dataSource.DisabledStatus", undefined, true)},[r.yn.INACTIVE]:{color:"error",icon:"workflow-status-problem",text:e.bt(" ", "Inactive", "catalogs.dataSource.InactiveStatus", undefined, true)}}),u={SHOPIFY:"Shopify",WOOCOMMERCE:"WooCommerce",ADOBE:"Adobe",SALESFORCE:"Salesforce"},p=(e,t,i)=>{if(i&&i in u)return u[i];if(!t)return e.bt("-", "-", "catalogs.dataSource.noFileName", undefined, true);const n=t.split("/");if(1===n.length)return t;const a=n.pop();return a.length>15?"../"+a.slice(a.length-15):"../"+a},_=(e,t,i,n,o)=>`${(0,a.Z)(n.nbt(["{{ count }}  ", "  ({{ count }})", " ({{ count }})", "{{ count }} ", "{{ count }} ", "{{ count }}  "], t, " - ", true),{count:o(e,t)})} | ${(0,a.Z)(n.nbt(["{{ count }}  ", "  ({{ count }})", " ({{ count }})", "{{ count }} ", "{{ count }} ", "{{ count }}  "], i, " - ", true),{count:o(e,i)})}`,h=(e,t,i,a)=>i.toDateString()===t.toDateString()?a.bt("", "Today", "catalogs.dataSources.dateAttribute", undefined, true):(0,n.Z)(e,t,n.k.NUMERIC),m=(e,t)=>{if(!e)return"-";const i=t[e]||e;return i.length>17?i.substring(0,14)+"...":i},g=e=>({...e.validationStatsWarnings,...e.ingestionStatsWarnings}),y=e=>({...e.validationStatsErrors,...e.ingestionStatsErrors}),v=e=>({warningStats:g(e),errorStats:y(e),downloadUrl:e.s3ValidationUrl,s3SourceUrl:e.s3SourceUrl,successCount:e.productCount,workflowStatus:e.workflowStatus,disapprovalReasons:e.disapprovalReasons||[]}),f=(e,t)=>Object.keys(e).length>0||Object.keys(t).length>0,x=e=>({id:e.id,url:e.url,format:e.format,defaultCurrency:e.defaultCurrency,defaultAvailability:"None"===e.defaultAvailability?null:e.defaultAvailability,credential:e.credential,feedStatus:e.feedStatus,feedPreferredScheduleTime:e.feedPreferredScheduleTime,feedPreferredScheduleTimezone:e.feedPreferredScheduleTimezone,locale:e.locale,country:e.country,feedProfileName:e.feedProfileName});function b(e){return e.filter((({workflowStatus:e})=>e===r.qN.COMPLETED||e===r.qN.COMPLETED_EARLY)).some((e=>Object.values(r.N7).some((t=>e[t]&&0!==e[t]))))}function P(e){const t="128",i="1008";return Object.keys(e).every((e=>[t,i].includes(e)))}function w(e,t){return P(t)&&0===Object.keys(e).length||P(t)&&!function(e){return Object.keys(e).some((e=>(0,o.C)().includes(e)))}(e)}function S(e){const{feed_format:t,feed_default_currency:i,default_availability_type:n,id:a,location_config:o,feed_username:r,feed_has_password:l,feed_status:s,preferred_schedule:d,locale:c,country:u,display_name:p,last_successful_ingestion:_,all_products_pg_item_count:h,integration_platform_type:m,created_at:g,domain:y,eligible_for_on_demand_kickoff:v,priority_lane:f,active_epoch_id:x,catalog_id:b}=e||{};return{id:a,url:o?o.full_feed_fetch_location:"",format:t,defaultCurrency:i,defaultAvailability:n,feedStatus:s,feedPreferredScheduleTime:d?d.time:void 0,feedPreferredScheduleTimezone:d?d.timezone:void 0,feedProfileName:p,integrationPlatformType:m,locale:c,country:u,credential:{username:r,hasPassword:l},lastSuccessfulIngestion:(P=_,P?{workflowStatus:P.workflow_status,workflowId:P.feed_fetch_workflow_id,productCount:P.product_count,inStockProductCount:P.in_stock_product_count,outOfStockProductCount:P.out_of_stock_product_count,preorderProductCount:P.preorder_product_count,originalProductCount:P.original_product_count,dateModified:P.created_at,originalUrl:P.original_url,s3SourceUrl:P.s3_source_url,s3ValidationUrl:P.s3_validation_url,validationStatsWarnings:P.validation_stats_warnings||{},validationStatsErrors:P.validation_stats_errors||{},ingestionStatsWarnings:P.ingestion_stats_warnings||{},ingestionStatsErrors:P.ingestion_stats_errors||{},ingestionStatsInfo:P.ingestion_stats_info||{},lastSuccessfulWorkflowId:P.last_successful_workflow_id}:null),allProductsPGItemCount:h,createdAt:g,domain:y,eligibleForOnDemandKickoff:v,priorityLane:f,activeEpochId:x,catalogId:b};var P}function I(e){return(e||[]).map((e=>S(e)))}function T(e,t){return!!(e.id&&t.id?e.id===t.id:e.feedProfileName&&t.feedProfileName&&e.feedProfileName===t.feedProfileName)}function A(e,t){return e.find((e=>T(t,e)))}const k=(e,t)=>({[r.ul.IN_STOCK]:t.bt("", "in stock", "Catalogs.DataSource.feedProfileAvailabilyType.inStock", undefined, true),[r.ul.OUT_OF_STOCK]:t.bt(" ", "out of stock", "Catalogs.DataSource.feedProfileAvailabilyType.outOfStock", undefined, true),[r.ul.PREORDER]:t.bt(" ", "preorder", "Catalogs.DataSource.feedProfileAvailabilyType.preorder", undefined, true)}[e]),E=e=>[{value:"UNAVAILABLE",label:e.bt(" ", "NONE", "Catalogs.DataSource.feedProfileAvailabilyType.none", undefined, true)},...Object.keys(r.ul).map((t=>{var i;return{value:t,label:(null!==(i=k(r.ul[t],e))&&void 0!==i?i:e.bt("  ", "Unknown Type", "Catalogs.DataSource.feedProfileAvailabilyType.Unknown", undefined, true)).toUpperCase()}}))],C=e=>{var t;const{product_pin_approval_status:i="",product_pin_approval_status_reasons:n,format:a,id:o,disapprovalTrackingData:r}=null!==(t=e.data)&&void 0!==t?t:{};return{...e,data:{product_pin_approval_status:i,product_pin_approval_status_reasons:n,disapprovalTrackingData:r,format:a,id:o}}}},556421:(e,t,i)=>{i.d(t,{Be:()=>l,DD:()=>w,EK:()=>s,Eo:()=>h,Gv:()=>de,HK:()=>Y,J_:()=>le,KO:()=>j,MD:()=>O,MU:()=>L,PD:()=>F,Pf:()=>ae,QE:()=>I,QX:()=>U,R0:()=>W,Rd:()=>se,S8:()=>oe,V0:()=>g,VO:()=>ie,WH:()=>C,XT:()=>x,Y3:()=>c,aF:()=>M,aZ:()=>n,bS:()=>m,cU:()=>S,cm:()=>G,d0:()=>P,eu:()=>_,g2:()=>T,gd:()=>A,h1:()=>B,h8:()=>o,hh:()=>b,iu:()=>$,j0:()=>ne,j1:()=>N,k7:()=>q,kc:()=>p,kl:()=>u,kq:()=>y,l5:()=>v,pA:()=>re,pF:()=>z,pM:()=>R,pV:()=>f,ps:()=>r,q9:()=>d,qB:()=>V,qf:()=>ee,r2:()=>k,rC:()=>D,rD:()=>Q,sG:()=>Z,ss:()=>te,t7:()=>J,ul:()=>a,vr:()=>X,wZ:()=>K,yA:()=>H,yq:()=>E});const n=864e5,a={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},o={NEW:"new",USED:"used",REFURBISHED:"refurbished"},r={MALE:"male",FEMALE:"female",UNISEX:"unisex"},l={1:"All Products",2:"Best Deals",3:"Most Popular",4:"Top Sellers",5:"Back In Stock",6:"New Arrivals"},s={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},d=[1,2,3,4,5,6,7,8],c=[1,2,3,4,5,6,8],u=[1,2,3,4,5,6,7,0,8],p=90,_=350,h=72,m=450,g=200,y=12,v=114,f={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},x={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},b={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},P=[b.PRODUCT_CATEGORY,b.PRODUCT_TYPE,b.BRANDS,b.CUSTOM_LABEL_0,b.CUSTOM_LABEL_1,b.CUSTOM_LABEL_2,b.CUSTOM_LABEL_3,b.CUSTOM_LABEL_4],w={[b.ITEM_ID]:["ITEM_ID"],[b.ITEM_GROUP_ID]:["ITEM_GROUP_ID"],[b.PRODUCT_CATEGORY]:["GOOGLE_PRODUCT_CATEGORY_0"],[b.PRODUCT_TYPE]:["PRODUCT_TYPE_0"],[b.COST]:["MIN_PRICE","MAX_PRICE"],[b.BRANDS]:["BRAND"],[b.CUSTOM_LABEL]:["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"],[b.AVAILABILITY]:["AVAILABILITY"],[b.CONDITION]:["CONDITION"],[b.GENDER]:["GENDER"]},S=[b.CUSTOM_LABEL,b.COST,b.CURRENCY],I={1:a.IN_STOCK,2:a.OUT_OF_STOCK,3:a.PREORDER},T={1:o.NEW,2:o.USED,3:o.REFURBISHED},A={1:r.MALE,2:r.FEMALE,3:r.UNISEX},k={1:b.ITEM_ID,5:b.PRODUCT_CATEGORY,12:b.PRODUCT_TYPE,3:b.BRANDS,2:b.AVAILABILITY,17:b.CUSTOM_LABEL_0,18:b.CUSTOM_LABEL_1,19:b.CUSTOM_LABEL_2,20:b.CUSTOM_LABEL_3,21:b.CUSTOM_LABEL_4,4:b.CONDITION,25:b.GENDER,22:b.PRICE,23:b.PRICE,26:b.CURRENCY,24:b.ITEM_GROUP_ID},E={[b.ITEM_ID]:1,[b.PRODUCT_CATEGORY]:5,[b.PRODUCT_TYPE]:12,[b.BRANDS]:3,[b.AVAILABILITY]:2,[b.CUSTOM_LABEL_0]:17,[b.CUSTOM_LABEL_1]:18,[b.CUSTOM_LABEL_2]:19,[b.CUSTOM_LABEL_3]:20,[b.CUSTOM_LABEL_4]:21,[b.CONDITION]:4,[b.GENDER]:25,[b.PRICE]:23,[b.CURRENCY]:26,[b.ITEM_GROUP_ID]:24},C={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},j={[C.GREATER_EXCLUSION]:{filterType:22,filterOperator:{negated:!1,inclusion:!1}},[C.GREATER_INCLUSION]:{filterType:22,filterOperator:{negated:!1,inclusion:!0}},[C.LESS_EXCLUSION]:{filterType:23,filterOperator:{negated:!1,inclusion:!1}},[C.LESS_INCLUSION]:{filterType:23,filterOperator:{negated:!1,inclusion:!0}}},R="newlyCreatedPGId",D="storefront",O={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},L=163,z=350,F={LIST:"LIST",GRID:"GRID"},N="236x",M=23,B=164,Z=256,U=112,G="calc(100vh - 175px)",H=75,K=200,V=40,W={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC",PRODUCT_GROUP_COUNTRY:"PRODUCT_GROUP_COUNTRY"},$=500,q=20,Y=40,X=100,J=4,Q={DELETE_FAILED:"DELETE_FAILED",DELETE_SUCCESSFULLY:"DELETE_SUCCESSFULLY",REMOVE_SUCCESSFULLY:"REMOVE_SUCCESSFULLY"},ee={ALL:"ALL",MIXED:"MIXED",FEED_PROFILE:"FEED_PROFILE"},te="US",ie="selectedCountryKey",ne="selectedFeedProfileId",ae="NEXT_BUTTON",oe="PRODUCT_GROUP_NAME_INPUT",re="APPLY_FILTER_BUTTON",le="activated",se="ads_create_source_param",de="SIMILARLY_PRICED_PG_GUIDANCE_ID"},488488:(e,t,i)=>{i.d(t,{G7:()=>a,Lp:()=>o,Ib:()=>d});var n=i(233423);function a(e={},t=!0){const i=(0,n.Z)(t?null:{name:"FeaturedProductGroupsResource",enabledRouteRefresh:!0,options:e});return{...i,isLoaded:!0,data:i&&i.data||[]}}function o(e={}){const t=(0,n.Z)({name:"ProductGroupFilterResource",options:e,enabledRouteRefresh:!0});return{...t,data:t&&t.data||{}}}var r=i(667294),l=i(434012),s=i(595658);function d(e={},t=!1,i=!1){const a=(0,l.ZP)(),o=(0,n.Z)(t?null:{name:"ProductGroupsResource",options:e,enabledRouteRefresh:!0,noCache:i}),d=(0,r.useMemo)((()=>o.data&&o.isLoaded?o.data.map((e=>(e.name=(0,s.GN)(a,e.type,e.name),e))):[]),[a,o.data,o.isLoaded]);return{...o,data:d}}},797684:(e,t,i)=>{i.r(t),i.d(t,{RoleBasedAccessControlProvider:()=>f,useRoleBasedAccessControlContext:()=>v});var n=i(667294),a=i(946689),o=i(835686),r=i(233423),l=i(578662),s=i(612753),d=i(430848),c=i(549622);const u=e=>{const t={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&("object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?t[(0,c.Z)(i)]=e[i]:t[(0,c.Z)(i)]=u(e[i]));return t},p=(e,t)=>{const i=[];for(const o in e)o!==t&&i.push({id:o,...u(e[o])});const n=i.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),a=new Map;for(const o of n)a.set(o.id,o);return a},_={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},m=e=>{const[t,i]=(0,n.useReducer)(h,_),a=(({dispatch:e,isEnabled:t,state:i})=>{const{orbacVisibility:a,disableProfileChanger:o,headerVisible:r}=i;return{changeProfile:(0,n.useCallback)((i=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:i})}),[t,e]),toggleORBACVisibility:(0,n.useCallback)((i=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=i?i:!a})}),[t,e,a]),toggleDisableProfileChanger:(0,n.useCallback)((i=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=i?i:!o})}),[t,e,o]),toggleHeaderVisibility:(0,n.useCallback)((i=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=i?i:!r})}),[t,e,r])}})({dispatch:i,isEnabled:e,state:t}),{activeProfile:o,orbacVisibility:r}=t;(0,n.useEffect)((()=>{const e=(0,d.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,n.useEffect)((()=>{const e=(0,d.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,n.useEffect)((()=>{(0,d.Nh)("orbacVisibility",r)}),[r]),(0,n.useEffect)((()=>{(0,d.Nh)("orbacActiveProfile",o)}),[o]);return{state:t,actions:a,receiveProfiles:(0,n.useCallback)(((e,t)=>{i({type:"LOAD_PROFILES",payload:p(e,t)})}),[i])}};var g=i(785893);const{Provider:y,useMaybeHook:v}=(0,a.Z)("RoleBasedAccessControlContext"),f=({children:e})=>{const{checkExperiment:t}=(0,o.F)(),i=(0,l.Z)(),a=Boolean(i.isAuth&&i.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:d,actions:c,receiveProfiles:u}=m(a),{activeProfile:p,headerVisible:_,profiles:h=[]}=d,v=h?Array.from(h.values()):[],f=(0,s.Z)(v),x=!!(i.isAuth&&v.length>0)&&f,b=i.isAuth?i.id:"",P=i.isAuth?i.username:"",{changeProfile:w,toggleORBACVisibility:S,toggleDisableProfileChanger:I,toggleHeaderVisibility:T}=c;(0,n.useEffect)((()=>{a&&("string"!=typeof f?p||w(b):w(f))}),[f,b,a,w,p]),(0,n.useEffect)((()=>{a&&(x&&!_&&T(!0),!x&&_&&T(!1))}),[T,x,a,_,h]);const{data:A}=(0,r.Z)(a?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),k=null==A?void 0:A.profiles;let E;i&&i.isAuth&&d.activeProfile===i.id?E={id:i.id,permissions:["OWNER"],user:{username:P,businessName:i.fullName,imgUrl:i.imageSmallUrl}}:p&&d.profiles&&(E=d.profiles.get(p)),(0,n.useEffect)((()=>{k&&u(k,b)}),[u,k,b]);const C=d.profiles?Array.from(d.profiles.values()):[];return(0,g.jsx)(y,{value:{profiles:C,headerVisible:d.headerVisible,activeProfile:E,changeProfile:w,toggleORBACVisibility:S,toggleDisableProfileChanger:I,toggleHeaderVisibility:T},children:e})}},568310:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(835686),a=i(797684),o=i(612753);const r=()=>{const{checkExperiment:e}=(0,n.F)(),t=(0,a.useRoleBasedAccessControlContext)(),{activeProfile:i}=t||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,o.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:s}=e("useorbacroutematcher_in_useorbacactingas");return r?s&&!l?Object.freeze({}):i&&(i.viewerMeetsMfaRequirement||(i.permissions||[]).includes("OWNER"))?i:Object.freeze({}):Object.freeze({})}},612753:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(616550),a=i(504289),o=i(835686),r=i(578662),l=i(836153);const s=e=>{var t,i,s,d;const c=(0,n.useLocation)(),u=(0,r.Z)(),p=(0,l.S6)(),{anyEnabled:_}=(0,o.F)().checkExperiment("web_m10n_business_access_orbac_www"),h=(0,n.useRouteMatch)("/:username"),m=null==h||null===(t=h.params)||void 0===t?void 0:t.username,g=(0,n.useRouteMatch)("/pin/:id"),y=!(null==g||null===(i=g.params)||void 0===i||!i.id)&&(null===(s=p(g.params.id))||void 0===s||null===(d=s.pinner)||void 0===d?void 0:d.id);if((0,a.ej)(c))return!1;if((0,a.RU)(c))return!0;if((0,a.mY)(c))return _;const v=e.concat(u.isAuth?{user:{username:u.username},id:u.id}:{}).find((e=>{const{user:t={},id:i}=e||{},{username:n}=t;return!!(n&&m||y&&i)&&(n===m||y===i)}));return!!v&&v.id}},581444:(e,t,i)=>{i.d(t,{D3:()=>d,DX:()=>l,KY:()=>c,Ms:()=>n,N1:()=>u,_P:()=>r,lJ:()=>o,nl:()=>a,q6:()=>s});const n=(e,t)=>{let i=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(i=t.user.username),i},a=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,i)=>{var n;return i&&i.user&&t&&t.isAuth&&i.id!==t.id?i.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},l=(e,t,i)=>i&&i.user&&e.isAuth&&i.id!==e.id?i.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,s=(e,t,i)=>!!(e&&e.isAuth&&i&&i.id&&i.id!==e.id&&i.id===t),d=(e,t,i)=>!!(s(e,t,i)||e&&e.isAuth&&t===e.id),c=(e,t,i)=>{const n=t&&t.owner&&t.owner.id||"";return d(e,n,i)};function u(e,t,i){const n=t?t.id:"";return d(e,n,i)}},531142:(e,t,i)=>{i.d(t,{N:()=>p,t:()=>m});var n=i(667294),a=i(904062),o=i(592555),r=i(792350),l=i(722690),s=i(946689),d=i(835686),c=i(785893);const{Provider:u,useHook:p}=(0,s.Z)("LinkedAccount"),_=e=>{(0,o.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},h=e=>{r.Z.reportFacebookConversion(l.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),r.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),r.Z.reportLinkedInConversion(l.Z.LINKEDIN_PARTNER_ID,l.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),r.Z.reportGoogleConversion(l.Z.GOOGLE_ADWORDS_ID,l.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e)};function m({children:e}){const[t,i]=(0,n.useState)(!1),[o,r]=(0,n.useState)([]),{checkExperiment:l}=(0,d.F)(),s=l("ppm_p_gate").anyEnabled,p=(0,n.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:n,nextUrl:o})=>{i(!0);const r={business_name:e,third_party_apps:t};return a.Z.create("BusinessOwnershipResource",r).callCreate({showError:!0}).then((()=>{n&&h(s),i(!1),_(o)})).catch((e=>(i(!1),Promise.reject({error:e}))))}),[i,s]),m=(0,n.useMemo)((()=>({createLinkedBusinessAccount:p,linkedBusinessCreationLoading:t,userAccounts:o,userAccountsRetrieved:r})),[p,t,r,o]);return(0,c.jsx)(u,{value:m,children:e})}},226246:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(883119),a=i(588333),o=i(785893);const r={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function l({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:i}=e,{pin_tags_chips:l}=i||{},s=l&&l.length>=3?l.slice(0,3):[];return(0,o.jsx)(n.xu,{display:"flex",dangerouslySetInlineStyle:{__style:r.chipContainer},children:s.map((i=>{var l,s,d,c;const u=(null===(l=i.images)||void 0===l?void 0:l["750x"])||{},p=(0,o.jsx)(n.Ee,{alt:"",fit:"cover",naturalHeight:null!==(s=u.height)&&void 0!==s?s:1,naturalWidth:null!==(d=u.width)&&void 0!==d?d:1,role:"presentation",src:null!==(c=u.url)&&void 0!==c?c:""});return(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:r.chip},"data-test-id":"collageChip",children:(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:r.chipInner},position:"relative",children:(0,o.jsx)(n.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,o.jsx)(n.zd,{height:"100%",wash:!0,width:"100%",children:t?(0,o.jsx)(a.Z,{sizing:"fullSize",collageChipId:i.id,pin:e,children:p}):p})})})},i.id)}))})}},359587:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294),a=i(545168),o=i(504407);function r(e,t){const{logContextEvent:i}=(0,a.v)(),{componentType:r,contextLogData:l,viewParameter:s,viewType:d}=(0,o.E)(),{aux_data:c,view_type:u,view_parameter:p,component:_,clientTrackingParams:h,...m}=null!=t?t:{};return(0,n.useCallback)((()=>{i({event_type:e,view_type:u||d,view_parameter:p||s,component:_||r,clientTrackingParams:h,...m,aux_data:{...c,...l}})}),[i,c,h,m,p,u,_,r,l,e,s,d])}},911099:(e,t,i)=>{i.d(t,{$:()=>o,B:()=>a});var n=i(946689);const{Provider:a,useHook:o}=(0,n.Z)("SurfaceContext",{surface:"Unknown"})},504407:(e,t,i)=>{i.d(t,{B:()=>a,E:()=>o});var n=i(946689);const{Provider:a,useHook:o}=(0,n.Z)("trackingParametersContext")},294160:(e,t,i)=>{i.d(t,{ZP:()=>C,we:()=>E,nn:()=>k,zn:()=>A});var n=i(667294),a=i(545168),o=i(260531),r=i(233423),l=i(578662),s=i(883119),d=i(816987),c=i(434012),u=i(376410),p=i(643517),_=i(593954),h=i(666742),m=i(835686),g=i(785893);function y({iconAccessibilityLabel:e,icon:t,linkAccessibilityLabel:i,showNavigationIcon:n,text:a}){return(0,g.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,g.jsx)(_.Z,{id:"ad-reason-icon",children:(0,g.jsx)(s.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:t,iconColor:"darkGray"})}),(0,g.jsx)(s.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,g.jsx)(s.xv,{children:a})}),n&&i&&(0,g.jsx)(s.kC,{direction:"column",justifyContent:"center",children:(0,g.jsx)(s.JO,{accessibilityLabel:i,color:"default",icon:"arrow-forward"})})]})}var v=i(392407);function f({brandName:e,language:t,geoRegion:i,geoPostalCode:n,ageBucketMatch:a,localeMatch:o,interestMatch:r,genderMatch:d,deviceMatch:p,isCustomerListMatched:h,isShoppingTargetingRematched:f,isActAlikeMatched:x,isEngagementMatched:b,isExpandTargetingMatched:P,isFromGPSLocation:w,isVisitorMatched:S,isShoppingProspectingMatched:I,isPlPersonaMatched:T,gender:A,device:k}){var E;const C=(0,c.ZP)(),{id:j}=(0,l.Z)(),R=(0,v.mN)()(null!=j?j:""),D=null!==(E=null==R?void 0:R.gender)&&void 0!==E?E:"",{checkExperiment:O}=(0,m.F)(),L=(I||T)&&O("ads_web_waista_v3").anyEnabled;return(0,g.jsx)(_.Z,{id:"ad-reasons",children:(0,g.jsxs)(s.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[""!==a&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("    ", "Icon for ad targeting age bucket", "app.common.react.components.PinRep.components.AdReasons.ageIcon", undefined, true),icon:"person",text:(0,u.nk)(C.bt(" {{ ageBucketMatch }}", "Age {{ ageBucketMatch }}", "app.common.react.components.PinRep.components.AdReasonsModal.ageBucketMatch", undefined, true),{ageBucketMatch:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:a},"ad-reasons-age-bucket")})}),""!==d&&"unspecified"!==D&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("   ", "Icon for ad targeting gender", "app.common.react.components.PinRep.components.AdReasons.genderIcon", undefined, true),icon:"person",text:(0,u.nk)(C.bt("{{ gender }}", "{{ gender }}", "app.common.react.components.PinRep.components.AdReasonsModal.genderMatch", undefined, true),{gender:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:A},"ad-reasons-gender")})}),""!==i&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("   ", "Icon for ad targeting location", "app.common.react.components.PinRep.components.AdReasons.locationIcon", undefined, true),icon:"location",text:(0,u.nk)(C.bt("  {{geoRegion}}", "Based in {{geoRegion}}", "app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting", undefined, true),{geoRegion:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-country-name")})}),""!==n&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("   ", "Icon for ad targeting location", "app.common.react.components.PinRep.components.AdReasons.locationIcon", undefined, true),icon:"location",text:(0,u.nk)(C.bt("  {{geoPostalCode}}", "Based in {{geoPostalCode}}", "app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting", undefined, true),{geoPostalCode:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name")})}),""!==o&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("   ", "Icon for ad targeting locale", "app.common.react.components.PinRep.components.AdReasons.localeIcon", undefined, true),icon:"globe",text:(0,u.nk)(C.bt("  {{ language }}", "Primary language {{ language }}", "app.common.react.components.PinRep.components.AdReasonsModal.localeMatch", undefined, true),{language:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-locale")})}),""!==p&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("   ", "Icon for ad targeting device", "app.common.react.components.PinRep.components.AdReasons.deviceIcon", undefined, true),icon:"desktop",text:(0,u.nk)(C.bt(" {{ device }}", "Using {{ device }}", "app.common.react.components.PinRep.components.AdReasonsModal.deviceMatch", undefined, true),{device:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:k},"ad-reasons-device")})}),""!==r&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("   ", "Icon for ad targeting interest", "app.common.react.components.PinRep.components.AdReasons.interestIcon", undefined, true),icon:"heart",text:(0,u.nk)(C.bt("  {{ interestMatch }}", "Interested in {{ interestMatch }}", "app.common.react.components.PinRep.components.AdReasonsModal.interestMatch", undefined, true),{interestMatch:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-interest")})}),f&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("      ", "Icon for ad targeting user on an audience list", "app.common.react.components.PinRep.components.AdReasons.shoppingTargeting", undefined, true),icon:"history",text:(0,u.nk)(C.bt("  {{brandName}}", "Interacted with {{brandName}}", "app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargeting", undefined, true),{brandName:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-shopping-targeting")})}),S&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("            ", "Icon for ad targeting customers who interacted with this brand previously, visitor matched", "app.common.react.components.PinRep.components.AdReasonsModal.visitorMatchIcon", undefined, true),icon:"history",text:(0,u.nk)(C.bt("  {{brandName}}", "Interacted with {{brandName}}", "app.common.react.components.PinRep.components.AdReasonsModal.visitorTargetingText", undefined, true),{brandName:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reason-visitor")})}),h&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("      ", "Icon for ad targeting user on an audience list", "app.common.react.components.PinRep.components.AdReasons.listIcon", undefined, true),icon:"menu",text:(0,u.nk)(C.bt("    {{brandName}}", "On a list provided by {{brandName}}", "app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting", undefined, true),{brandName:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-customer-list")})}),b&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("      ", "Icon for ad targeting user on engagement audience", "app.common.react.components.PinRep.components.AdReasons.engagementIcon", undefined, true),icon:"pin",text:(0,u.nk)(C.bt("  {{brandName}}  Pinterest", "Interacted with {{brandName}} on Pinterest", "app.common.react.components.PinRep.components.AdReasonsModal.engagementTargeting", undefined, true),{brandName:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-engagement")})}),x&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("      ", "Icon for ad targeting user on act alike", "app.common.react.components.PinRep.components.AdReasons.actAlikeIcon", undefined, true),icon:"graph-bar",text:(0,u.nk)(C.bt("     {{brandName}} ", "Similar demographic or interest as other {{brandName}} customers", "app.common.react.components.PinRep.components.AdReasonsModal.", undefined, true),{brandName:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-act-alike")})}),(P||L)&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("      ", "Icon for ad targeting user on expand targeting", "app.common.react.components.PinRep.components.AdReasons.expandTargeting", undefined, true),icon:"pinterest",text:C.bt("    Pinterest", "Relevant activity on Pinterest", "app.common.react.components.PinRep.components.AdReasonsModal.expandTargeting", undefined, true)}),w&&(0,g.jsx)(y,{iconAccessibilityLabel:C.bt("        ", "Icon for ad targeting user on GPS", "app.common.react.components.PinRep.components.AdReasons.GPS", undefined, true),icon:"location",text:C.bt(" GPS", "GPS Location", "app.common.react.components.PinRep.components.AdReasonsModal.GPS", undefined, true)})]})})}function x({onDismiss:e,brandName:t,userName:i,language:n,geoRegion:o,geoPostalCode:r,ageBucketMatch:l,localeMatch:m,interestMatch:y,genderMatch:v,deviceMatch:x,isCustomerListMatched:b,isShoppingTargetingRematched:P,isActAlikeMatched:w,isEngagementMatched:S,isExpandTargetingMatched:I,isFromGPSLocation:T,isVisitorMatched:E,isShoppingProspectingMatched:C,isPlPersonaMatched:j}){const{logContextEvent:R}=(0,a.v)(),D=(0,c.ZP)(),O=A(v,D),L=k(x,D),z=P||b||S||w||I||T||E||j||C||""!==l||""!==m||""!==y||""!==O||""!==L||""!==o||""!==r,F=h.C0+`/${i}/`;return(0,g.jsx)(d.ZP,{accessibilityModalLabel:D.bt("    ", "Why am I seeing this Ad?", "app.common.react.components.PinRep.components.AdReasonsModal", undefined, true),onDismiss:e,children:(0,g.jsxs)(s.xu,{paddingX:8,paddingY:6,children:[(0,g.jsxs)(s.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,g.jsx)(s.xu,{position:"absolute",left:!0,children:(0,g.jsx)(s.hU,{accessibilityLabel:D.bt("", "Close", "app.common.react.components.PinRep.components.AdReasonsModal.closeModal", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:()=>{R({event_type:102,element:11925,component:13756}),e()},size:"sm"})}),(0,g.jsx)(s.X6,{align:"center",size:"500",children:D.bt("   ", "Why you're seeing this ad", "Heading for promoted Pins explanation", undefined, true)})]}),(0,g.jsxs)(s.xu,{children:[(0,g.jsx)(s.kC,{direction:"column",gap:{row:0,column:4},children:z&&(0,g.jsx)(s.xu,{marginBottom:4,children:(0,g.jsx)(s.xv,{children:(0,u.nk)(D.bt(" {{ brandName }}      .              :", "{{ brandName }} is trying to reach specific groups of people. Based on what you've told us or other information, we think you fit some of those groups:", "app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTA", undefined, true),{brandName:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(s.rU,{href:F,display:"inlineBlock",onClick:()=>{R({event_type:101,component:13756,element:13407})},target:"blank",underline:"hover",children:t})},"ad-reasons-brand-name")})})})}),(0,g.jsx)(_.Z,{id:"ad-reasons",children:(0,g.jsxs)(s.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[(0,g.jsx)(f,{brandName:t,language:n,geoRegion:o,geoPostalCode:r,ageBucketMatch:l,localeMatch:m,genderMatch:v,interestMatch:y,deviceMatch:x,isCustomerListMatched:b,isShoppingTargetingRematched:P,isActAlikeMatched:w,isEngagementMatched:S,isExpandTargetingMatched:I,isFromGPSLocation:T,isVisitorMatched:E,isShoppingProspectingMatched:C,isPlPersonaMatched:j,gender:O,device:L}),z&&(0,g.jsx)(s.xu,{marginBottom:1,children:(0,g.jsx)(s.xv,{children:(0,u.nk)(D.bt("     {{ changeUserSettings }}", "If this isn't right, {{ changeUserSettings }}", "app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettingsText", undefined, true),{changeUserSettings:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(s.rU,{display:"inline",href:`${h.C0}${p.AH}`,onClick:()=>{R({event_type:101,component:13756,element:13361})},target:"blank",underline:"hover",children:D.bt("  ", "update your personal information", "app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettings", undefined, true)})},"ad-reasons-change-user-settings")})})})]})}),(0,g.jsxs)(s.kC,{direction:"column",gap:{row:0,column:1},children:[(0,g.jsx)(s.xu,{marginBottom:1,marginTop:1,children:(0,g.jsx)(s.X6,{size:"400",children:D.bt("  Pinterest", "Ads on Pinterest", "app.common.react.components.PinRep.components.AdReasonsModal.adsOnPinterestHeading", undefined, true)})}),(0,g.jsx)(s.xu,{marginBottom:4,children:(0,g.jsx)(s.xv,{children:(0,u.nk)(D.bt("                       . {{adPreferencesLink}}", "We show you ads that may be based on your profile settings, websites you visit, ads you interact with or other factors. {{adPreferencesLink}}", "app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesText", undefined, true),{adPreferencesLink:(0,g.jsx)(_.Z,{id:"ad-reasons-review-ad-preferences",children:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(s.rU,{display:"inline",href:`${h.C0}${p.Gx}`,onClick:()=>{R({event_type:101,component:13756,element:13401})},target:"blank",underline:"hover",children:D.bt("  ", "Review your ad preferences", "app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesLink", undefined, true)})},"ad-reasons-review-ad-preferences")})})})}),(0,g.jsx)(s.xu,{marginBottom:4,children:(0,g.jsx)(s.xv,{children:(0,u.nk)(D.bt("        {{ privacyPolicyLink }}", "For more about how we collect and use data, {{ privacyPolicyLink }}", "app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText", undefined, true),{privacyPolicyLink:(0,g.jsx)(_.Z,{id:"ad-reasons-privacy-policy",children:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(s.rU,{display:"inline",href:p.R_,onClick:()=>{R({event_type:101,component:13756,element:13402})},target:"blank",underline:"hover",children:D.bt("    ", "read our Privacy Policy", "app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLink", undefined, true)})},"ad-reasons-privacy-policy")})})})}),(0,g.jsx)(s.xu,{marginBottom:4,children:(0,g.jsx)(s.xv,{children:(0,u.nk)(D.bt("      {{ blockAccounts }}", "To stop seeing content from an advertiser, {{ blockAccounts }}", "app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText", undefined, true),{blockAccounts:(0,g.jsx)(_.Z,{id:"ad-reasons-block-accounts",children:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(s.rU,{display:"inline",href:p.K_,onClick:()=>{R({event_type:101,component:13756,element:12058})},target:"blank",underline:"hover",children:D.bt("    ", "learn how to block accounts", "app.common.react.components.PinRep.components.AdReasonsModal.blockAccountLink", undefined, true)})},"ad-reasons-block-accounts")})})})})]})]})]})})}var b=i(836153);const P=4,w=e=>e.bt("", "Female", "waista.modal.attribute.female", undefined, true),S=e=>e.bt("", "Male", "waista.modal.attribute.male", undefined, true),I=e=>e.bt("", "Web", "waista.modal.attribute.web", undefined, true),T=e=>e.bt("    ", "Mobile Web", "waista.modal.attribute.mWeb", undefined, true);function A(e,t){return"FEMALE"===e?w(t):"MALE"===e?S(t):""}function k(e,t){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?I(t):"AppType_WEB_MOBILE"===e?T(t):""}function E(e,t){var i;const{name:n=""}=null!==(i=e.find((e=>e.key===t)))&&void 0!==i?i:{};return n}function C({pinId:e,onDismiss:t}){var i,s,d,c,u;const{logContextEvent:p}=(0,a.v)(),{locale:_}=(0,o.B)(),{country:h=""}=(0,l.Z)(),m=(0,r.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),y=(0,r.Z)({name:"LocalesResource"}),v=(0,b.S6)()(e);(0,n.useEffect)((()=>{p({event_type:120,component:13756})}),[p]);const{ad_targeting_attribution:f,promoter:w}=null!=v?v:{},{is_customer_list_matched:S=!1,is_shopping_retargeting_matched:I=!1,is_actalike_matched:T=!1,is_engagement_matched:A=!1,is_expand_targeting_matched:k=!1,is_from_gps_location:C=!1,is_visitor_matched:j=!1,is_shopping_prospecting_matched:R=!1,is_pl_persona_matched:D=!1,matched_age_bucket:O="",matched_locale:L="",matched_interest:z="",matched_gender:F="",matched_device:N="",geo_region:M="",geo_postal_code:B=""}=null!==(i=function(e=null,t=P){return e&&Object.keys(e).filter((t=>"boolean"==typeof e[t]||"string"==typeof e[t])).slice(0,t).reduce(((t,i)=>({...t,[i]:e[i]})),{})}(f))&&void 0!==i?i:{},Z=null!==(s=null==w?void 0:w.full_name)&&void 0!==s?s:"",U=function(e,t){var i;const{name:n=""}=null!==(i=e.find((e=>e.key===t)))&&void 0!==i?i:{};return n}(null!==(d=m.data)&&void 0!==d?d:[],h),G=E(null!==(c=y.data)&&void 0!==c?c:[],_),H=null!==(u=null==w?void 0:w.username)&&void 0!==u?u:"";return(0,g.jsx)(x,{brandName:Z,userName:H,country:U,language:G,ageBucketMatch:O,localeMatch:L,interestMatch:z,genderMatch:F,deviceMatch:N,isCustomerListMatched:S,isShoppingTargetingRematched:I,isActAlikeMatched:T,isEngagementMatched:A,isExpandTargetingMatched:k,isFromGPSLocation:C,isVisitorMatched:j,onDismiss:t,geoRegion:M,geoPostalCode:B,isShoppingProspectingMatched:R,isPlPersonaMatched:D})}},588333:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(883119),a=i(499934),o=i(2561),r=i(545168),l=i(434012),s=i(243084),d=i(499237),c=i(504407),u=i(785893);function p({sizing:e="default",children:t,collageChipId:i,componentType:p,contextLogData:_,elementType:h,pin:m,viewParameter:g,viewType:y}){const v=(0,l.ZP)(),{logContextEvent:f}=(0,r.v)(),x=(0,c.E)(),{carousel_data:b,id:P}=m,w=!!m.promoted_is_lead_ad;let S,I=`/pin/${i||P}/`;const T=(0,a.Xx)();if(null!=T&&T.variantUrl&&(I=`/pin/${T.variantUrl}/`),b){const{carousel_slots:e=[],id:t,index:i=0}=b;I=`/pin/${P}/`,S={carousel_slot_id:e[i]&&e[i].id,carousel_data_id:t,carousel_slot_index:i}}S={...S||{},...(0,o.Kl)(m,_)||{}};const A=(0,s.Z)({href:I,externalData:{auxData:S,pin:m}});return(0,u.jsx)(n.iP,{accessibilityLabel:(0,d.Z)(v.bt("  {{ pinTitle }}", "{{ pinTitle }} pin page", "pinRep.closeupLink.tapArea.accessibilityLabel", undefined, true),{pinTitle:m.grid_title||m.title||m.description||""}),mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var i,n;t(),w?(f({event_type:8948,view_type:y||x.viewType,view_parameter:g||x.viewParameter,component:null,object_id_str:m.id,aux_data:{closeup_navigation_type:"click",lead_form_id:null===(i=m.promoted_lead_form)||void 0===i?void 0:i.lead_form_id,is_lead_ad:1}}),f({event_type:12,view_type:y||x.viewType,view_parameter:g||x.viewParameter,component:null,object_id_str:m.id,aux_data:{lead_form_id:null===(n=m.promoted_lead_form)||void 0===n?void 0:n.lead_form_id,is_lead_ad:1,...(0,o.Kl)(m)||{}}})):(f({event_type:101,component:p||x.componentType,element:h,object_id_str:P,view_type:y||x.viewType,view_parameter:g||x.viewParameter,aux_data:{..._,...(0,o.Kl)(m,_)||{}}}),f({event_type:8948,view_type:y||x.viewType,view_parameter:g||x.viewParameter,component:p||x.componentType,element:h,object_id_str:P,aux_data:{closeup_navigation_type:"click",..._,...(0,o.Kl)(m,_)||{}}})),A({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:I,role:"link",children:t})}},801553:(e,t,i)=>{i.d(t,{Z:()=>P});var n=i(667294),a=i(616550),o=i(578662),r=i(883119),l=i(483240),s=i(694170),d=i(898960),c=i(203601),u=i(162474),p=i(434012),_=i(708798),h=i(898524),m=i(785893);function g(e){const t=(0,p.ZP)(),{onHide:i}=e,n=(0,m.jsx)(r.xv,{children:t.bt("          Pinterest!", "Thank you for helping improve signal detection on Pinterest!", "pinRep.actionBar.signalDetector.toast", undefined, true)});return(0,m.jsx)(h.ZP,{onHide:i,text:n})}const y=function({anchor:e,onDismiss:t,pinId:i,signals:a}){const l=(0,p.ZP)(),[s,d]=(0,n.useState)(0),c=(0,o.Z)(),{showOneToast:h}=(0,_.F9)();if(!c.isEmployee)return null;const y=a.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:v,icon_url:f,signal_id:x,signal_message:b}=a[s];return(0,m.jsx)(r.mh,{children:(0,m.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,m.jsxs)(r.xu,{padding:4,width:"100%",children:[a.length>1&&(0,m.jsx)(r.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,m.jsx)(r.mQ,{activeTabIndex:s,onChange:({event:e,activeTabIndex:t,dangerouslyDisableOnNavigation:i})=>{i(),(({activeTabIndex:e,event:t})=>{t.preventDefault(),d(e)})({activeTabIndex:t,event:e})},tabs:y})}),(0,m.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(r.X6,{size:"400",children:l.bt("   :", "Signal detected:", "pinRep.actionBar.signalDetector.header", undefined, true)})}),(0,m.jsx)(r.xu,{paddingY:3,children:(0,m.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,m.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:f?(0,m.jsx)(r.Ee,{alt:l.bt(" ", "Signal display", "pinRep.actionBar.signalDetector.signalAsset", undefined, true),color:"white",naturalHeight:1,naturalWidth:1,src:f}):(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:v}},height:40,width:40})}),(0,m.jsx)(r.xv,{size:"200",children:b})]})}),(0,m.jsx)(r.xu,{marginBottom:3,children:(0,m.jsx)(r.xv,{size:"200",children:l.bt("            .    Pinterest.", "If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.", "pinRep.actionBar.signalDetector.instructions", undefined, true)})}),(0,m.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,m.jsx)(r.zx,{fullWidth:!0,color:"red",size:"md",text:l.bt(" ", "Send for review", "pinRep.actionBar.signalDetector.button.review", undefined, true),onClick:()=>{(0,u.Z)({url:`/v3/pins/${i}/signal_request_review/`,method:"POST",data:{signal_id:x,user:c.id}}),t(),h((({hideToast:e})=>(0,m.jsx)(g,{onHide:e})))}}),(0,m.jsx)(r.zx,{fullWidth:!0,color:"gray",size:"md",text:l.bt("", "Cancel", "pinRep.actionBar.signalDetector.button.cancel", undefined, true),onClick:t})]})]})})})};function v({signals:e,pinId:t}){const{background_color:i,icon_url:a,signal_message:o}=e[0],[u,p]=(0,n.useState)(!1),_=(0,n.useRef)();return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(l.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,m.jsx)(d.Z,{children:(0,m.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,m.jsx)(s.Z,{children:(0,m.jsx)(c.q,{children:({hovered:e,onMouseEnter:t,onMouseLeave:n})=>(0,m.jsx)(r.iP,{onTap:()=>p((e=>!e)),rounding:"pill",onMouseEnter:t,onMouseLeave:n,children:(0,m.jsxs)(r.xu,{color:e?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:_,children:[(0,m.jsx)(r.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,m.jsx)(r.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,m.jsx)(r.Ee,{alt:"",color:i,src:null!=a?a:"",naturalHeight:1,naturalWidth:1})})}),(0,m.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:o})]})})})})})})}),u&&_&&_.current&&(0,m.jsx)(y,{anchor:_.current,onDismiss:()=>p(!1),pinId:t,signals:e})]})}const f=({signal:e,anchor:t,setShowFlyout:i,setStore:n})=>{var a;const{hovered:o,onMouseEnter:l,onMouseLeave:s}=(0,c.Z)();return(0,m.jsx)(r.iP,{onTap:()=>(e=>{i((e=>!e)),n(e)})(e),rounding:"pill",onMouseEnter:l,onMouseLeave:s,children:(0,m.jsxs)(r.xu,{color:o?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:t,children:[(0,m.jsx)(r.xu,{display:"flex",minWidth:24,height:24,rounding:"circle",marginEnd:1,color:"default",justifyContent:"center",alignItems:"center",children:(0,m.jsx)(r.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,m.jsx)(r.Ee,{alt:"",color:e.background_color,src:null!==(a=e.icon_url)&&void 0!==a?a:"",naturalHeight:1,naturalWidth:1})})}),(0,m.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:e.signal_message})]})})};const x=function({anchor:e,onDismiss:t,pinId:i,signal:n}){const a=(0,p.ZP)(),l=(0,o.Z)(),{showOneToast:s}=(0,_.F9)();if(!l.isEmployee)return null;const{background_color:d,icon_url:c,signal_id:h,signal_message:y}=n;return(0,m.jsx)(r.mh,{children:(0,m.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,m.jsxs)(r.xu,{padding:4,width:"100%",children:[(0,m.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(r.X6,{size:"400",children:a.bt("   :", "Signal detected:", "pinRep.actionBar.signalDetector.header", undefined, true)})}),(0,m.jsx)(r.xu,{paddingY:3,children:(0,m.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,m.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:c?(0,m.jsx)(r.Ee,{alt:a.bt(" ", "Signal display", "pinRep.actionBar.signalDetector.signalAsset", undefined, true),color:"white",naturalHeight:1,naturalWidth:1,src:c}):(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:d}},height:40,width:40})}),(0,m.jsx)(r.xv,{size:"200",children:y})]})}),(0,m.jsx)(r.xu,{marginBottom:3,children:(0,m.jsx)(r.xv,{size:"200",children:a.bt("            .    Pinterest.", "If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.", "pinRep.actionBar.signalDetector.instructions", undefined, true)})}),(0,m.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,m.jsx)(r.zx,{fullWidth:!0,color:"red",size:"md",text:a.bt(" ", "Send for review", "pinRep.actionBar.signalDetector.button.review", undefined, true),onClick:()=>{(0,u.Z)({url:`/v3/pins/${i}/signal_request_review/`,method:"POST",data:{signal_id:h,user:l.id}}),t(),s((({hideToast:e})=>(0,m.jsx)(g,{onHide:e})))}}),(0,m.jsx)(r.zx,{fullWidth:!0,color:"gray",size:"md",text:a.bt("", "Cancel", "pinRep.actionBar.signalDetector.button.cancel", undefined, true),onClick:t})]})]})})})};function b({signals:e,pinId:t}){const[i,a]=(0,n.useState)(!1),o=(0,n.useRef)(null),[c,u]=(0,n.useState)(e[0]);return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(l.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,m.jsx)(d.Z,{children:(0,m.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,m.jsx)(s.Z,{children:(0,m.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:e.map((e=>(0,m.jsx)(r.xu,{marginEnd:2,children:(0,m.jsx)(f,{signal:e,anchor:o,setShowFlyout:a,setStore:u})},e.signal_id)))})})})})}),i&&(0,m.jsx)(x,{anchor:o.current,onDismiss:()=>a(!1),pinId:t,signal:c})]})}function P({pin:e}){const t=(0,o.Z)(),{search:i}=(0,a.useLocation)(),r=(0,n.useMemo)((()=>new URLSearchParams(i)),[i]);if(!t.isEmployee)return null;const{id:l,deb_ads:s,deb_content_quality:d,deb_inclusive_product:c,deb_shopping:u,deb_trust_and_safety:p}=e;if(s)return(0,m.jsx)(v,{pinId:l,signals:s});if(d)return(0,m.jsx)(v,{pinId:l,signals:d});if(c){if("skin_tone"===r.get("type")){const e=c.filter((e=>"visual_signals_hair_pattern_v1"!==e.signal_id));return(0,m.jsx)(b,{pinId:l,signals:e})}{const e=c.filter((e=>"visual_body_analyses_v2_0"!==e.signal_id));return(0,m.jsx)(b,{pinId:l,signals:e})}}return u?(0,m.jsx)(v,{pinId:l,signals:u}):p?(0,m.jsx)(v,{pinId:l,signals:p}):null}},112964:(e,t,i)=>{i.d(t,{ZP:()=>h});var n=i(667294),a=i(883119),o=i(545168),r=i(434012),l=i(257877),s=i(16728),d=i(540399),c=i(785893);const u={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},p=["followed","related","search"],_=["pfy","pfyBoard"];function h({feedbackType:e,pin:t,hideContents:i=!1}){var h;const{logContextEvent:m}=(0,o.v)(),g=(0,r.ZP)(),[y,v]=(0,n.useState)(!1),[f,x]=(0,n.useState)(!1);(0,n.useEffect)((()=>v(!0)),[]);const b=()=>x(!0),{feedbackText:P,images:w,showFeedbackOverlay:S,undoAction:I}=t,T=w&&(null===(h=w["236x"])||void 0===h?void 0:h.url),{image:A,subTitle:k,title:E,unfollow:C}=null!=P?P:{},j=!p.includes(e),R=_.includes(e),D="Reported"===E,O=()=>{m({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,c.jsxs)(a.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[T&&(0,c.jsx)(d.Z,{additionalStyles:{...u.background.base,...y?u.background.blurred:{},backgroundImage:`url("${T}")`}}),(0,c.jsx)(d.Z,{additionalStyles:{...u.backdrop.base,...u.backdrop.blurred}})]}),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{...u.feedbackOverlayContainer.base,...!S&&y?u.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!i&&(0,c.jsx)(a.xu,{height:"100%",children:(0,c.jsxs)(a.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(a.xu,{marginBottom:2,children:(0,c.jsx)(a.X6,{color:"light",size:"400",children:E})}),(0,c.jsxs)(a.xu,{display:"flex",marginBottom:1,children:[A&&(0,c.jsx)(a.xu,{marginEnd:3,children:(0,c.jsx)(a.zd,{width:A.width,height:A.height,rounding:2,wash:!0,children:(0,c.jsx)(a.Ee,{alt:k||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:A.url||""})})}),(0,c.jsx)(a.xv,{color:"light",overflow:"normal",children:k})]}),(0,c.jsxs)(n.Fragment,{children:[I&&!D&&(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.iP,{onTap:I,children:(0,c.jsx)(a.xv,{color:"inverse",weight:"bold",overflow:"normal",children:g.bt("", "Undo", "Text on the button to navigate to undo hiding a pin", undefined, true)})})}),(0,c.jsxs)(a.xu,{marginTop:"auto",children:[!I&&!f&&C&&!R&&(0,c.jsx)(a.zx,{fullWidth:!0,color:"white",onClick:()=>(0,l.t)(C.action,C.actionOptions,b),text:g.bt(" ", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true)}),j&&(0,c.jsx)(a.ZP,{color:"white",fullWidth:!0,href:"/edit",onClick:O,text:g.bt(" ", "Tune your feed", "Text on the button to navigate to homefeed control", undefined, true)})]})]})]})})})]})}},844149:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(883119),a=i(545168),o=i(434012),r=i(257877),l=i(728036),s=i(92143),d=i(155342),c=i(785893);function u({anchor:e,feedbackData:t,feedbackType:i,pinId:u,onDismiss:p,onHide:_,recommendationReason:h,viewParameter:m,viewType:g}){const{logContextEvent:y}=(0,a.v)(),v=(0,o.ZP)(),f=(e,n)=>{const{action:a,actionOptions:o}=(0,s.Z)({feedbackData:t,feedbackType:i,pinId:u,recommendationReason:h&&{board:h.board&&{entityId:h.board.entityId},reasonId:h.reasonId,reason:h.reason,throughProperties:h.throughProperties},complaintReason:e});(e=>{y({event_type:101,view_type:g,view_parameter:m,element:e,component:(0,l.nb)(i)})})(n),(0,r.t)(a,o),_()},x="promoted"===i?[{text:v.bt("  ", "Not relevant to me", "homefeed.hideReasons.reason.notRelevant", undefined, true),reason:10,elementType:1296},{text:v.bt("   ", "Seen Pin too many times", "homefeed.hideReasons.reason.seenTooMany", undefined, true),reason:3,elementType:11172},{text:v.bt("   ", "Blurry or pixelated image", "homefeed.hideReasons.reason.lowQualityPicture", undefined, true),reason:13,elementType:10898}]:[{text:v.bt("  ", "Not relevant to me", "homefeed.hideReasons.reason.notRelevant", undefined, true),reason:10,elementType:1296},{text:v.bt("  ", "Not in a language I understand", "homefeed.hideReasons.reason.languageDontUnderstand", undefined, true),reason:15,elementType:11178},{text:v.bt("   ", "Seen Pin too many times", "homefeed.hideReasons.reason.seenTooMany", undefined, true),reason:3,elementType:295},{text:v.bt("   ", "Blurry or pixelated image", "homefeed.hideReasons.reason.lowQualityPicture", undefined, true),reason:13,elementType:10898},{text:v.bt("", "Other", "homefeed.hideReasons.reason.other", undefined, true),reason:8,elementType:11179}];return(0,c.jsx)(n.Lt,{anchor:e,idealDirection:"down",onDismiss:p,zIndex:d.lI,id:"pin-action-dropdown",children:(0,c.jsx)(n.Lt.Section,{label:v.bt("   .", "Got a moment? Tell us why.", "homefeed.hideReasons.title", undefined, true),children:x.map((({text:e,reason:t,elementType:i})=>(0,c.jsx)(n.Lt.Item,{onSelect:()=>f(t,i),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},868198:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(667294),a=i(294184),o=i.n(a),r=i(883119),l=i(434012),s=i(396681),d=i(103619),c=i(340289),u=i(785893);class p extends n.Component{constructor(...e){var t,i,n;super(...e),n={showBoardName:!1},(i="state")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:t,isNewlySaved:i,name:a,shouldUseLegoStyles:l,type:p,url:_}=this.props;if(l&&t)return null;const h="boardless"===p?this.props.i18n.bt("    ", "Saved to Profile", "Saved.render.title", undefined, true):a;let m,g;if(!i||e||l){const e=l?(0,u.jsx)(r.xv,{color:"inverse",size:"300",weight:"bold",children:h.length<=20?h:(0,d.Z)(h,20)}):(0,u.jsx)(r.X6,{color:"inverse",size:"400",lineClamp:1,children:h}),t=(0,c.Z)({url:_})?"nofollow":"none";m=_?(0,u.jsx)(r.rU,{rel:t,href:_,children:e}):e}else m=(0,u.jsx)(r.xv,{color:"inverse",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n.bt(" !", "Saved!", "Indication that a pin has been saved", undefined, true)})});return i&&(g=e?"board":"saved"),(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(s.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,u.jsx)("div",{"data-test-id":"savedInfo",className:!l&&o()("SavedAnimation",g),children:m})]})}}const _=function(e){const t=(0,l.ZP)();return(0,u.jsx)(p,{...e,i18n:t})}},562554:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(728036);function a({feedbackType:e,viewParameter:t,boardFollowedByMe:i,hasPromoter:a,isDownstreamPromotion:o,pinnerFollowedByMe:r,hasRecommendationReason:l,recommendationReasonHasBoard:s,recommendationReasonReason:d}){return(0,n.hP)({boardFollowedByMe:i,feedbackType:e,promotion:a?{isDownstreamPromotion:o}:void 0,pinnerFollowedByMe:r,recommendationReason:l?{hasBoard:s,reason:d}:void 0,viewParameter:t})}},8183:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(702664),a=i(883119),o=i(674873),r=i(545168),l=i(303741),s=i(967297),d=i(658342),c=i(175769),u=i(785893);function p({isFullWidth:e,actionType:t,buttonAction:i,buttonText:p,experience:_,hideCompleteButton:h,imageAlt:m,imageUrl:g,openNewTab:y,avatarImageDetails:v,examplePinImage:f,titleText:x,titleTextColor:b,titleTextCustomization:P,descriptionText:w,descriptionTextCustomization:S}){var I,T;const{logContextEvent:A}=(0,r.v)(),k=(e=>0===e?3833:1===e?3834:2===e?3835:null)(t),E=(0,n.useDispatch)(),{experience_id:C,placement_id:j}=_||{},R=(0,c.Z)({onVisibilityChanged:e=>{e&&_&&(_.status="viewed",A({event_type:13,view_type:612,view_parameter:k}),E((0,l.UT)(j,C,!1,!0)))}}),{width:D}=(0,o.Z)()||{width:8},O=D-8,L=(0,s.IA)(D),z=O*L,F=L===s.LX||L===s.Ec,{url:N,full_name:M}=v||{},B=z*s.l0,{url:Z}=f||{},U=Z?z*s.l0:0,G=Z?s.ml*U:0,{color:H,fontStyle:K,fontWeight:V,horizontalAlignment:W,fontSize:$}=(0,s.Mf)(P||{},"mweb"),{color:q,fontStyle:Y,fontWeight:X,horizontalAlignment:J,fontSize:Q}=(0,s.Mf)(S||{},"mweb");return(0,u.jsx)(a.xu,{position:"relative",padding:1,marginBottom:2,ref:R,children:(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},color:e?"default":"education",paddingX:2,paddingY:4,position:"relative",rounding:4,children:[e&&g&&N&&(0,u.jsx)(a.xu,{height:z,width:O,children:(0,u.jsx)(a.Ee,{alt:m||x||"",color:"rgb(111, 91, 77)",naturalHeight:z,naturalWidth:O,src:g,fit:"cover",children:(0,u.jsx)(a.xu,{paddingY:N?12:3,children:(0,u.jsxs)(a.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[M&&N&&(0,u.jsx)(a.xu,{height:B,width:B,children:(0,u.jsx)(d.qE,{name:M,src:N,size:"fit"})}),(0,u.jsx)(a.xv,{align:W,color:b,italic:"italics"===K,weight:V,children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(I=H||b)&&void 0!==I?I:void 0,fontSize:F?s.SF:$}},children:x})}),(0,u.jsx)(a.xv,{align:J,italic:"italics"===Y,weight:X,children:(0,u.jsx)(a.xu,{paddingX:12,dangerouslySetInlineStyle:{__style:{color:null!=q?q:void 0,fontSize:F?s._e:Q}},children:w})})]})})})}),(!e||e&&Z)&&(0,u.jsxs)(a.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",justifyContent:"center",children:[f&&Z&&(0,u.jsx)(a.xu,{paddingY:4,children:(0,u.jsx)(a.zd,{height:U,width:G,rounding:4,children:(0,u.jsx)(a.Ee,{alt:"Your first saved Pin",naturalHeight:U,naturalWidth:G,src:Z,fit:"cover"})})}),(0,u.jsx)(a.xv,{align:W,color:b,italic:"italics"===K,weight:V,children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(T=H||b)&&void 0!==T?T:void 0,fontSize:F&&e?s._e:$}},children:x})}),w&&S&&(0,u.jsx)(a.xu,{paddingX:e?2:0,paddingY:0,children:(0,u.jsx)(a.xv,{align:J,italic:"italics"===Y,weight:X,children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:null!=q?q:void 0,fontSize:F&&e?s._e:Q}},children:w})})}),!h&&(0,u.jsx)(a.kC.Item,{alignSelf:"center",children:(0,u.jsx)(a.xu,{marginTop:2,marginBottom:e?4:0,children:(0,u.jsx)(a.ZP,{accessibilityLabel:p,color:"white",text:p,size:"md",href:i,target:y?"blank":null,onClick:()=>{_&&(A({event_type:102,view_type:612,view_parameter:k}),E((0,l.CK)(j,C,!1,!0)))}})})})]})]})})}},905839:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(883119),a=i(370942),o=i(785893);const r={__style:{borderRadius:"4px",padding:"10px 14px"}},l={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:t,customStyles:i,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:_=70,onTouch:h,pressState:m,shape:g,text:y})=>{const v=(e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default")(t),f=(({color:e,icon:t})=>t?s:"transparent"===e?{__style:{...r.__style,...l}}:r)({color:t,icon:c}),x=(0,o.jsx)(n.xu,{position:"relative",children:(0,o.jsx)(n.xu,{color:t,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:_,dangerouslySetInlineStyle:"pill"===g?(b=i,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...b}}):f,children:(0,o.jsxs)(n.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,o.jsx)(n.xu,{paddingX:"check"===c?2:0,children:(0,o.jsx)(n.JO,{accessibilityLabel:e,color:v,icon:c,inline:!0,size:"check"===c?16:20})}),(0,o.jsx)(n.xv,{color:v,inline:!0,size:"300",lineClamp:1,weight:"bold",children:y})]})})});var b;return h?(0,o.jsx)(a.Z,{onTouch:h,rounding:"pill"===g?"pill":2,pressState:m||"none",children:(0,o.jsx)(n.xu,{ref:d,children:x})}):x}},470838:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),a=i(883119),o=i(539127),r=i(615536),l=i(39005),s=i(176140),d=i(785893);function c({children:e,className:t,forwardRef:i,offset:c=0,position:u,shouldShowShadow:p=!1,style:_={},top:h}){const{setIsContentHeaderPresent:m}=(0,o.i)();(0,n.useEffect)((()=>(m(!0),function(){m(!1)})),[]);const{currentScrollPosition:g,isScrolled:y,setSubheaderShadow:v}=(0,s.WQ)();(0,n.useEffect)((()=>(p&&v("contentHeader"),()=>{p&&v(null)})),[p]);let f=!1;"pending"!==h&&(f=null!=h?g>=h:y);const x=(0,r.t)(),b=(0,d.jsx)("div",{className:t,ref:i,style:{..._,top:x+c,...f&&p?{...l.Rz,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?(0,d.jsx)(a.Le,{top:x+c,children:b}):b}},539127:(e,t,i)=>{i.d(t,{Z:()=>s,i:()=>l});var n=i(667294),a=i(946689),o=i(785893);const{Provider:r,useHook:l}=(0,a.Z)("ContentHeader");function s({children:e}){const[t,i]=(0,n.useState)(!1),a=(0,n.useMemo)((()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:i})),[t]);return(0,o.jsx)(r,{value:a,children:e})}},315983:(e,t,i)=>{i.d(t,{MZ:()=>O,di:()=>z,Ai:()=>L});var n=i(667294),a=i(616550),o=i(883119),r=i(646824),l=i(234983),s=i(267856),d=i(504289),c=i(835686),u=i(966167),p=i(495025),_=i(260531),h=i(589598),m=i(430848),g=i(780621),y=i(578662),v=i(804402),f=i(92921),x=i(835770),b=i(905839),P=i(617518),w=i(691546),S=i(340289),I=i(467330);const T=({children:e,external:t,externalQueryParams:i,target:n,href:o})=>{const r=(0,a.useHistory)();if(!o)return null;const l=(0,P.Z)(o);return e({navigate:e=>{e.preventDefault(),(0,S.Z)({url:l})||t?"undefined"!=typeof window&&window.Windows?(0,I.Z)(l):(0,w.Gj)(l,{queryParams:i}):(0,w.G3)({event:e,href:o,history:r,target:"blank"===n?"blank":null})}})};var A=i(785893);const k=({accessibilityLabel:e,children:t,external:i,externalQueryParams:n,inline:a=!1,newTab:r,nofollow:l,onTouch:s,onBlur:d,onFocus:c,pressState:u,rounding:p,to:_})=>(0,A.jsx)(T,{external:i,target:r?"blank":null,externalQueryParams:n,href:_,children:({navigate:i})=>(0,A.jsx)(o.rU,{accessibilityLabel:e,onBlur:d?({event:e})=>d(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,P.Z)(_),display:a?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==s||s(e),e.defaultPrevented||i(e)},rel:l?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:t})}),E=({external:e,externalQueryParams:t,newTab:i,onTouch:n,to:a,...o})=>(0,A.jsx)(T,{external:e,target:i?"blank":null,externalQueryParams:t,href:a,children:({navigate:e})=>(0,A.jsx)(b.Z,{onTouch:t=>{null==n||n(t),t.defaultPrevented||e(t)},...o})});var C=i(122870),j=i(825152),R=i(392407);const D=(e,t=!1)=>function({isAppUpsellDisabled:i,...b}){const{children:P,clientTrackingParams:w,deeplinkUri:S,external:I,onTouch:T,refresh:k,to:E,viewParameter:D,viewType:O}=b,L=(0,x.Z)(),[z,F]=(0,n.useState)(!1),[N,M]=(0,n.useState)(!1),[B,Z]=(0,n.useState)(!1),{isAuth:U}=(0,y.Z)(),{userAgent:{platform:G,browserName:H},locale:K}=(0,_.B)(),V=(0,R.Tt)(),W=(0,l.Z)(),{checkExperiment:$}=(0,c.F)(),q=(0,a.useLocation)(),Y=(0,u.Z)();(0,n.useEffect)((()=>{!async function(){if(r.v){Z(!0);(await(0,r.Z)()).length>0&&M(!0)}}()}),[]),(0,n.useEffect)((()=>{U||(0,g.My)(`unauth.app_upsell.has_app.${N.toString()}`,{browser:H,platform:G})}),[H,N,U,G]);const X=()=>{W({event_type:1701,view_type:O,view_parameter:D}),z&&F(!1)};return(0,A.jsxs)(o.xu,{"data-test-id":"deeplink-wrapper",children:[z&&(0,A.jsx)(f.Z,{clientTrackingParams:w,deepLinkUri:S,isOpen:!0,onDismiss:()=>{W({component:14157,element:10308,event_type:10220,view_type:O||202,view_parameter:D,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,h.Nh)("deeplinkBehavior","branchfallback"),X()},shouldTrackDismiss:!0,to:E,viewParameter:D,viewType:O,within:"deep-link-app-upsell-modal"}),(0,A.jsx)(C.Z,{children:n=>(0,A.jsx)(e,{...b,onTouch:e=>{const a=L&&!i&&U&&!I&&!k&&!(0,p.FP)(window)&&!("ios"===G&&(K||"").startsWith("ar"))&&(0,j.kp)((0,s.Z)(null==V?void 0:V.created_at));if(a){let t=!0,i=!1;"string"==typeof S&&(S||"").startsWith("/pin/")&&((0,d.uM)(q)||(0,d.am)(q)||(0,d.C$)(q))?B&&N&&S&&"android"===G&&$("mweb_auth_deep_link_app_installed_user").anyEnabled&&(Y(),t=!1):(t=!1,i=!0),t?(e.stopPropagation(),e.preventDefault(),F(!0)):i||(e.stopPropagation(),e.preventDefault(),W({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}}),n(null!=S?S:(0,v.B)(q),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,h.qn)("deeplinkBehavior")||(0,m.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,m.Nh)("fallbackAttempt",1),n(S,"deep-link-app-upsell-modal",`${window.location.origin}${o=E,"string"==typeof o?o:`${o.pathname||""}${o.search?`?${o.search}`:""}`}`),X());var o;t&&a||!T||T(e)},children:P})})]})},O=D(k),L=D(E),z=D(b.Z,!0)},122870:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(545168),a=i(835686),o=i(260531),r=i(478561),l=i(825152),s=i(800842),d=i(785893);function c({children:e,invite_code:t}){const{isAuthenticated:i,isBot:r,unauthId:d,userAgent:{platform:c,raw:u}}=(0,o.B)(),{logContextEvent:p}=(0,n.v)(),{checkExperiment:_}=(0,a.F)();return e((async(e,n,a)=>{p({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:n}}),(0,s.Z)({isAuthenticated:i,checkExperiment:_,deeplinkUri:e,fallbackUrl:a,invite_code:t,logContextEvent:p,platform:c,redirectToLite:(0,l.Rp)({isBot:r,platform:c,userAgent:u}),unauthId:d,userAgent:u,within:n})}))}const u=e=>(0,d.jsx)(r.ty,{children:t=>(0,d.jsx)(c,{...e,invite_code:t})});u.displayName="DeepLinkNavigator";const p=u},162190:(e,t,i)=>{i.d(t,{W:()=>l,Z:()=>s});var n=i(883119),a=i(434012),o=i(785893);const r={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},l={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function s({isCloseupButton:e,isDisabled:t,isFavorited:i,onTap:s,size:d}){const c=(0,a.ZP)();return e?(0,o.jsx)(n.hU,{accessibilityLabel:c.bt(" ", "Favorite icon", "pinRep.footer.favoriteIcon", undefined, true),dangerouslySetSvgPath:i?l:r,disabled:t,iconColor:"darkGray",onClick:s,size:"lg"}):(0,o.jsx)(n.iP,{disabled:t,onTap:s,children:(0,o.jsx)(n.JO,{accessibilityLabel:c.bt(" ", "Favorite icon", "pinRep.footer.favoriteIcon", undefined, true),color:"default",dangerouslySetSvgPath:i?l:r,size:d})})}},986315:(e,t,i)=>{function n(e){const t=e.split("/");return[t[2],t[1]]}function a(e,t){return!e||!e.some((e=>e.pin_type===t))}i.d(t,{E:()=>a,J:()=>n})},819555:(e,t,i)=>{i.d(t,{Zt:()=>fe,iK:()=>xe,ZP:()=>be,cV:()=>ge});var n=i(667294),a=i(702664),o=i(616550),r=i(883119),l=i(522858),s=i(842625),d=i(434012),c=i(78109),u=i(260531),p=i(233423),_=i(490286),h=i(55592),m=i(403923),g=i(454390),y=i(571736),v=i(746448),f=i(832050),x=i(396681),b=i(747944),P=i(457762),w=i(785893);function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const I="BizNuxHomefeedLoader",T=[140,220,265],A=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],k=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${I}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${I}_FadeOut`}:{}}),E=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${I}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${I}_FadeOut`}:{},C=[`${I}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${I}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class j extends n.PureComponent{constructor(...e){super(...e),S(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),S(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),S(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(){const{homefeedLoading:e}=this.props,{enterAnimationFinished:t,startExitAnimation:i}=this.state;!t||e||i||(0,y.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),i=Array.from({length:this.numberOfColumns},(()=>[]));for(let n=0;n<t.length;n+=1){const e=t[n].getBoundingClientRect();i[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return i}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,i){const n=this.numberOfColumns+1,a=(window&&window.innerWidth-16*n)/this.numberOfColumns;return{left:e*a+16*(e+1),top:i,width:a,height:T[(e+t)%T.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,i=Array(this.numberOfColumns).fill(b.DEFAULT_HEIGHT),{gridCellDimensionsByColumn:n}=this,a=e.map(((e,a)=>{const o=a%this.numberOfColumns,l=Math.floor(a/this.numberOfColumns),s=A[a%A.length],d=i[o],c=this.computeGridCellLayout(o,l,d),u=(({color:e,startAnimation:t,originDimension:i,destinationDimension:n})=>{const a=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:i.height,width:i.width,left:i.left,top:i.top,backgroundColor:e,borderRadius:"8px",...t?a:{}}})({color:s,startAnimation:t,originDimension:c,destinationDimension:n&&n[o][l]});return i[o]+=16+c.height,(0,w.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:u},children:(0,w.jsx)(r.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:E(t)},children:(0,w.jsx)(r.X6,{color:"light",size:"500",children:e.name})})},a)}));return(0,w.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${I}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${I}_SlideUp`}},children:a})}render(){const{startExitAnimation:e}=this.state;return(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(x.Z,{unsafeCSS:(0,v.Ll)(C)}),(0,w.jsx)(r.xu,{color:"default",dangerouslySetInlineStyle:{__style:k(e)},children:(0,w.jsxs)(r.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(g.Z,{duration:3700,finalProgress:100}),(0,w.jsx)(r.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${I}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${I}_FadeOut`}},children:(0,w.jsx)(r.X6,{children:this.props.i18n.bt("     ...", "Personalizing your feed with...", "Loading homefeed details", undefined, true)})})]}),this.renderGrid()]})})]})}}function R(e){const t=(0,d.ZP)(),i=(0,a.useSelector)((({topics:e})=>e)),n=(0,a.useDispatch)();return(0,f.Q)({view_type:24,view_parameter:261}),(0,w.jsx)(j,{...e,dismissLoader:()=>n((0,P.MI)(!1)),i18n:t,selectedTopics:Object.keys(i).filter((e=>i[e].is_followed)).map((e=>i[e]))})}var D=i(932597),O=i(627740),L=i(666678),z=i(276395),F=i(512731),N=i(476089),M=i(741208),B=i(996141),Z=i(8183),U=i(884086),G=i(95849),H=i(281724),K=i(234983),V=i(835686),W=i(578662),$=i(795137),q=i(836153);const Y=16,X=2;function J({pin:e,width:t,height:i,showDivider:n}){var a,o,l,s,d,c,u;const p=null===(a=e.images)||void 0===a?void 0:a["236x"];return(0,w.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:n?{borderRight:`${X}px solid #fff`}:{}},children:(0,w.jsx)(r.GH,{contentAspectRatio:(null!==(o=null==p?void 0:p.width)&&void 0!==o?o:1)/(null!==(l=null==p?void 0:p.height)&&void 0!==l?l:1),height:i,width:t,children:(0,w.jsx)(r.Ee,{alt:null!==(s=e.description)&&void 0!==s?s:"",naturalWidth:null!==(d=null==p?void 0:p.width)&&void 0!==d?d:1,naturalHeight:null!==(c=null==p?void 0:p.height)&&void 0!==c?c:1,src:null!==(u=null==p?void 0:p.url)&&void 0!==u?u:""})})})}function Q({storyId:e,slotIndex:t}){const i=(0,o.useHistory)(),l=(0,o.useLocation)(),{isAuth:s}=(0,W.Z)(),{checkExperiment:d}=(0,V.F)(),[c,u]=(0,n.useState)(0),p=(0,n.useRef)(),_=(0,K.Z)(),h=(0,q.S6)();(0,n.useLayoutEffect)((()=>{const e=p.current;e&&u(e.offsetWidth)}),[]);const m=(0,a.useSelector)((({stories:t})=>t[e])),g=m.objects.map((e=>h(e.id))).filter(Boolean).slice(0,2),{story_type:y,action:v}=m,f=`${l.pathname}products/${l.search}`,x=()=>{_({component:200,event_type:102,view_parameter:3050,view_type:72}),i.push(f)};return d(s?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,w.jsx)($.qS,{auxData:{story_type:y,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>c?(0,w.jsx)(r.xu,{padding:2,ref:e,children:(0,w.jsx)(r.zd,{rounding:2,children:(0,w.jsxs)(r.iP,{onTap:x,children:[(0,w.jsx)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,t)=>(0,w.jsx)(J,{pin:e,width:(c-Y)/2-X/2,height:c-Y,showDivider:!t},e.id)))}),(0,w.jsx)(r.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,w.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,w.jsx)(r.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,w.jsx)(r.xv,{weight:"bold",children:v.text})})})})]})})}):(0,w.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,w.jsx)($.Hs,{auxData:{story_type:y,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:c?(0,w.jsx)(r.xu,{padding:2,children:(0,w.jsx)(r.zd,{rounding:2,children:(0,w.jsxs)(r.iP,{onTap:x,children:[(0,w.jsx)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,t)=>(0,w.jsx)(J,{pin:e,width:(c-Y)/2-X/2,height:c-Y,showDivider:!t},e.id)))}),(0,w.jsx)(r.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,w.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,w.jsx)(r.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,w.jsx)(r.xv,{weight:"bold",children:v.text})})})})]})})}):(0,w.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:p})})}var ee=i(680627),te=i(935057),ie=i(77482);const ne=43,ae=2,oe=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],re=e=>oe[e.charCodeAt(0)%oe.length];function le({guides:e,storyId:t,slotIndex:i,titleFormat:a}){var l;const{isAuth:s}=(0,W.Z)(),{checkExperiment:d}=(0,V.F)(),c=null!==(l=(0,te.mB)((0,o.useLocation)().search).q)&&void 0!==l?l:"";return d(s?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,w.jsx)($.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:ne,viewType:ae,children:({impressionTrackerRef:t})=>(0,w.jsxs)(r.xu,{ref:t,children:[a&&(0,w.jsx)(r.xu,{paddingY:1,marginTop:2,children:(0,w.jsx)(r.xv,{align:"center",children:a})}),(0,w.jsx)(ie.Z,{guides:e.map((e=>({display:e.display,dominant_color:re(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:c})]})}):(0,w.jsx)($.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:ne,viewType:ae,children:(0,w.jsxs)(n.Fragment,{children:[a&&(0,w.jsx)(r.xu,{paddingY:1,marginTop:2,children:(0,w.jsx)(r.xv,{align:"center",children:a})}),(0,w.jsx)(ie.Z,{guides:e.map((e=>({display:e.display,dominant_color:re(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:c})]})})}var se=i(933944);function de({slotIndex:e,storyId:t,viewParameter:i,viewType:a,storyData:o}){const{actionText:l,actionUrl:s,contextualSearchFromObjects:d,customProperties:c,descriptionFormat:u,displayOptions:p,experience:_,storyType:h,titleFormat:m}=o;switch((0,n.useEffect)((()=>{M.Z.increment("webapp.graphql.pinStory",.1,{viewType:a,storyType:h})}),[a,h]),h){case G.q:{var g,y,v;if(!c||!p)return null;const{numColumnsRequested:e,titleTextColor:t}=p;return 2===e?null:(0,w.jsx)(Z.Z,{isFullWidth:!1,actionType:c.actionType,buttonAction:null!=s?s:"",buttonText:null!=l?l:"",experience:null!=_?_:void 0,hideCompleteButton:c.hide_complete_button,imageAlt:c.image_alt,imageUrl:c.image,openNewTab:c.open_new_tab,avatarImageDetails:null!==(g=c.avatar_image_details)&&void 0!==g?g:{},examplePinImage:null!==(y=null===(v=c.example_pin_image_details)||void 0===v?void 0:v.originals)&&void 0!==y?y:{},titleText:null!=m?m:"",titleTextColor:H.e[t],titleTextCustomization:c.title_text_customization,descriptionText:null!=u?u:"",descriptionTextCustomization:c.description_text_customization})}case"feed_card_default":case"feed_card_video":return(0,w.jsx)(H.Z,{buttonAction:null!=s?s:"",buttonCustomization:c.button_customization,buttonText:null!=l?l:"",experience:null!=_?_:void 0,hideCompleteButton:c.hide_complete_button,imageAlt:c.image_alt,imageUrl:c.image,openNewTab:c.open_new_tab,storyType:h,titleText:null!=m?m:"",titleTextColor:H.e[p.titleTextColor],titleTextCustomization:c.title_text_customization,videoPin:c.video_pin,videoPlaceholderImage:c.video_placeholder_image});case"general_shopping_upsell":return(0,w.jsx)(H.Z,{buttonAction:null!=s?s:"",buttonText:null!=l?l:"",imageAlt:null==c?void 0:c.image_alt,imageUrl:null==c?void 0:c.image,storyType:h,titleText:null!=m?m:"",titleTextColor:H.e[p.titleTextColor]});case"BUBBLE_ONE_COL":return(0,w.jsx)(r.xu,{padding:2,children:(0,w.jsx)(U.Z,{slotIndex:e,storyGraphqlRef:null,storyId:t,viewType:a,viewParameter:i})});case"pinner_authority":case"pinner_authority_unified":return(0,w.jsx)(ee.Z,{storyId:t,slotIndex:e});case"stela_in_flashlight_onecol":return(0,w.jsx)(Q,{storyId:t,slotIndex:e});case"search_guides":return(0,w.jsx)(le,{guides:null!=d?d:[],slotIndex:e,storyId:t,titleFormat:null!=m?m:""});default:return null}}const ce=(0,B.Z)({useGraphQLAdapter:()=>null,useLegacyAdapter:e=>{const t=(0,a.useSelector)((({stories:t})=>t[e]));if(!t)return null;const{action:i,container_type:n,custom_properties:o,display_options:r,experience:l,story_type:s,title:d,description:c,objects:u}=t;if(!s)return null;const p=u,_=null==p?void 0:p.filter((e=>"contextual_search"===e.schema||"contextual_search"===e.type)).map((e=>{var t,i;return{schema:"contextual_search",display:null!==(t=e.display)&&void 0!==t?t:"",term:null!==(i=e.term)&&void 0!==i?i:""}}));return{actionText:null==i?void 0:i.text,actionUrl:null==i?void 0:i.url,customProperties:o,displayOptions:r?{numColumnsRequested:r.num_columns_requested,titleTextColor:r.title_text_color}:null,experience:l,storyType:(0,se.Z)({containerTypeIsItemGrid:56===n,storyType:s})?"BUBBLE_ONE_COL":s,titleFormat:null==d?void 0:d.format,descriptionFormat:null==c?void 0:c.format,contextualSearchFromObjects:_}}}),ue=e=>(0,w.jsx)(ce,{input:{enabled:!1,data:e.storyId},children:({data:t})=>t&&(0,w.jsx)(de,{...e,storyData:t})});var pe=i(524944),_e=i(942425);function he(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const me={},ge=e=>{me[e]&&me[e].handlePullToRefresh()},ye=()=>{const{plpImageRenderData:e}=(0,z.HW)(),[t]=e;return t?t.pin_id:null};class ve extends n.PureComponent{constructor(...e){super(...e),he(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:ye(),feedItem:null}:null}),he(this,"backOnlineAutoFetchResource",(()=>{this.props.pagination.loadNext()})),he(this,"handlePullToRefresh",(()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})})),he(this,"gridContainerRef",(0,n.createRef)()),he(this,"renderFeedPin",((e,t)=>{const{feedItemProps:i,location:n,performanceOptimization:a,renderSquarePins:o,showSeoMetadata:r,squarePins:l,trafficSource:s}=this.props,{auxData:d,componentType:c,feedback:u,imageOnly:p,impressionData:_,objectIdStr:h,oneTapSave:m,onFeedItemClick:g,onPinLinkClick:y,shouldAllowProductPriceIndicator:v,showSeoMetadata:f,viewData:x,viewParameter:b,viewType:P}=i||{},S=(n.search||"").includes("force_seo"),I=!(null==a||!a.lazyLoadBelowFoldIndex)&&t>a.lazyLoadBelowFoldIndex,T=!(null==a||!a.priorityFetchAboveFoldIndex)&&t<=a.priorityFetchAboveFoldIndex;return(0,w.jsx)(N.default,{auxData:d,componentType:c||0,duploFeedItemProps:{onPinClick:g,onPinLinkClick:y,showSeoMetadata:r||S||f},duploIsSquarePin:o||l,duploLazyLoadImage:I,duploOneTapSave:m,duploPriorityFetchImage:T,duploQueryRef:null,duploShouldAllowProductPriceIndicator:v,feedback:u,imageOnlyOption:p?"image-only":"default",impressionData:_,objectIdStr:h,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams,trafficSource:s,viewData:x,viewParameter:b,viewType:P||1})}))}componentDidMount(){var e,t;window.addEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,t=this,me[e]=t}componentWillUnmount(){var e;window.removeEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,delete me[e]}componentDidUpdate(e){const{refreshing:t,unauthLandingPinStateForAuthHomefeed:i}=this.state,{feedItems:n,authHomefeedComponentDidUpdate:a}=this.props,o=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(o&&this.setState({refreshing:!1}),a&&i){const t=a({feedItems:n,prevFeedItems:e.feedItems,finishedRefresh:o,unauthLandingPinStateForAuthHomefeed:i});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){const{deviceType:e,emptyState:t,feedItemProps:i,feedItems:a,feedItemsAdjustment:o,feedKey:d,gridConfig:u,pagination:p,pullToRefresh:h,renderFeedItem:g,serverRender:y,showBizNuxHomefeedLoader:v,trafficSource:f,visuallyCompleteProfilerOptions:x,i18n:b,pageSize:P}=this.props,{unauthLandingPinStateForAuthHomefeed:S}=this.state,I=null!=S&&S.feedItem&&a.length?[S.feedItem,...a]:a,{viewParameter:T,viewType:A}=i||{},{key:k}=u||{},E=d+(k?`|${k}`:""),C="user_search"===f,j=C?window.innerWidth-16:200,D="board"===f?4:void 0,z={columnWidth:"desktop"===e?s.yF:j,renderItem:({data:e,itemIdx:t})=>{if(g){const i=g(e,t);if("FALLBACK_TO_DEFAULT"!==i)return i}switch(e.type){case"pin":return(0,w.jsx)(O.cn,{children:this.renderFeedPin(e,t)});case"user":return(0,w.jsx)(_e.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:C,viewParameter:T,viewType:A});case"board":return(0,w.jsx)(m.Z,{boardId:e.id,type:"grid",viewParameter:T,viewType:A});case"topic":return(0,w.jsx)(pe.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:T,viewType:A});case"story":return"number"==typeof T?(0,w.jsx)(ue,{slotIndex:t,storyId:e.id,viewParameter:T,viewType:A||1}):null;case"FEED_BREAK_IN":return o&&"breakIn"===o.type&&o.value.content;default:return null}},gutterWidth:"desktop"===e?4*s.jC:D,loadItems:p.loadNext,minCols:C?1:2,...u},N=!v&&p.isLoadingNext&&0===I.length&&!this.state.refreshing,M=P&&parseInt(P,10)<25,[B,Z,U]="fullWidthBreakIn"===(null==o?void 0:o.type)?[I.slice(0,o.value.index),o.value.content,I.slice(o.value.index)]:[I,null,[]],G="desktop"===e&&"flashlight"===f,H=G?0:s.qG;return(0,w.jsxs)(r.xu,{"data-test-id":"MobileFeed",children:[(0,w.jsx)(L.Z,{enabled:!!h,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,w.jsxs)(r.xu,{marginStart:H,marginEnd:H,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,w.jsxs)(c.Z,{includeBackgroundImages:null==x?void 0:x.includeBackgroundImages,includeVideos:null==x?void 0:x.includeVideos,isAtEndOfFeed:!p.hasNext,itemCount:I.length,pinData:null==x?void 0:x.pins,children:[I.length?(0,w.jsx)(r.xu,{"data-test-id":"feed",marginTop:(0,O.kk)({isDesktop:"desktop"===e}),children:(0,w.jsx)(_.Z.Consumer,{children:e=>(0,w.jsx)(n.Fragment,{children:(0,w.jsxs)(O.c$,{children:[(0,w.jsx)(l.Z,{cacheKey:E,id:y?d:void 0,items:B,scrollContainerRef:e,serverRender:y,...z}),Z,U.length>0&&(0,w.jsx)(l.Z,{cacheKey:`${E}_afterBreak`,items:U,scrollContainerRef:e,...z})]})})})}):p.isLoadingNext?(0,w.jsx)(O.gG,{}):null!=t?t:null,p.isLoadingNext&&"board"===f&&M&&(0,w.jsx)(r.$j,{accessibilityLabel:b.bt(" ", "Loading", "Label for loading spinner", undefined, true),show:!0})]}),N&&(0,w.jsx)(r.xu,{column:12,paddingY:2,children:(0,w.jsx)(F.Z,{partialViewportWidth:G})}),v&&(0,w.jsx)(R,{homefeedLoading:p.isLoadingNext,gridContainerRef:this.gridContainerRef})]})]})}}function fe({feedItems:e,pagination:t,...i}){const{feedItemsAdjustment:n}=i,r=(0,o.useLocation)(),l=(0,h.ZP)(),s=(0,d.ZP)(),{isAuthenticated:c,isBot:p}=(0,u.B)(),{isBizNuxHomefeedLoadShown:_}=(0,a.useSelector)((({session:e})=>e));let m=e;return"breakIn"===(null==n?void 0:n.type)?m=(0,D.N)({items:e,breakIn:n.value}):"offset"===(null==n?void 0:n.type)&&(m=e.slice(n.value)),(0,w.jsx)(ve,{...i,deviceType:l,feedItems:m,isAuthenticated:c,pagination:t,location:r,i18n:s,showBizNuxHomefeedLoader:!!_,showSeoMetadata:p||!c})}function xe({resource:{isAtEnd:e,isFetching:t,fetchMore:i,refresh:n},...o}){const r=(0,a.useSelector)((({feeds:e})=>{var t;return null!==(t=e[o.feedKey])&&void 0!==t?t:[]}));return(0,w.jsx)(fe,{...o,feedItems:r,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>i(),refetch:()=>n()}})}function be({resourceConfig:e,...t}){const i=(0,p.Z)(e);return(0,w.jsx)(xe,{...t,resource:i})}},654571:(e,t,i)=>{i.d(t,{Z:()=>w});var n=i(883119),a=i(234983),o=i(434012),r=i(835686),l=i(835460),s=i(780621),d=i(161452),c=i(708798),u=i(55592),p=i(278286),_=i(578662),h=i(833979),m=i(254637),g=i(632752),y=i(836153),v=i(392407),f=i(519024),x=i(465566),b=i(785893);const P=({children:e,pulsar:t,testId:i})=>t.show?(0,b.jsx)(n.xu,{position:"relative","data-test-id":i,children:(0,b.jsxs)(n.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,b.jsx)(n.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,b.jsx)(n.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,b.jsx)(n.o3,{})})]})}):(0,b.jsx)(n.xu,{"data-test-id":i,children:e});function w({auxData:e,disabled:t,disableLog:i,followEventType:w,id:S,inline:I,invertColors:T,isFollowed:A,isIdeaPin:k,isLegoEnabled:E,isSecondaryButton:C,isUserFollowButton:j,isUserMe:R,onFollow:D,onUnfollow:O,pinId:L,shouldUseLegoColors:z,showPulsar:F,size:N,textType:M="FollowFollowing",unfollowEventType:B,viewParameter:Z,viewType:U,clientTrackingParams:G}){const H=(0,o.ZP)(),K=(0,u.HG)(),{showToast:V}=(0,c.F9)(),W=(0,d.Z)(),$=(0,a.Z)(),q=(0,l.Z)(),{checkExperiment:Y}=(0,r.F)(),X=(0,g.Z)(),J=(0,_.Z)(),Q=J&&J.isAuth,{unauthFollowUserId:ee,setUnauthFollowUserId:te}=(0,x.f)(),ie=(0,v.mN)()(S),ne=(0,y.S6)()(null!=L?L:""),{link_domain:ae,native_creator:oe,origin_pinner:re,pinner:le}=ne||{},se=(0,h.wS)(ae,oe,re,le),de=null!=ie?ie:se;(0,p.Z)((()=>{!K&&Q&&ee&&S&&ee===S&&D(S)}));const ce=X({fn:()=>{Q?A?(O(S),i||$({event_type:B,view_type:U,view_parameter:Z,object_id_str:S,aux_data:e,clientTrackingParams:G})):(D(S),j&&V((({hideToast:e})=>{if(!de)return null;const t=de.username?`/${de.username}/`:"";return(0,b.jsx)(f.Z,{handleHide:e,text:H.bt(" !        !", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true),userId:S,href:t,imageUrl:de.image_medium_url})})),i||$({event_type:w,view_type:U,view_parameter:Z,object_id_str:S,aux_data:e,clientTrackingParams:G})):((0,s.My)(`mweb_unauth_follow_button.tap.${String(U)}`),5===U&&26===w&&(0,s.My)("mweb_unauth_board_page_follow_button.tap"),(0,s.NC)(A?"press_profile_unfollow":"press_profile_follow"),W({action:"click",item:"board-follow-button"}),q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:k?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:K&&Y("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!K&&Y("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),K||te(null!=S?S:""),(0,s.NC)("clickthrough"))},modalHeader:(0,m.N4)({i18n:H,toFollow:!A})}),ue=!A&&!!F,pe=()=>{if(R)return H.bt(" !", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===M)return A?H.bt("", "Remove", "unfollowButton.removeText", undefined, true):H.bt("", "Add", "followButton.addText", undefined, true);const e="FollowUnfollow"===M?H.bt(" ", "Unfollow", "unfollowButton.unfollowText", undefined, true):H.bt(" ", "Following", "Follow button label - followed state", undefined, true);return A?e:H.bt("", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,b.jsx)(P,{pulsar:ue?{show:!0,onClick:ce}:{show:!1},testId:R||A?"board-unfollow-button":"board-follow-button",children:(0,b.jsx)(n.zx,{color:z||"AddRemove"===M||!E&&C||A?"gray":"red",disabled:R||t,fullWidth:I,onClick:ue?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),i||$({event_type:101,component:13672,element:11951,object_id_str:S,view_type:U,view_parameter:Z,aux_data:e,clientTrackingParams:G}),ce()},selected:T?!A:z&&A||!!A&&C,size:N,text:pe(),accessibilityLabel:pe()})})}},351693:(e,t,i)=>{i.d(t,{HW:()=>r,YW:()=>u,i3:()=>p,o2:()=>c});var n=i(667294),a=i(946689),o=i(785893);const r=660,l={educationId:null,paddingRight:0,zIndex:r};function s(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:i}=t.payload;return{...e,educationId:i};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:n}=t.payload;return{...e,paddingRight:n};case"FOOTER_SET_Z_INDEX":const{zIndex:a}=t.payload;return{...e,zIndex:a};default:return e}}const{Provider:d,Consumer:c,useHook:u}=(0,a.Z)("footerContext");function p({children:e}){const[t,i]=(0,n.useReducer)(s,l),a=(0,n.useCallback)((e=>i({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})),[]),r=(0,n.useCallback)((e=>i({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})),[]),c=(0,n.useCallback)((e=>i({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})),[]),u=(0,n.useMemo)((()=>({...t,setEducationId:r,setPaddingRight:a,setZIndex:c})),[t,r,a,c]);return(0,o.jsx)(d,{value:u,children:e})}},524294:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({text:e}){return(0,a.jsx)(n.xu,{display:"visuallyHidden",children:(0,a.jsx)(n.X6,{accessibilityLevel:1,children:e})})}},615536:(e,t,i)=>{i.d(t,{c:()=>a,t:()=>o});var n=i(338928);function a({children:e}){const{height:t}=(0,n.J)();return e(t)}function o(){const{height:e}=(0,n.J)();return e}},338928:(e,t,i)=>{i.d(t,{J:()=>d,Z:()=>_});var n=i(667294),a=i(946689),o=i(531142),r=i(39005),l=i(785893);const{Provider:s,useHook:d}=(0,a.Z)("Header"),c={childList:!0,attributes:!0,subtree:!0},u={height:r.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function p(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function _({children:e}){const t=(0,n.useRef)(null),[{height:i,isInBiznuxFullscreen:a,repinPinId:d,repinStartAnimation:_,showAccountMenuFlyout:h},m]=(0,n.useReducer)(p,u);(0,n.useEffect)((()=>{const e=document.getElementById(r.WZ),i=()=>{e&&m({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(i),t.current.observe(e,c)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const g=(0,n.useMemo)((()=>({height:i,isInBiznuxFullscreen:a,repinPinId:d,repinStartAnimation:_,showAccountMenuFlyout:h,updateHeaderState:m})),[m,i,a,d,_,h]);return(0,l.jsx)(s,{value:g,children:(0,l.jsx)(o.t,{children:e})})}},39005:(e,t,i)=>{i.d(t,{L1:()=>o,Rz:()=>s,WZ:()=>r,cI:()=>a,fe:()=>l,hu:()=>n});const n=64,a=80,o=22,r="HeaderContent",l=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},176140:(e,t,i)=>{i.d(t,{Hv:()=>c,WQ:()=>d});var n=i(667294),a=i(946689),o=i(986608),r=i(785893);const l=50,{Provider:s,useHook:d}=(0,a.Z)("HeaderShadow");function c({children:e}){const[t,i]=(0,n.useState)(!1),[a,d]=(0,n.useState)(0),[c,u]=(0,n.useState)(null);return(0,n.useEffect)((()=>{const e=(0,o.Z)((()=>{i(window.scrollY>0),d(window.scrollY)}),l);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,r.jsx)(s,{value:{currentScrollPosition:a,isScrolled:t,setSubheaderShadow:u,subheaderShadow:c},children:e})}},666678:(e,t,i)=>{i.d(t,{Z:()=>f});var n=i(667294),a=i(835686),o=i(616550),r=i(883119),l=i(545168),s=i(434012),d=i(785893);const c=24;function u({text:e,isSelected:t,icon:i,animationType:n,position:a,hasStartPulling:o,isExecuted:l}){return(0,d.jsxs)(r.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,d.jsx)(r.xu,{color:t?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:o?4:0,dangerouslySetInlineStyle:t&&l?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:t&&"move"===n?40:0}},children:(0,d.jsx)(r.JO,{size:100*a<c?100*a:c,icon:i,accessibilityLabel:e,color:t?"light":"dark"})}),(0,d.jsx)(r.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:t?1:0,transition:"all .3s ease-out"}},children:(0,d.jsx)(r.xv,{align:"center",size:"100",children:e})})]})}const p=.5,_=250;function h({enabled:e,onSelect:t,refreshing:i}){const a=(0,n.useRef)(null),[o,r]=(0,n.useState)(0),[l,s]=(0,n.useState)(!1),d=i?0:o/_,c=d>0,u=()=>{s(!1),r(0)};(0,n.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!i&&(a.current=e.touches[0].clientY)},n=e=>{if(a.current){const t=(e.touches[0].clientY-a.current)*p;t>0&&(r(t),e.preventDefault())}},l=()=>{a.current&&(s(!0),t({pullDistance:o,position:d,resetState:u}),a.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("touchend",l),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("touchend",l)}}}),[e,t,o,i,d]);const h=a.current;return{pullDistance:o,hasStartPulling:c,position:d,startYRefCurrent:h,PULL_MENU_DISTANCE:_,isExecuted:l}}const m=500;function g({enabled:e,onPull:t,refreshing:i}){const n=(0,s.ZP)(),a=(0,o.useHistory)(),{logContextEvent:c}=(0,l.v)(),p=e=>e>=.6,_=e=>e>.4&&e<.6,{position:g,hasStartPulling:y,PULL_MENU_DISTANCE:v,isExecuted:f}=h({enabled:e,onSelect:e=>{const{position:i,resetState:n}=e;_(i)?setTimeout((()=>{c({view_type:1,event_type:158,view_parameter:92}),t(),n()}),m):p(i)?setTimeout((()=>{c({view_type:1,event_type:10144,view_parameter:92}),a.push("edit/"),n()}),m):n()},refreshing:i}),x=n.bt("", "Refresh", "pullMenu.refresh", undefined, true),b=n.bt(" ", "Edit Feed", "pullMenu.goTuner", undefined, true);return(0,d.jsx)(r.xu,{children:e&&(0,d.jsxs)(r.xu,{display:"flex",alignItems:"center",direction:"column",height:g*v,justifyContent:"center",marginBottom:y?4:0,children:[(0,d.jsx)(u,{text:b,isSelected:p(g),icon:"edit",animationType:"move",position:g,hasStartPulling:y,isExecuted:f}),(0,d.jsx)(u,{text:x,isSelected:_(g),icon:"refresh",position:g,hasStartPulling:y,isExecuted:f})]})})}const y=120;function v({enabled:e,onPull:t,refreshing:i}){const n=(0,s.ZP)(),{logContextEvent:a}=(0,l.v)(),{position:o,startYRefCurrent:c,pullDistance:u}=h({enabled:e,onSelect:e=>{const{pullDistance:i,resetState:n}=e;i>=y&&(a({view_type:1,event_type:158,view_parameter:92}),t()),n()},refreshing:i}),p=Math.min(o,1),_=n.bt(" ", "Pull to refresh", "Pull down on grid to refresh items", undefined, true);return(0,d.jsx)(r.xu,{children:e&&(0,d.jsx)(r.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:o*y,dangerouslySetInlineStyle:{__style:{opacity:p,transition:null===c?"all .3s ease-out":void 0}},children:(0,d.jsx)(r.JO,{size:40,icon:c&&u<y?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:_})})})}function f({enabled:e,onPull:t,refreshing:i}){const{checkExperiment:o}=(0,a.F)(),{anyEnabled:r}=o("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,d.jsx)(n.Fragment,{children:r?(0,d.jsx)(g,{enabled:e,onPull:t,refreshing:i}):(0,d.jsx)(v,{enabled:e,onPull:t,refreshing:i})})}},795137:(e,t,i)=>{i.d(t,{fv:()=>m,Hs:()=>y,Mv:()=>_,uc:()=>h,dL:()=>p,qS:()=>g,Y4:()=>x,HE:()=>f,Cy:()=>v});var n=i(667294),a=i(973935),o=i(545168),r=i(654504),l=i(785893);function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;r.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&r.Z.stop(this.node)}render(){return n.Children.only(this.props.children)}}function c(e){const{logImpression:t}=(0,o.v)();return(0,l.jsx)(d,{...e,logImpression:t})}function u({auxData:e,component:t,eventData:i,eventType:a,impressionType:l,isPaused:s,objectIdStr:d,viewData:c,viewType:u,viewParameter:p}){const _=(0,n.useRef)(null),{logImpression:h}=(0,o.v)(),m=(0,n.useCallback)((()=>{const n=n=>{var o,r,s,m;h({viewData:c||{},viewType:u,viewParameter:p,eventType:a,impressionType:l,auxData:e,component:t,objectIdStr:d,eventData:{endTime:n.endTime,time:n.startTime,pinCellWidth:(null===(o=_.current)||void 0===o?void 0:o.getBoundingClientRect().width)||0,pinCellHeight:(null===(r=_.current)||void 0===r?void 0:r.getBoundingClientRect().height)||0,windowWidth:null===(s=window)||void 0===s?void 0:s.innerWidth,windowHeight:null===(m=window)||void 0===m?void 0:m.innerHeight,...i}})};try{if(_.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=i;r.Z.start(_.current).onExitViewport(n).setDebugId(e||t||"unknown")}}catch(o){window.console.error('Can only track impressions for type "HTMLElement"')}}),[_.current]);return(0,n.useEffect)((()=>{s||m();const{current:e}=_;return()=>{e instanceof HTMLElement&&r.Z.stop(e)}}),[s,m]),_}const p=e=>{const t=u({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},_=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},h=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},m=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),g=e=>{const t=u({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},y=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{const t=u({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},f=e=>{const t=u({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},x=e=>{const t=u({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},370942:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({children:e,onMouseEnter:t,onMouseLeave:i,onTouch:o,rounding:r,fullWidth:l=!1,pressState:s="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(s)?s:[s]).includes("compress");return(0,a.jsx)(n.iP,{fullWidth:l,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:i&&(({event:e})=>i(e)),onTap:o&&(({event:e})=>o(e)),rounding:r,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},149129:(e,t,i)=>{i.d(t,{C:()=>s,f:()=>l});var n=i(667294),a=i(946689),o=i(785893);const{Provider:r,useHook:l}=(0,a.Z)("MostRecentPin");function s({children:e}){const[t,i]=(0,n.useState)(),[a,l]=(0,n.useState)(),s=(0,n.useCallback)((e=>{const t=a?a.slice(0,10):[],i=[e].concat(t.filter((t=>t!==e)));l(i)}),[a]),d=(0,n.useMemo)((()=>({id:t,plpImageSignatures:a,setMostRecentPinId:i,setMostRecentPinImage:s})),[t,a,s]);return(0,o.jsx)(r,{value:d,children:e})}},840209:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(30609);const o=new n.H3([a.Z])},796057:(e,t,i)=>{i.d(t,{D:()=>a,a:()=>o});var n=i(946689);const{Provider:a,useMaybeHook:o}=(0,n.Z)("unauthPageWrapperContext")},476089:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Ut,pinRepPaddingInBoint:()=>Dt});var n,a=i(667294),o=i(702664),r=i(167912),l=i(616550),s=i(883119),d=i(234983),c=i(765767),u=i(534619),p=i(483240),_=i(71972),h=i(59674),m=i(434012),g=i(376410),y=i(267856),v=i(327007),f=i(728036),x=i(56397),b=i(426093),P=i(301351),w=i(835686),S=i(211516),I=i(8501),T=i(260531),A=i(898960),k=i(801021),E=i(593954),C=i(780621),j=i(161452),R=i(661068),D=i(55592),O=i(278286),L=i(131680),z=i(236165),F=i(315983),N=i(795137),M=i(466799),B=i(462120),Z=i(833979),U=i(422447),G=i(197916),H=i(815039),K=i(695255),V=i(658342),W=i(504289),$=i(370942),q=i(275208),Y=i(182833),X=i(785893);const J=({data:{pinProduct:{maxPrice:e,minPrice:t,inStock:i,standardPrice:n,price:o},domain:r}})=>{const l=(0,m.ZP)(),{textColor:d,inStockColor:c}=(({isDarkMode:e,inStock:t})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:t?"dark":"subtle"})({isDarkMode:(0,Y.Yc)(),inStock:i||!1});return(0,X.jsxs)(a.Fragment,{children:[r&&(0,X.jsx)(s.xv,{color:d,size:"100",children:r}),(0,X.jsxs)(s.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[t&&e?(0,X.jsxs)(s.xv,{size:"100",color:c,weight:"bold",children:[t," - ",e]}):(0,X.jsx)(s.xv,{size:"100",color:c,weight:"bold",children:n||o}),!i&&(0,X.jsxs)(a.Fragment,{children:[(0,X.jsx)(s.xu,{paddingX:1,children:(0,X.jsx)(s.xv,{size:"100",color:c,weight:"bold",children:""})}),(0,X.jsx)(s.xv,{size:"100",color:c,weight:"bold",children:l.bt(" ", "Out of stock", "pinCard.priceLego.outOfStock", undefined, true)})]})]})]})},{usePinData:Q}=(0,h.x0)(void 0!==n?n:n=i(788536),{useLegacyAdapter:e=>{var t,i;return e&&{linkDomain:e.link_domain&&{__typename:"Domain"},richMetadata:e.rich_metadata&&{recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:(null!==(t=e.rich_metadata.products)&&void 0!==t?t:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))},richSummary:e.rich_summary&&{siteName:e.rich_summary.site_name,products:(null!==(i=e.rich_summary.products)&&void 0!==i?i:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))}}}});function ee(e){var t,i,n;const[a]=Q(e.pinGraphqlRef?{graphqlRef:e.pinGraphqlRef}:e.pinId);if(!a)return null;const o=(0,Z.kb)({hasLinkDomain:!!a.linkDomain,richMetadata:a.richMetadata&&{recipe:a.richMetadata.recipe&&{fromAggregatedData:a.richMetadata.recipe.fromAggregatedData},products:(null!==(t=a.richMetadata.products)&&void 0!==t?t:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))},richSummary:a.richSummary&&{products:(null!==(i=a.richSummary.products)&&void 0!==i?i:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))}});return o&&o.price?(0,X.jsx)(J,{data:{pinProduct:o,domain:null===(n=a.richSummary)||void 0===n?void 0:n.siteName}}):null}var te,ie=i(435915),ne=i(567187);const ae=void 0!==te?te:te=i(991102),oe=(0,a.lazy)((()=>i.e(36678).then(i.bind(i,736678)))),re=({title:e})=>{const t=(0,D.HG)(),i=(0,j.Z)();return(0,X.jsx)(E.Z,{id:"related-pins-title",children:(0,X.jsx)(s.iP,{onTap:()=>{i({action:"click",item:"related-pins-title"})},children:(0,X.jsx)(K.Z,{size:t?"300":"100",weight:"bold",lineClamp:2,children:e})})})},le=({credits:e,data:t,hasAffiliatedProducts:i,hidePinMetadata:n,isPromotedPin:o,isSponsoredPin:r,logCreditsClick:d,marginTop:c,pinDescription:u,pinGraphqlRef:_,pinId:h,pinnedToBoardId:g,pinReactionCounts:y,recipeReview:v,shouldShowReactions:f,showPriceIndicatorInPinCardDetails:x,title:b,type:P})=>{var w,S,I,k,R,O,L,z,F;const N=(0,m.ZP)(),M=(0,l.useLocation)(),B=(0,j.Z)(),{isAuthenticated:Z}=(0,T.B)(),U=(0,D.HG)(),G=(0,l.useHistory)(),H=b||u||"oneTap"===P,{pinner:K}=t,Y=(0,q.gC)()(g||String(null===(w=t.board)||void 0===w?void 0:w.entityId)),J=o&&(null===(S=t.promoter)||void 0===S?void 0:S.entityId)===(null===(I=t.nativeCreator)||void 0===I?void 0:I.entityId),Q=W.Q0?2:c||(H&&!n?1:0),te=!x;return(0,X.jsxs)(s.xu,{flex:"grow",children:[(0,X.jsx)(s.xu,{display:"flex",marginTop:n?0:c||1,children:(0,X.jsxs)(s.xu,{flex:"grow",children:[(r||i)&&!J&&(0,X.jsx)(s.xu,{marginBottom:1,children:(0,X.jsx)(s.xu,{flex:"grow",overflow:"hidden",children:(0,X.jsx)(ie.Z,{hasAffiliatedProducts:i,isPromoted:o,sponsorName:t.sponsorship?(0,X.jsx)(s.xv,{inline:!0,size:"100",weight:"bold",children:null==e?void 0:e.subtitle}):void 0,sponsorshipStatus:null===(k=t.sponsorship)||void 0===k?void 0:k.status})})}),b&&(0,X.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:Z&&!n&&(0,X.jsx)(re,{title:b})}),U&&!Z&&u&&!(0,W.$Y)(M)&&!(0,W.E0)(M)&&(0,X.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,X.jsx)(s.iP,{onTap:()=>{B({action:"click",item:"related-pins-description"})},children:(0,X.jsx)(s.xv,{size:"100",inline:!0,children:u})})}),x&&(0,X.jsx)(ee,{pinId:h,pinGraphqlRef:_}),v]})}),f&&y&&Object.keys(y).length>0&&(0,X.jsx)(s.xu,{height:18,display:void 0,justifyContent:"center",children:(0,X.jsx)(p.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,X.jsx)(A.Z,{children:(0,X.jsx)(oe,{pinReactionCounts:y})})})}),te&&e?(0,X.jsx)($.Z,{onTouch:t=>{t.stopPropagation(),t.preventDefault(),e.link&&G.push(e.link),d()},pressState:"none",children:(0,X.jsx)(s.xu,{children:(!n||r||J)&&(0,X.jsxs)(s.xu,{display:"flex",marginTop:Q,marginBottom:n?2:0,position:"relative",direction:"row",children:[(0,X.jsx)(s.xu,{flex:"none",display:void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,X.jsx)(s.iP,{onTap:()=>{B({action:"click",item:"related-pins-avatar-image"})},children:(0,X.jsx)(V.qE,{accessibilityLabel:e.title||e.subtitle||N.bt("  ", "Creator's avatar", "pinCardDetails.tapArea.avatar", undefined, true),name:e.title||"",outline:!1,size:"sm",src:e.avatar||void 0})})}),(0,X.jsx)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:(0,X.jsx)(s.iP,{onTap:()=>{B({action:"click",item:"related-pins-name"})},children:(0,X.jsxs)(a.Fragment,{children:[e.title&&(0,X.jsx)(s.xv,{lineClamp:1,size:"100",weight:r&&!J||i?"normal":"bold",children:e.title===(null==K?void 0:K.fullName)&&(null!=K&&K.isVerifiedMerchant||null!=K&&null!==(R=K.verifiedIdentity)&&void 0!==R&&R.verified)?(0,X.jsx)(ne.Z,{badgeSize:"sm",badgeSpacing:2,fullName:e.title,verifiedType:K.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):e.title}),e.subtitle?(!r&&!n||J)&&(0,X.jsx)(s.xv,{lineClamp:r||i?void 0:1,size:U?"200":"100",weight:U?"bold":"normal",children:e.subtitle}):!Z&&Y&&"protected"!==Y.privacy?(0,X.jsx)(E.Z,{id:"related-pin-text-below-name",children:(0,X.jsx)(s.rU,{underline:"hover",href:null!==(O=Y.url)&&void 0!==O?O:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,C.NC)("click_board_pin_attribution_profile"),B({action:"click",item:"related-pin-text-below-name"})},children:(0,X.jsx)(s.xv,{size:"200",children:Y.name})})}):null]})})})]})})}):U&&!!K&&((0,W.L6)(M)||(0,W.cD)(M)||(0,W.$Y)(M))&&(0,X.jsxs)(s.xu,{display:"flex",marginTop:H?2:0,children:[(0,X.jsx)(s.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,X.jsx)(s.iP,{onTap:()=>{B({action:"click",item:"related-pins-avatar-image"})},children:(0,X.jsx)(V.qE,{name:K.username||"",size:"sm",src:null!==(L=K.imageSmallUrl)&&void 0!==L?L:void 0})})}),(0,X.jsxs)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,X.jsx)(s.rU,{underline:"hover",href:`/${K.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,C.NC)("click_board_pin_attribution_board"),B({action:"click",item:"related-pins-name"})},children:(0,X.jsx)(s.xv,{size:"200",weight:"bold",children:K.fullName||K.username})}),Y&&"protected"!==Y.privacy?(0,X.jsx)(E.Z,{id:"related-pin-text-below-name",children:(0,X.jsx)(s.rU,{underline:"hover",href:null!==(z=Y.url)&&void 0!==z?z:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,C.NC)("click_board_pin_attribution_profile"),B({action:"click",item:"related-pin-text-below-name"})},children:(0,X.jsx)(s.xv,{size:"200",children:null!==(F=Y.name)&&void 0!==F?F:""})})}):null]})]})]})},{usePinData:se}=(0,h.x0)(ae,{useLegacyAdapter:e=>e&&{entityId:e.id,board:e.board&&{entityId:e.board.id},nativeCreator:e.native_creator&&{entityId:e.native_creator.id},pinner:e.pinner&&{fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,isVerifiedMerchant:e.pinner.is_verified_merchant,username:e.pinner.username,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{entityId:e.promoter.id},sponsorship:e.sponsorship&&{status:e.sponsorship.status}}}),de=e=>{const{pinId:t,pinGraphqlRef:i}=e,[n,a]=se(i?{graphqlRef:i}:t);return n&&(0,X.jsx)(le,{...e,data:n,pinGraphqlRef:a})};var ce,ue=i(949364),pe=i(475252);const _e=void 0!==ce?ce:ce=i(441959),he=(e,t)=>{const{checkExperiment:i}=(0,w.F)();return i("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,t)=>{const i=(0,r.useRelayEnvironment)();return(0,X.jsx)(pe.t,{invite_code:e,relayEnvironment:i,inviteQuery:_e,children:e=>{const i=null!=e&&e.data?e.data.sender:null,n=i&&i.first_name?i.first_name.substring(0,30):"";if(!n)return null;const a=i&&!i.is_default_image?i.image_medium_url:"",o=(0,g.nk)(t.bt(" {{ name }}   ", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:n});return(0,X.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,X.jsx)(s.zd,{height:32,width:32,children:(0,X.jsx)(V.qE,{name:n,src:a})}),(0,X.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,X.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}})})(e,t):((e,t)=>(0,X.jsx)(pe.Z,{invite_code:e,children:e=>{const i=e?e.sender:null,n=i&&i.first_name?i.first_name.substring(0,30):"";if(!n)return null;const a=i&&!i.is_default_image?i.image_medium_url:"",o=(0,g.nk)(t.bt(" {{ name }}   ", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:n});return(0,X.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,X.jsx)(s.zd,{height:32,width:32,children:(0,X.jsx)(V.qE,{name:n,src:a})}),(0,X.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,X.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}}))(e,t)},me=({inviteCode:e})=>{const t=(0,m.ZP)();return(0,X.jsx)(s.xu,{minHeight:82,children:(0,X.jsx)(p.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,X.jsx)(A.Z,{fallback:(0,X.jsx)(ue.Z,{accessibilityLabel:t.bt("   ", "Loading Invitation component", "Loading InviteFetch component", undefined, true)}),children:he(e,t)})})})};var ge=i(451681),ye=i(996141),ve=i(639429),fe=i(16728),xe=i(287421),be=i(898524),Pe=i(708798),we=i(935057),Se=i(837739),Ie=i(119108),Te=i(442935),Ae=i(632752),ke=i(303741),Ee=i(905839),Ce=i(405165),je=i(457762),Re=i(392407),De=i(723546),Oe=i(839508);const Le=new s.Ry(1);function ze({buttonText:e,clientTrackingParams:t,color:i="primary",deeplinkUri:n,experience:r,inline:c=!0,minWidth:u,onTouch:p,onUnsave:_,pinId:h,pinnedToBoardId:g,shape:y,shouldShowSavedButton:v,viewType:f,viewParameter:x,showSaveHandoffExperience:b}){var P;const w=(0,m.ZP)(),S=(0,o.useDispatch)(),I=(0,l.useHistory)(),T=(0,l.useLocation)(),A=(0,Oe.M)(),k=T.pathname.startsWith("/pin"),E=(0,o.useSelector)((({session:e})=>e.hasSavedUnauthPin)),C=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),R=null===(P=(0,Re.Tt)())||void 0===P?void 0:P.pin_count,D=(0,d.Z)(),O=(0,j.Z)(),L=e=>I.push(e),{showToast:z,showRepinConfirmation:N}=(0,Ce.Z)(),M=()=>{var e;S((0,De.Z)({history:I,i18n:w,logContextEvent:D,onSuccess:()=>{r&&S((0,ke.CK)(r.placement_id,r.experience_id))},originalPinId:h,pinId:h,trackingParams:{clientTrackingParams:t,pinnedToBoardId:g},showRepinConfirmation:b&&!k?()=>{}:N,disableRepinAnimation:C===h,pinCount:R,historyPush:L,savePinId:null!==(e=null==A?void 0:A.save)&&void 0!==e?e:()=>{}})).catch((e=>z((({hideToast:t})=>(0,X.jsx)(be.ZP,{type:"error",text:e.message||w.bt("!     .", "Sorry! Something went wrong on our end.", "quickSave.toast.error.message", undefined, true),onHide:t})))))},B=(0,a.useRef)(null),Z=b&&!E,U=(0,Ae.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),p&&p(e),v?v&&_&&_():M()},modalHeader:(0,Te.Bx)(w)});(0,a.useEffect)((()=>{Z&&!B.current&&(O({action:"trigger",item:"unauth-save-button-quicksave"}),D({event_type:14581}),M(),S((0,je.e2)())),B.current=Z}));const G=()=>w.bt("", "Pin", "quickSave.quickSaveButton.icon.accessibilityLabel", undefined, true),H=()=>e||w.bt("", "Save", "quickSave.quickSaveButton.buttonText", undefined, true);return E&&!k?null:(0,X.jsx)(s.xu,{"data-test-id":"save-button-mobile",zIndex:Le,children:n?(0,X.jsx)(F.di,{accessibilityLabel:G(),color:i,customStyles:{padding:"14px 16px"},deeplinkUri:n,inline:c,minHeight:48,minWidth:u,onTouch:U,pressState:["compress","background"],shape:y,size:"lg",text:H(),to:I.location.pathname,upsellType:"save",viewType:f,viewParameter:x}):(0,X.jsx)(Ee.Z,{accessibilityLabel:G(),color:i,customStyles:{padding:"14px 16px"},inline:c,minHeight:48,minWidth:u,onTouch:U,pressState:"compress",shape:y,size:"300",text:H()})})}var Fe=i(553956),Ne=i(917833),Me=i(347127);function Be(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Ze extends a.PureComponent{constructor(...e){var t;super(...e),t=this,Be(this,"state",{saveState:void 0}),Be(this,"legoFixedZIndex",new s.Ry(2)),Be(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:i,i18n:n,oneTapSave:a,pinId:o,pinnedToBoardId:r,showToast:l,viewType:s,historyPush:d,repinContext:c}=t.props;try{var u;const n=await i((0,Me.w)({i18n:t.props.i18n,logContextEvent:t.props.logContextEvent,originalPinId:o,pinId:o,boardId:null==a?void 0:a.boardId,isOneTapSave:!0,onUndo:()=>{t.onDeletePin()},section:null==a?void 0:a.section,showToast:l,trackingParams:{clientTrackingParams:e,pinnedToBoardId:r},viewType:s,historyPush:d,savePinId:null!==(u=null==c?void 0:c.save)&&void 0!==u?u:()=>{}}));t.setState({saveState:"saved"}),i((0,Fe.a)({boardId:null==a?void 0:a.boardId,localPinId:n.id,pinId:o}))}catch(p){l((({hideToast:e})=>(0,X.jsx)(be.ZP,{type:"error",text:p.message||n.bt("!     .", "Sorry! Something went wrong on our end.", "error during repin", undefined, true),onHide:e}))),t.setState({saveState:void 0})}})),Be(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:i,i18n:n,pinId:a,savedInfo:o,showToast:r,repinContext:l}=t.props;if(o){e((0,Fe.k)({boardId:o.boardId,localPinId:o.localPinId,pinId:a})),null==l||l.unsave(a);try{await e((0,Ne.q)({pinId:o.localPinId,boardId:o.boardId,clientTrackingParams:i})),r((({hideToast:e})=>(0,X.jsx)(be.ZP,{text:n.bt("  !", "Pin deleted!", "User deleted their pin", undefined, true),onHide:e}))),t.setState({saveState:void 0})}catch(s){r((({hideToast:e})=>(0,X.jsx)(be.ZP,{type:"error",text:n.bt("!      .", "Sorry! There was an error deleting your Pin.", "Error when user tried to delete pin", undefined, true),onHide:e}))),t.setState({saveState:"saved"})}}})),Be(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:t}=this.state,{history:i,pinId:n,isOneTapExploreLocalTab:a,pinnedToBoard:o,directSaveExpGroup:r,oneTapSave:l}=this.props,s=r.includes("overlay");["saving","deleting"].includes(t)||a&&o||(t||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),a||!l&&s?i.push({pathname:`/pin/${n}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,Te.Bx)(this.props.i18n)})),Be(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:t,savedInfo:i})=>e?!!t:!!i))}render(){const{checkExperiment:e,children:t,clientTrackingParams:i,directSaveExpGroup:n,homepageExperience:o,i18n:r,isBoardIdeas:l,isOneTapExploreLocalTab:d,isRTL:c,oneTapSave:u,pinId:p,pinnedToBoard:_,pinnedToBoardId:h,savedInfo:m,shouldShowSaveHandoffExp:g,useSmallSaveIcon:y}=this.props,v=n.includes("overlay");if(!(u||d||g||v))return t;const f=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!d,pinnedToBoard:_,savedInfo:m}),x="#000",b="rgba(255, 255, 255, 0.8)",P="light",w="dark",{group:S}=l?e("mweb_align_save_icon"):{},I=S&&S.includes("label"),T=S&&S.includes("all_surfaces"),A=()=>{if(S&&T){if(S.includes("pin"))return"angled-pin";if(S.includes("bookmark"))return"save-outline"}return"add"},k=f?(0,X.jsx)(s.xv,{weight:"bold",color:"light",children:r.bt("", "Saved", "button for saving quickly with one click", undefined, true)}):(0,X.jsx)(s.xv,{weight:"bold",color:"dark",children:r.bt("", "Save", "button for saving quickly with one click", undefined, true)});let E=null;const C=n.includes("uselabel");return g?E=(0,X.jsx)(ze,{buttonText:_?r.bt("", "Saved", "OneTapSave.QuickSaveButton.Saved", undefined, true):"",clientTrackingParams:i,color:_?"default":"primary",deeplinkUri:"deeplinkUri",experience:o,inline:!0,pinnedToBoardId:h,minWidth:54,pinId:p,shape:"pill",shouldShowSavedButton:!!_,showSaveHandoffExperience:g}):u?E=(0,X.jsx)(s.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,X.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:f?x:b}},paddingX:I?3:2,paddingY:2,rounding:I?"pill":"circle",children:(0,X.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:[I&&k,!I&&(0,X.jsx)(s.JO,{accessibilityLabel:f?r.bt("", "saved", "checkmark icon to show pin has been saved", undefined, true):r.bt("", "save", "button for saving quickly with one click", undefined, true),icon:f?"check":A(),color:f?P:w,size:y||T?16:24})]})})}):v&&(E=(0,X.jsx)(s.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,X.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:f?x:b}},paddingX:C?3:2,paddingY:2,rounding:C?"pill":"circle",children:(0,X.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:C?k:(0,X.jsx)(s.JO,{accessibilityLabel:f?r.bt("", "saved", "checkmark icon to show pin has been saved", undefined, true):r.bt("", "save", "button for saving quickly with one click", undefined, true),icon:f?"saved":"save-outline",color:f?P:w,size:16})})})})),(0,X.jsxs)(a.Fragment,{children:[t,(0,X.jsx)(s.xu,{bottom:!0,left:c,padding:2,position:"absolute",right:!c,zIndex:this.legoFixedZIndex,children:E})]})}}function Ue(e){const{showToast:t}=(0,Pe.F9)(),i=(0,l.useLocation)(),n=(0,m.ZP)(),r=(0,d.Z)(),s=(0,Ae.Z)(),c=(0,o.useDispatch)(),u=(0,l.useHistory)(),{isRTL:p,isAuthenticated:_}=(0,T.B)(),h=(0,Oe.M)(),g=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),y=_&&!!g&&g===e.pinId,{pins:v,clear:f}=(0,Ie.Z)(),x=(0,a.useRef)(!1),b=(0,we.mB)(i.search).ideas_referrer,P=(0,D.HG)(),{checkExperiment:S}=(0,w.F)(),I=(0,Se.J1)(),A=!P&&b===String(25),k=e=>u.push(e),E=(0,o.useSelector)((t=>t.pins[e.pinId]&&t.pins[e.pinId].savedInfo)),j=(0,o.useSelector)((t=>t.pins[e.pinId]&&t.pins[e.pinId].pinned_to_board)),R=(0,o.useSelector)((e=>e.experiences[40001]));return(0,O.Z)((()=>{_&&!x.current&&v.length>0&&(x.current=!0,r({event_type:14577,aux_data:{num_unauth_saved_pins:v.length}}),[...v,...g&&S(I).anyEnabled?[{id:g}]:[]].forEach((({id:t})=>{var i;c((0,De.Z)({history:u,i18n:n,logContextEvent:r,onSuccess:()=>{},originalPinId:t,pinId:t,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>{},disableRepinAnimation:!0,historyPush:k,savePinId:null!==(i=null==h?void 0:h.save)&&void 0!==i?i:()=>{}})).catch((e=>{(0,C.My)(`error.unauth_profile_pin_merge.${e}`)}))})),f())})),(0,X.jsx)(Ze,{...e,checkExperiment:S,i18n:n,requireAuthForLimitedLogin:s,history:u,logContextEvent:r,showToast:t,shouldShowSaveHandoffExp:y,isRTL:p,historyPush:k,useSmallSaveIcon:A,repinContext:h,savedInfo:E,pinnedToBoard:j,homepageExperience:R,dispatch:c})}Ue.displayName="OneTapSave";const Ge=Ue;var He=i(675475);function Ke({boardUrl:e,boardName:t,directSaveExpGroup:i,isQuicksave:n,sectionName:a,sectionSlug:o}){const r=(0,m.ZP)(),d=(0,l.useHistory)(),c=new s.Ry(1),u=!!o&&`${e}${o}/`;let p=null;return p=i.includes("footer")?(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:i.includes("overlay")?0:4,children:(0,X.jsx)(s.iP,{onTap:t=>{t.event.preventDefault(),d.push(n?"/me/":u||e)},children:(0,X.jsx)(s.xu,{position:"absolute",bottom:!0,left:!0,right:!0,marginStart:4,marginBottom:4,marginEnd:4,children:(0,X.jsxs)(s.xu,{position:"relative",children:[(0,X.jsx)(s.xu,{children:(0,X.jsx)(s.xv,{color:"light",children:r.bt(" !", "Saved!", "PinCard.SavedToProfile.Overlay", undefined, true)})}),(0,X.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:[(0,X.jsx)(s.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:(0,X.jsx)(s.xv,{color:"light",children:a?(0,g.nk)(r.bt("{{sectionName}}", "{{sectionName}}", "PinCard.SavedToSection.Overlay", undefined, true),{sectionName:(0,X.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:(0,He.ZP)(a,22)},`pincard-${a}`)}):(0,g.nk)(r.bt("{{boardName}}", "{{boardName}}", "PinCard.SavedToBoard.Overlay", undefined, true),{boardName:(0,X.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:n?r.bt(" ", "Profile", "PinCard.SavedToProfile.Overlay", undefined, true):(0,He.ZP)(t,22)},`pincard-${t}`)})})}),(0,X.jsx)(s.xu,{position:"absolute",right:!0,bottom:!0,marginBottom:1,children:(0,X.jsx)(s.JO,{accessibilityLabel:r.bt(" !", "Saved!", "PinCard.SavedToProfile.Overlay", undefined, true),icon:"arrow-forward",size:"16",color:"light"})})]})]})})})})}):i.includes("overlay")?(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,children:(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:i.includes("overlay")?0:4,children:(0,X.jsx)(s.iP,{fullWidth:!0,fullHeight:!0,onTap:t=>{t.event.preventDefault(),d.push(n?"/me/":u||e)}})})}):(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:i.includes("overlay")?0:4,children:(0,X.jsx)(s.iP,{onTap:t=>{t.event.preventDefault(),d.push(n?"/me/":u||e)},children:(0,X.jsx)(s.xv,{color:"light",children:a?(0,g.nk)(r.bt("   {{sectionName}}", "Saved to {{sectionName}}", "PinCard.SavedToSection.Overlay", undefined, true),{sectionName:(0,X.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:(0,He.ZP)(a,22)},`pincard-${a}`)}):(0,g.nk)(r.bt("   {{boardName}}", "Saved to {{boardName}}", "PinCard.SavedToBoard.Overlay", undefined, true),{boardName:(0,X.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:n?r.bt(" ", "Profile", "PinCard.SavedToProfile.Overlay", undefined, true):(0,He.ZP)(t,22)},`pincard-${t}`)})})})})}),p}var Ve=i(112634),We=i(103619);const $e=({clickLoggingOptions:e,domain:t,link:i,onClick:n})=>{var a;const o=null===(a=(0,Ve.lO)())||void 0===a?void 0:a.logging,r=(0,m.ZP)(),l=(0,d.Z)(),c=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:{}}].map((t=>({component:0,element:162,view_type:null==o?void 0:o.viewType,view_parameter:null==o?void 0:o.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...t})));return(0,X.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),c().forEach((e=>l(e))),n(e)},children:(0,X.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,X.jsx)(s.xu,{marginEnd:1,children:(0,X.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:r.bt("", "Link", "unauth.pin.domain.link", undefined, true)})}),(0,X.jsx)("a",{href:i,onClick:e=>{e.stopPropagation(),c().forEach((e=>l(e))),n(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,X.jsx)(s.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,We.Z)(t,27)})})]})})},qe=({domainLinkData:e})=>{const t=(0,m.ZP)(),i=(0,u.g)();return(0,X.jsxs)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,X.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,X.jsx)(s.X6,{size:"400",align:"center",color:"light",children:t.bt("", "Open", "Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.", undefined, true)})}),!!e&&(0,X.jsx)(s.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,X.jsx)($e,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==i?void 0:i.pinLinkClickHandler)||(()=>{})})})]})};var Ye,Xe=i(328398),Je=i(836153),Qe=i(880254),et=i(238117);const tt=void 0!==Ye?Ye:Ye=i(182964),it=({width:e,height:t,minY:i,maxY:n})=>{const a=t=>e<=0||!t?"0%":Math.round(t/e*100)+"%";return{top:i<=0?"0%":a(-1*i*t),bottom:n>=1?"0%":a(-1*(1-n)*t)}},nt=({children:e,margin:t,disableRounding:i})=>(0,X.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,X.jsx)(s.zd,{wash:!0,rounding:i?0:fe.mv,children:e})}),at=({clientTrackingParams:e,color:t,data:i,description:n,directSaveExpGroup:o,domainLinkData:r,image:d,imageAltText:u,imageCrop:p,isBoardIdeas:_,isOneTapExploreLocalTab:h,isSquarePin:g,lazyLoadImage:y,onError:v,oneTapSave:f,onLoad:x,pinId:b,priorityFetchImage:P,disableDefaultContextMenu:S,pinnedToBoardId:I,productPrice:A,disableRounding:k,storyDataExists:E,title:R,type:O,videoDuration:L,viewType:z,slotIndex:F})=>{var N,M,B,Z,U,G,H,K,V,$,q,Y;const J=(0,m.ZP)(),Q=(0,xe.Z)(),{checkExperiment:ee}=(0,w.F)(),[te,ie]=(0,a.useState)(!1),{isAuthenticated:ne}=(0,T.B)(),ae=(0,D.ZP)(),oe="desktop"===ae,re=(0,Oe.M)(),le=I&&!(null==re||!re.isSaved(b)),se=r&&r.link?"with-link":"without-link",de=!ne&&!oe,ce=(0,a.useRef)(Date.now()),ue=(0,a.useRef)(null),pe=(0,j.Z)(),{shouldOpenInStream:_e}=i,he=(0,et.I)();(0,a.useEffect)((()=>{te&&!ne&&pe({action:"view",item:"unauth-video-autoplay-on-hover"})}),[te,pe,ne]),(0,a.useEffect)((()=>{var e,t;const i="board-image-preload-"+(F-1),n=null!==(e=null===(t=document.getElementById(i))||void 0===t?void 0:t.getAttribute("href"))&&void 0!==e?e:"";he&&5===z&&n&&(0,Qe.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:ne,deviceType:ae,isEqual:n===d.url}})}),[]);const me=(0,X.jsx)(ge.Z,{alt:u||R||n||"",color:t,naturalHeight:null!==(N=d.height)&&void 0!==N?N:1,naturalWidth:null!==(M=d.width)&&void 0!==M?M:1,onError:v,onLoad:x,src:null!==(B=d.url)&&void 0!==B?B:"",fit:g?"cover":void 0,loading:y?"lazy":"auto",fetchPriority:P?"high":"auto"}),ye=(0,l.useLocation)(),fe=()=>(0,W.C$)(ye)?"homefeed":(0,W.L6)(ye)?"related_pins":(0,W.En)(ye)?"search":"unknown",be=o.includes("enabled"),Pe=be?!I&&!(null==re||!re.isSaved(b)):"quick_saves"===(null===(Z=i.board)||void 0===Z?void 0:Z.layout),we=be?ne&&(le||Pe):ne&&le;return(0,X.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,X.jsxs)(s.xu,{onContextMenu:e=>{if("desktop"!==ae){const t=fe();(0,C.My)((ne?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:t}),ne||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==ae&&((0,C.My)("unauth.mweb.related_pin.image.touch.start"),!ne&&(null==S||S(),ce.current=Date.now(),e.changedTouches&&e.changedTouches.length>0))){const t=e.changedTouches.item(0);t&&(ue.current={x:t.pageX,y:t.pageY})}},onTouchEnd:e=>{if("desktop"!==ae){const t=fe();if((0,C.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-ce.current>500&&!ne&&("related_pins"===t||ee("pcons_enable_context_menu_all_feeds").anyEnabled)){const t=ue.current;if(e.changedTouches&&e.changedTouches.length>0&&t){const i=e.changedTouches.item(0);if(i&&Math.pow(i.pageX-t.x,2)+Math.pow(i.pageY-t.y,2)>100)return;null==S||S(),Q({pinId:b,location:"related-pins-long-press"}),e.stopPropagation()}}}},"data-test-id":`pincard-${O}-${se}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:de||ee("prevent_open_on_hover").anyEnabled?void 0:()=>ie(!0),onMouseLeave:de?void 0:()=>ie(!1),position:"relative",rounding:k?0:4,children:[(0,X.jsxs)(Ge,{clientTrackingParams:e||"",oneTapSave:f,isBoardIdeas:_,isOneTapExploreLocalTab:h,pinId:b,directSaveExpGroup:o,pinnedToBoardId:I,viewType:z,children:[(()=>{if("gif"===O&&!le)return(0,X.jsx)(Xe.Z,{text:J.bt("GIF", "GIF", "pin.pinCard.gifIconIdentifier", undefined, true)});if("video"===O&&L&&!le)return(0,X.jsx)(Xe.Z,{text:L});if("storyPin"===O&&E&&!le&&!1!==_e){var e,t,n;const a=(null===(e=i.storyPinData)||void 0===e?void 0:e.pageCount)||0,o=(null===(t=i.storyPinData)||void 0===t?void 0:t.staticPageCount)||0,r=(null===(n=i.storyPinData)||void 0===n?void 0:n.totalVideoDuration)||0;if(r>0){const e=r+o*ve.oN;return(0,X.jsx)(Xe.Z,{text:(0,c.Z)(e)})}if("number"==typeof a&&a>0)return(0,X.jsx)(Xe.Z,{icon:"idea-pin",text:a.toString()})}return"product"===O&&A?(0,X.jsx)(Xe.Z,{text:A}):null})(),(0,X.jsx)(nt,{disableRounding:k,margin:p?it({width:null!==(U=d.width)&&void 0!==U?U:1,height:null!==(G=d.height)&&void 0!==G?G:1,minY:p.minY,maxY:p.maxY}):void 0,children:g?(0,X.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,X.jsx)(s.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:me})}):me})]}),te&&!ne&&(0,X.jsx)(qe,{domainLinkData:r}),we&&(0,X.jsx)(Ke,{boardName:null!==(H=null===(K=i.board)||void 0===K?void 0:K.name)&&void 0!==H?H:"",boardUrl:null!==(V=null===($=i.board)||void 0===$?void 0:$.url)&&void 0!==V?V:"",directSaveExpGroup:o,sectionName:null==f||null===(q=f.section)||void 0===q?void 0:q.title,sectionSlug:null==f||null===(Y=f.section)||void 0===Y?void 0:Y.slug,isQuicksave:Pe})]})})},ot=(0,ye.Z)({useGraphQLAdapter:e=>{const t=(0,r.useFragment)(tt,e);return{pin:t,pinGraphqlRef:t}},useLegacyAdapter:({pinId:e,pinnedToBoardId:t})=>{var i;const n=(0,Je.S6)()(e),a=(0,q.gC)();if(!n)return null;const o=a(t||String(null===(i=n.board)||void 0===i?void 0:i.id));return{pin:{board:o&&{layout:o.layout,name:o.name,url:o.url},shouldOpenInStream:n.should_open_in_stream,storyPinData:n.story_pin_data&&{pageCount:n.story_pin_data.page_count,staticPageCount:n.story_pin_data.static_page_count,totalVideoDuration:n.story_pin_data.total_video_duration}},pinGraphqlRef:null}}}),rt=e=>(0,X.jsx)(ot,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:{pinId:e.pinId,pinnedToBoardId:e.pinnedToBoardId}},children:({data:t})=>t&&(0,X.jsx)(at,{...e,data:t.pin,pinGraphqlRef:t.pinGraphqlRef})});var lt=i(257877);const st={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},dt=(e,t,i)=>(0,X.jsx)(s.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,X.jsx)(s.rU,{display:"inlineBlock",href:t,tapStyle:"none",underline:"hover",children:i})},e);function ct({color:e,getFeedbackText:t,onUnfollow:i,showing:n,unfollowed:o}){const r=(0,m.ZP)(),[l,d]=(0,a.useState)(n?"fadeIn":"initial"),c=(0,a.useRef)(null);(0,a.useEffect)((()=>("initial"===l&&n&&(c.current=window.requestAnimationFrame((()=>d("fadeIn")))),()=>{c.current&&window.cancelAnimationFrame(c.current)})),[l,d,n]);const{subTitle:u,title:p,unfollow:_}=t(dt);let h=p,g=u;_&&o&&(h=_.title,g=_.subTitle);const y=()=>_?(0,lt.t)(_.action,_.actionOptions,i):void 0;return n&&(0,X.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...st[l]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,X.jsxs)(s.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,X.jsxs)(s.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,X.jsxs)(s.xu,{children:[(0,X.jsx)(s.X6,{size:"400",color:"light",children:h}),!!g&&(0,X.jsxs)(s.xu,{marginTop:1,children:[(0,X.jsx)(s.xv,{color:"light",size:"200",inline:!0,children:g}),(0,X.jsx)(s.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,X.jsx)(s.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:r.bt("  ", "Tune your home feed", "Text on the button to navigate to homefeed control", undefined, true)})})]})]}),!o&&_&&(0,X.jsx)(s.xu,{paddingY:1,children:(0,X.jsx)(s.zx,{fullWidth:!0,color:"white",text:r.bt(" ", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:y})})]}),!o&&_&&(0,X.jsx)(s.xu,{paddingY:1,children:(0,X.jsx)(s.zx,{fullWidth:!0,color:"white",text:r.bt(" ", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:y})})]})})}var ut=i(36460);function pt(e){const t=(0,m.ZP)(),{pinId:i,clientTrackingParams:n,directSaveExpGroup:a}=e,r=(0,Oe.M)(),d=(0,l.useHistory)(),{showToast:c}=(0,Pe.F9)(),u=(0,o.useSelector)((e=>e.pins[i]&&e.pins[i].savedInfo)),p=!(null==r||!r.isSaved(i))||u,_=(0,o.useDispatch)(),h=a.includes("uselabel"),g=async e=>{if(e.stopPropagation(),e.preventDefault(),p){if(!u)return;_((0,Fe.k)({boardId:u.boardId,localPinId:u.localPinId,pinId:i})),null==r||r.unsave(i);try{await _((0,Ne.q)({pinId:u.localPinId||"",boardId:u.boardId,clientTrackingParams:n})),c((({hideToast:e})=>(0,X.jsx)(be.ZP,{text:t.bt("  !", "Pin deleted!", "User deleted their pin", undefined, true),onHide:e})))}catch(a){c((({hideToast:e})=>(0,X.jsx)(be.ZP,{type:"error",text:t.bt("!      .", "Sorry! There was an error deleting your Pin.", "Error when user tried to delete pin", undefined, true),onHide:e})))}}else d.push({pathname:`/pin/${i}/repin`,state:{isOneTapSave:!0}})},y=p?(0,X.jsx)(s.xv,{weight:"bold",size:"100",children:t.bt("", "Saved", "button for saving quickly with one click", undefined, true)}):(0,X.jsx)(s.xv,{weight:"bold",size:"100",children:t.bt("", "Save", "button for saving quickly with one click", undefined, true)});return h?(0,X.jsx)(s.iP,{onTap:({event:e})=>{g(e)},rounding:"circle",children:(0,X.jsx)(s.xu,{color:"transparent",paddingX:2,paddingY:1,rounding:"pill",children:(0,X.jsx)(s.xu,{children:y})})}):(0,X.jsx)(s.hU,{icon:p?"saved":"save-outline",size:"sm",iconColor:"darkGray",padding:1,accessibilityLabel:p?t.bt("  ", "Undo save", "PinFooterSaveButton.Unsave", undefined, true):t.bt("", "Save", "PinFooterSaveButton.Save", undefined, true),onClick:({event:e})=>{g(e)}})}var _t=i(975323);function ht({maxRating:e,rating:t,text:i}){return(0,X.jsxs)(s.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,X.jsx)(_t.Z,{max_rating:e||"",rating:t||"",width:10}),i&&(0,X.jsx)(a.Fragment,{children:(0,X.jsx)(s.xu,{marginStart:1,overflow:"hidden",children:(0,X.jsx)(s.xv,{size:"100",lineClamp:1,children:i})})})]})}var mt,gt=i(54978),yt=i(8420);const vt=void 0!==mt?mt:mt=i(937711);function ft({dedupeVisualAnnotations:e,description:t,gridTitle:i,pinId:n,richMetadataTitle:a,richSummaryDisplayName:o,storyPinDataId:l,storyPinDataMetadataPinTitle:d,title:c,queryRef:u}){const p=(0,r.useFragment)(vt,u);return(0,X.jsxs)(s.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,X.jsx)(s.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,X.jsx)(s.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,P.fs)({pinTitle:c,gridTitle:i,richSummaryDisplayName:o,richMetadataTitle:a,storyPinDataId:l,storyPinDataMetadataPinTitle:d})||t})}),(0,X.jsx)(s.xu,{children:(0,X.jsx)(yt.Z,{pinId:n,size:"sm",graphqlRef:p,dedupeVisualAnnotations:e})})]})}var xt,bt=i(389416),Pt=i(974865);const wt=void 0!==xt?xt:xt=i(143453),St=({attribute:e,deviceType:t,location:i})=>{const n=(0,j.S)(i);(0,C.My)("unauth.product_attribution.click",{item:e,page:n,device:t})},It=({isSquarePin:e,price:t,shouldDisplayMerchant:i})=>t&&e?i?90:68:void 0,Tt=({maxPrice:e,minPrice:t,price:i})=>e&&t?`${t}-${e}`:i;function At({dedupeVisualAnnotations:e,description:t,domain:i,graphqlRef:n,gridTitle:o,isSquarePin:r,pinId:d,priceSummary:c,richMetadataTitle:u,richSummaryDisplayName:p,storyPinDataId:_,storyPinDataMetadataPinTitle:h,title:m}){const g=(0,D.ZP)(),y=(0,l.useLocation)(),v=c&&(c.price||c.standardPrice||Tt(c)),f=(0,a.useMemo)((()=>r?2:v?3:2),[r,v]);if(!d)return null;const x=(0,P.fs)({pinTitle:m,gridTitle:o,richSummaryDisplayName:p,richMetadataTitle:u,storyPinDataId:_,storyPinDataMetadataPinTitle:h})||t,b=`/pin/${d}/`;return(0,X.jsx)(s.xu,{paddingX:2,marginBottom:-1,marginTop:2,display:"flex",direction:"column",height:It({isSquarePin:r,price:v}),children:(0,X.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,X.jsx)(s.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,X.jsxs)(F.MZ,{to:b,accessibilityLabel:x,deeplinkUri:b,children:[v&&(0,X.jsx)(s.iP,{onTap:()=>St({deviceType:g,attribute:"price",location:y}),children:(0,X.jsx)(s.xv,{size:"100",weight:"bold",children:v})}),(0,X.jsx)(s.xu,{marginTop:1,children:(0,X.jsx)(s.iP,{onTap:()=>St({deviceType:g,attribute:"title",location:y}),children:(0,X.jsx)(s.xv,{size:"100",weight:"bold",lineClamp:f,children:x})})}),i&&v&&(0,X.jsx)(s.xu,{marginTop:1,children:(0,X.jsx)(s.iP,{onTap:()=>St({deviceType:g,attribute:"merchant",location:y}),children:(0,X.jsx)(s.xv,{size:"100",lineClamp:1,children:i})})})]})}),"desktop"!==g&&(0,X.jsx)(s.xu,{children:(0,X.jsx)(yt.Z,{dedupeVisualAnnotations:e,pinId:d,size:"sm",graphqlRef:n})})]})})}const kt=(0,ye.Z)({useGraphQLAdapter:({queryRef:e})=>(0,r.useFragment)(wt,e),useLegacyAdapter:()=>null});function Et({queryRef:e,...t}){return(0,X.jsx)(kt,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:t.pinId}},children:({data:e})=>(0,X.jsx)(At,{...t,graphqlRef:e})})}var Ct,jt=i(359187);const Rt=void 0!==Ct?Ct:Ct=i(256468),Dt=({isDesktop:e})=>e?0:1,Ot=e=>Boolean(e.promoter&&!e.isDownstreamPromotion),Lt=e=>{const{attribution:t,embed:i,isEligibleForWebCloseup:n,richSummary:a,videos:o,storyPinDataId:r}=e,l=i||(null==t?void 0:t.embed);return n?"oneTap":o||"video"===(null==l?void 0:l.type)?"video":"gif"===(null==l?void 0:l.type)?"gif":"product"===(null==a?void 0:a.typeName)?"product":"recipe"===(null==a?void 0:a.typeName)?"recipe":r?"storyPin":"image"},zt=e=>{var t,i,n;const a=null===(t=e.videos)||void 0===t?void 0:t.videoList;return a?(0,c.Z)(null!==(i=null===(n=a[Object.keys(a)[0]])||void 0===n?void 0:n.duration)&&void 0!==i?i:0):""},Ft=e=>{var t;const[i]=(null===(t=e.richSummary)||void 0===t?void 0:t.products)||[];if(!i)return null;const{offerSummary:n}=i;return n&&(n.price||n.maxPrice)},Nt=e=>e&&e.includes("/user/default")?void 0:e,Mt=(0,a.lazy)((()=>Promise.all([i.e(52378),i.e(74686),i.e(62681)]).then(i.bind(i,777011))));function Bt({auxData:e,componentType:t,debugInfo:i,disableAppUpsell:n,disableReaction:r,disableRounding:c,duploConversationPin:h,duploDedupeVisualAnnotations:R,duploDisablePinCardPadding:K,duploFeedItemProps:V,duploIsSquarePin:W,duploLazyLoadImage:$,duploOneTapSave:q,duploPinCardDetailsMargin:Y,duploPriorityFetchImage:J,duploQueryRef:Q,duploShouldAddNiiSearchParamToImageUrls:ee,duploShouldAllowProductPriceIndicator:te,feedback:ie,imageOnlyOption:ne,impressionData:ae,objectIdStr:oe,pin:re,slotIndex:le,topLevelTrafficSource:se,topLevelTrafficSourceDepth:ce,trackingParams:ue,trafficSource:pe,viewData:_e,viewParameter:he,viewType:ge}){var ye,ve,fe,xe,be,Pe,we,Se,Ie,Te,Ae,ke,Ee,Ce,je,Re,De;const Oe=(0,m.ZP)(),Le=(0,u.g)(),ze=(0,l.useLocation)(),Fe=(0,D.HG)(),Ne=(0,H.Z)(),Me=(0,S.yz)(),Be=(0,_._)({id:1000107}),Ze=(0,d.Z)(),Ue=(0,j.Z)(),{country:Ge,isAuthenticated:He,isBot:Ke,isSocialBot:Ve}=(0,T.B)(),{viewedSharedPins:We}=(0,o.useSelector)((({session:e})=>e)),$e=(0,o.useSelector)((({experiences:e})=>{const t=e[1000107];return!!t&&500678===t.experience_id})),qe=(0,o.useSelector)((({session:e,users:t})=>(0,y.Z)(t[e.userId].created_at))),{getPinFeedbackStatus:Ye,setPinFeedbackStatus:Xe}=(0,ut.K)(),[Je,Qe]=(0,a.useState)(!1),[et,tt]=(0,a.useState)(!1),it=(0,a.useRef)(),nt=(0,v.t)(),at=re.entityId,ot=!!re.storyPinDataId&&!1===re.shouldOpenInStream,lt=e=>ee&&e?{...e,url:e.url&&(0,k.H5)(e.url)}:e,st=lt(re.imageSpec_136x136),dt=lt(re.imageSpec_170x),_t=lt(re.imageSpec_236x),mt=lt(re.imageSpec_474x),yt=lt(re.imageSpec_736x),vt=lt(re.imageSpec_orig),xt={...[["136x136",st],["170x",dt],["236x",_t],["474x",mt],["736x",yt],["orig",vt]].reduce(((e,[t,i])=>{var n,a,o,r;return i?(e[t]={dominant_color:null!==(n=i.dominantColor)&&void 0!==n?n:void 0,height:null!==(a=i.height)&&void 0!==a?a:void 0,url:null!==(o=i.url)&&void 0!==o?o:void 0,width:null!==(r=i.width)&&void 0!==r?r:void 0},e):e}),{})},{checkExperiment:wt}=(0,w.F)(),St=He?wt("web_auth_exclude_original_images").anyEnabled:wt("web_unauth_exclude_original_images").anyEnabled,It=Object.keys(xt).reduce(((e,t)=>{var i;return t?{...e,[t]:null===(i=xt[t])||void 0===i?void 0:i.url}:e}),{}),Tt=e=>{var t,i;return(0,x.Z)({embedSrc:null===(t=re.embed)||void 0===t?void 0:t.src,embedType:null===(i=re.embed)||void 0===i?void 0:i.type,imagesUrls:It,preferredResolution:e,excludeOriginals:!Ke&&!Ve&&St})},At=Lt(re),kt=(0,L.z)();(0,O.Z)((()=>{if(kt&&!Fe&&"image"===At){const t=xt["236x"]||xt["136x136"],i=Tt("736x");if(i){var e;const n={pin:{board:re.board&&{entityId:re.board.entityId},closeupAttribution:re.closeupAttribution&&{fullName:re.closeupAttribution.fullName,imageMediumUrl:re.closeupAttribution.imageMediumUrl,username:re.closeupAttribution.username},description:re.description,dominantColor:re.dominantColor,embed:re.embed&&{src:re.embed.src,type:re.embed.type},entityId:re.entityId,gridTitle:re.gridTitle,isEligibleForAggregatedComments:re.isEligibleForAggregatedComments,link:re.link,linkDomain:re.linkDomain&&{officialUser:re.linkDomain.officialUser&&{fullName:re.linkDomain.officialUser.fullName,imageMediumUrl:re.linkDomain.officialUser.imageMediumUrl,imageSmallUrl:re.linkDomain.officialUser.imageSmallUrl}},nativeCreator:re.nativeCreator&&{fullName:re.nativeCreator.fullName,imageMediumUrl:re.nativeCreator.imageMediumUrl,imageSmallUrl:re.nativeCreator.imageSmallUrl},pinJoin:re.pinJoin&&{visualAnnotation:re.pinJoin.visualAnnotation},pinnedToBoard:re.pinnedToBoard&&{entityId:re.pinnedToBoard.entityId,url:re.pinnedToBoard.url},pinner:re.pinner&&{entityId:re.pinner.entityId,fullName:re.pinner.fullName,imageMediumUrl:re.pinner.imageMediumUrl,imageSmallUrl:re.pinner.imageSmallUrl,username:re.pinner.username},richMetadata:re.richMetadata&&{__typename:"RichPinDataView",title:re.richMetadata.title,article:re.richMetadata.article&&{__typename:"ArticleMetadata"},recipe:re.richMetadata.recipe&&{__typename:"RecipeMetadata"},products:null===(e=re.richMetadata.products)||void 0===e?void 0:e.map((()=>({__typename:"RichPinProductMetadata"})))},richSummary:re.richSummary&&{displayName:re.richSummary.displayName},section:re.section&&{entityId:re.section.entityId},storyPinDataId:re.storyPinDataId,storyPinData:re.storyPinData&&{metadata:re.storyPinData.metadata&&{pinTitle:re.storyPinData.metadata.pinTitle}},seoNoindexReason:re.seoNoindexReason,seoTitle:re.seoTitle,title:re.title,trackingParams:re.trackingParams},derived:{imagesUrls:It,imageUrl:i,placeholder:t&&{width:t.width,height:t.height,url:t.url}}};kt.setData(at,n)}}})),(0,O.Z)((()=>{if(!He&&0===le&&3070===he){var e,t,i;const n=ze.pathname,{imageSignature:a,entityId:o,imageSpec_236x:r,description:l}=re;(0,G.H$)(n,a,o,r&&{dominant_color:null!==(e=r.dominantColor)&&void 0!==e?e:void 0,height:null!==(t=r.height)&&void 0!==t?t:void 0,url:r.url,width:null!==(i=r.width)&&void 0!==i?i:void 0},l)}}));const Ct=92===he&&(null===(ye=We&&We[at])||void 0===ye?void 0:ye.inviteCode),Rt=W?{height:136,url:null==_t?void 0:_t.url,width:136}:[_t,dt,st,yt,mt,vt].find((e=>e&&e.url))||{width:1,height:1,url:""},Bt=null===(ve=re.videos)||void 0===ve||null===(fe=ve.videoList)||void 0===fe?void 0:fe.v720P,Zt=(0,M.Z)({isEligibleForPdp:re.isEligibleForPdp,isOosProduct:re.isOosProduct,isStaleProduct:re.isStaleProduct,pinShoppingFlags:null!==(xe=re.shoppingFlags)&&void 0!==xe?xe:void 0}),Ut=Ye({pinId:at}),Gt=Ot(re),Ht=!!(re.isEligibleForPdp&&re.nativeCreator&&!Gt)&&wt("web_hide_product_attribution").anyEnabled,Kt=()=>{var e,t,i,n,a,o,r;const l=({user:e,linkToBoard:t})=>{var i;return{link:t?(null===(i=re.board)||void 0===i?void 0:i.url)||`/pin/${re.entityId}/`:(null==e?void 0:e.username)&&`/${e.username}/`||"",avatar:Nt(null==e?void 0:e.imageMediumUrl)||Nt(null==e?void 0:e.imageSmallUrl)}};var s,d,c,u,p,_,h;if(Ot(re))return re.sponsorship&&(null===(s=re.promoter)||void 0===s?void 0:s.entityId)!==(null===(d=re.nativeCreator)||void 0===d?void 0:d.entityId)?{title:null===(c=re.nativeCreator)||void 0===c?void 0:c.fullName,subtitle:null===(u=re.promoter)||void 0===u?void 0:u.fullName,...l({user:re.nativeCreator})}:{title:Oe.bt("  ", "Promoted by", "Grid pin annotation", undefined, true),subtitle:null===(p=re.promoter)||void 0===p?void 0:p.fullName,...l({user:re.promoter})};if(null!==(e=re.sponsorship)&&void 0!==e&&e.creator)return{title:null===(_=re.nativeCreator)||void 0===_?void 0:_.fullName,subtitle:null===(h=re.sponsorship.sponsor)||void 0===h?void 0:h.fullName,...l({user:re.nativeCreator})};if(!Ht||!re.isEligibleForPdp){if(re.nativeCreator)return{title:re.nativeCreator.fullName,subtitle:"",...l({user:re.nativeCreator})};switch(he){case 3375:if(null===(t=re.linkDomain)||void 0===t||null===(i=t.officialUser)||void 0===i||!i.isPrimaryWebsiteVerified)return;const e=null!==(n=re.storyPinData)&&void 0!==n&&n.hasProductPins?re.nativeCreator:re.linkDomain.officialUser;return{title:"",subtitle:null==e?void 0:e.fullName,...l({user:e})};case 0:case 3173:return null!==(a=re.storyPinData)&&void 0!==a&&a.hasProductPins?{title:"",subtitle:null===(o=re.nativeCreator)||void 0===o?void 0:o.fullName,...l({user:re.nativeCreator,linkToBoard:!0})}:{title:re.board&&"protected"===re.board.privacy?Oe.bt("  ", "Saved by", "Grid pin annotation", undefined, true):(null===(r=re.pinner)||void 0===r?void 0:r.fullName)||"",subtitle:"",...l({user:re.pinner,linkToBoard:!0})};default:return}}},Vt=(0,f.hP)({boardFollowedByMe:!(null===(be=re.board)||void 0===be||!be.followedByMe),feedbackType:null==ie?void 0:ie.type,viewParameter:he,promotion:re&&re.promoter&&{isDownstreamPromotion:!!re.isDownstreamPromotion},pinnerFollowedByMe:!(null===(Pe=re.pinner)||void 0===Pe||!Pe.explicitlyFollowedByMe),recommendationReason:re.recommendationReason&&{hasBoard:!!re.recommendationReason.board,reason:null!==(we=re.recommendationReason.reason)&&void 0!==we?we:void 0}}),Wt=e=>{var t,i,n;const a={i18n:Oe,makeNavigateLink:e};switch(Vt){case"pfy":return(0,f.Ud)({...a,feedback:{type:"pfy"}});case"pfyBoard":return(0,f.Ud)({...a,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(t=re.recommendationReason)||void 0===t?void 0:t.board)&&{name:null!==(i=re.recommendationReason.board.name)&&void 0!==i?i:"",url:null!==(n=re.recommendationReason.board.url)&&void 0!==n?n:""}}});case"topic":return(0,f.Ud)({...a,feedback:{type:"topic",sourceInterest:re.sourceInterest&&re.sourceInterest.name&&re.sourceInterest.urlName?{name:re.sourceInterest.name,url_name:re.sourceInterest.urlName}:null}});case"followed":return(0,f.Ud)({...a,feedback:{type:"followed",followed:re.pinner&&re.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:re.pinner.fullName&&re.pinner.username?{full_name:re.pinner.fullName,username:re.pinner.username}:null}:{type:"board",board:re.board&&re.board.name&&re.board.url?{name:re.board.name,url:re.board.url}:null}}});case"promoted":return(0,f.Ud)({...a,feedback:{type:"promoted",promoter:!re.adMatchReason&&re.promoter&&re.promoter.fullName?{full_name:re.promoter.fullName,username:re.promoter.username}:null}});default:return null}},{category:$t,linkDomain:qt,description:Yt,gridTitle:Xt,imageSignature:Jt,richMetadata:Qt,richSummary:ei,title:ti,sponsorship:ii,storyPinData:ni}=re,[ai,oi]="string"==typeof Xt?[Xt,""]:[null==ei?void 0:ei.displayName,Yt],ri=null==ni?void 0:ni.isDeleted,li=(0,B.Z)((ze&&ze.state||{}).trackingParams||ue,re.trackingParams),si="product"===At&&!He,{experimentsClient:di}=(0,T.B)(),ci=$e&&!(3375===he)&&(di.checkExperiment("mweb_pin_grid_image_only_v2").anyEnabled||di.checkExperiment("mweb_pin_grid_image_only_v2_new_user").anyEnabled),ui=$e&&!(ei&&43===he&&!qe||3375===he)||ci;let pi=null===(Se=re.pinJoin)||void 0===Se?void 0:Se.visualAnnotation;R&&pi&&(pi=R({pinId:at,visualAnnotations:pi}));const _i=(0,P.rw)(null!==(Ie=re.description)&&void 0!==Ie?Ie:"",re.descriptionHtml||"",pi,re.altText||"",re.autoAltText||""),hi=He?oi:(0,b.Z)({storyPinDataId:re.storyPinDataId,pinDescription:re.description,richMetadataDescription:null!==(Te=null===(Ae=re.richMetadata)||void 0===Ae?void 0:Ae.description)&&void 0!==Te?Te:"",richSummaryDisplayName:null!==(ke=null===(Ee=re.richSummary)||void 0===Ee?void 0:Ee.displayName)&&void 0!==ke?ke:"",closeupDescription:null!==(Ce=re.closeupDescription)&&void 0!==Ce?Ce:"",closeupUnifiedDescription:null!==(je=re.closeupUnifiedDescription)&&void 0!==je?je:""});let mi;mi="oneTap"===At?re.trackedLink||re.link:He?(0,P.BY)(at):(0,P.bN)({pinId:at,seoUrl:re.seoUrl});const gi={accessibilityLabel:_i||ai||oi||Oe.bt("", "Pin", "Pin accessibility label", undefined, true),country:Ge,deeplinkUri:mi,external:"oneTap"===At,externalQueryParams:{pin:at,client_tracking_params:ue},isAppUpsellDisabled:n,onTouch:i=>{var n;if((()=>{const i=(0,B.Z)(ue,re.trackingParams);if((0,C.My)(`unauth_pin_rep.click.${String(he)}`),Ze({view_type:ge,view_parameter:he,element:re.storyPinDataId?12372:35,event_type:101,component:t,object_id_str:at,clientTrackingParams:i,aux_data:{commerce_data:Zt,grid_index:le,image_signature:re.imageSignature,...e}}),"oneTap"!==At&&Ze({event_type:8948,view_type:ge,view_parameter:he,object_id_str:at,clientTrackingParams:i,aux_data:{image_signature:re.imageSignature,commerce_data:Zt,closeup_navigation_type:"click",grid_index:le,cosmic_ray_count:"3",...e}}),!He)switch(Ue({action:"click",item:"pin"}),ge){case 3:(0,C.NC)("click_pin_related_image");break;case 5:(0,C.NC)("click_board_pin_image");break;case 210:(0,C.NC)("click_topic_pin_image");break;case 605:(0,C.NC)("click_shopping_category_pin_image");break;case 606:(0,C.NC)("click_videos_category_pin_image")}if("oneTap"===At&&(Ze({event_type:8948,view_type:ge,view_parameter:he,object_id_str:at,clientTrackingParams:i,aux_data:{image_signature:re.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),(0,U.jC)({view_type:ge,view_parameter:he,element:re.storyPinDataId?12372:35,component:t,object_id_str:at,aux_data:{commerce_data:Zt,grid_index:le,image_signature:re.imageSignature,...e},clientTrackingParams:i}),Ze({component:t,event_type:13,view_type:3,clientTrackingParams:i,aux_data:{closeup_navigation_type:"web_closeup",image_signature:re.imageSignature},object_id_str:at}),wt("m10n_ara_click_web_mobile").anyEnabled)){const{adDestinationUrl:t,link:n,trackedLink:a}=re,o=t||a||n||"";nt({attributionSourceId:re.attributionSourceId,auxData:e,campaignId:re.campaignId,clientTrackingParams:i,href:o,isPromoted:Ot(re),pinId:at,pinPromotionId:re.pinPromotionId})}})(),null==V||null===(n=V.onPinClick)||void 0===n||n.call(V),Fe){const e=494===ge;if(i.metaKey||e)(0,C.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(he)}`),i.preventDefault(),window.open(`/pin/${at}/`,"_blank").focus();else if(!He&&Le){const{pinImageClickHandler:e}=Le;e({event:i,pinId:at,linkTarget:"duploClientNav",seoUrl:re.seoUrl})}}else if(!He&&((0,C.My)("unauth_mweb_pin_rep.click",{viewType:ge}),[3,2].includes(ge))){const{group:e}=wt("mweb_unauth_lop_broad_to_narrow_new_tab_targeting",{dangerouslySkipActivation:!0});if(!e)return;let t=!1;switch(ge){case 3:(e.includes("view_type_closeup")||e.includes("view_type_all"))&&(t=wt("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled);break;case 2:(e.includes("view_type_search")||e.includes("view_type_all"))&&(t=wt("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled)}(0,C.My)("unauth_mweb_pin_rep.click.new_tab_exp",{viewType:ge,expName:"mweb_unauth_lop_broad_to_narrow_new_tab_targeting",expGroup:e,enabled:t}),t&&(i.preventDefault(),i.stopPropagation(),window.open(mi,"_blank").focus())}},pinCategory:re.category,pressState:"none",rounding:4,title:Oe.bt("   ", "See this Pin", "App Upsell Text after clicking on Pin in feed", undefined, true),to:{pathname:mi,state:{trackingParams:ue,trafficSource:pe,topLevelTrafficSource:se,topLevelTrafficSourceDepth:ce}},upsellType:"direct",viewParameter:he,viewType:ge,clientTrackingParams:li},yi=(0,Z.kb)({hasLinkDomain:!!qt,richMetadata:Qt&&{recipe:Qt.recipe&&{fromAggregatedData:Qt.recipe.fromAggregatedData},products:null===(Re=Qt.products)||void 0===Re?void 0:Re.map((({__typename:e,...t})=>t))},richSummary:ei&&{products:ei.products}}),vi=!te&&["shop_feed"].includes(pe),fi=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),xi=!He||He&&!!fi&&fi===at||q?"":wt("mweb_direct_save_from_grid_v2").group||wt("mweb_direct_save_from_grid_v2_new_user").group||"",bi=xi.includes("footer");return(0,X.jsx)(N.dL,{auxData:{commerce_data:Zt,pwa_type:Me,...e},component:t,impressionData:{richTypes:re.shoppingFlags||[],imageURL:Rt.url||"",...Bt?{isNativeVideoAndWatchable:!!(Bt&&Bt.url&&Bt.height&&Bt.width)||void 0,videoIdStr:Bt&&(null===(De=re.videos)||void 0===De?void 0:De.entityId)||void 0}:{},...ae},isPaused:!Je,loggingId:re.entityId,objectIdStr:oe,slotIndex:le,trackingParams:ue,viewData:_e,viewParameter:he,viewType:ge,children:({impressionTrackerRef:e})=>{var n,o,l,d,u,_,m,y,v,x,b,P,w,S,T,k,j,D,O,L,N,M,Z,U,G,H,ee,ae;return(0,X.jsx)(s.xu,{ref:e,children:(0,X.jsxs)(s.xu,{"data-test-id":"pin","data-test-pin-id":at,marginBottom:Fe?0:2,children:[(0,X.jsxs)(s.xu,{"data-test-id":_i||ai||oi?"pin-with-alt-text":"pin-missing-alt-text",padding:K?0:Dt({isDesktop:Fe}),marginBottom:0,onContextMenu:Fe&&(re.nativeCreator||re.pinner)?e=>{e.stopPropagation(),e.preventDefault(),Ne((0,X.jsx)(Pt.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:at,graphqlRef:Q})),(0,C.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,dangerouslySetInlineStyle:{__style:et?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},children:[(0,X.jsxs)(F.MZ,{...gi,children:[!!Ct&&(0,X.jsx)(me,{inviteCode:Ct}),ri?(0,X.jsx)(bt.Z,{isPinRep:!0}):(0,X.jsx)(rt,{pinGraphqlRef:Q,clientTrackingParams:li,color:null!==(n=re.dominantColor)&&void 0!==n?n:"",description:!oi||ui&&0!==he?void 0:oi.trim(),domainLinkData:re.domain&&re.link?{clickLoggingOptions:{auxData:{objectId:at,grid_index:le,sanitized_url:re.link}},domain:re.domain,link:re.link,onClick:null==V?void 0:V.onPinLinkClick}:void 0,disableRounding:c,image:Rt&&{dominant_color:null!==(o=Rt.dominantColor)&&void 0!==o?o:void 0,height:null!==(l=Rt.height)&&void 0!==l?l:void 0,url:null!==(d=Rt.url)&&void 0!==d?d:void 0,width:null!==(u=Rt.width)&&void 0!==u?u:void 0},imageAltText:_i,imageCrop:!W&&re.imageCrop&&"number"==typeof re.imageCrop.minY&&"number"==typeof re.imageCrop.maxY?{minY:re.imageCrop.minY,maxY:re.imageCrop.maxY}:void 0,isBoardIdeas:3173===he||13184===t,isSquarePin:W,lazyLoadImage:$,onError:()=>Qe(!1),oneTapSave:q,onLoad:()=>Qe(!0),priorityFetchImage:J,disableDefaultContextMenu:()=>tt(!0),pinId:at,pinnedToBoardId:null!==(_=null===(m=re.pinnedToBoard)||void 0===m?void 0:m.entityId)&&void 0!==_?_:"",productPrice:"product"===At&&te&&!si?Ft(re):null,slotIndex:le,storyDataExists:!!ni,title:ui&&0!==he?void 0:ai,type:At,videoDuration:zt(re),viewType:ge,directSaveExpGroup:xi})]}),"image-only"!==ne&&(He||Fe)&&(0,X.jsxs)(s.xu,{children:[!He&&Fe&&3475!==he&&43!==he&&(0,X.jsx)(jt.Z,{dedupeVisualAnnotations:R,pinId:at,mode:"inlineWithScrollArrows",graphqlRef:Q}),!si&&(0,X.jsxs)(s.xu,{position:"relative",children:[(0,X.jsx)(F.MZ,{...gi,children:(0,X.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,ref:it})}),(0,X.jsx)(s.iP,{onTap:()=>{var e;null===(e=it.current)||void 0===e||e.click()},accessibilityLabel:gi.accessibilityLabel,children:(0,X.jsxs)(s.xu,{display:"flex",height:W?vi?104:72:void 0,marginEnd:Y||1,marginStart:Y||1,marginTop:xi.includes("enabled")?1:0,position:"relative",children:[(0,X.jsx)(de,{pinGraphqlRef:Q,marginTop:Y,hidePinMetadata:(null==Be?void 0:Be.display_data.hideDesc)||!1,credits:Kt(),hasAffiliatedProducts:!(null==ni||!ni.hasProductPins),isPromotedPin:Gt,isSponsoredPin:!!ii,logCreditsClick:()=>{var e;return Ze({view_type:3,element:27,event_type:102,object_id_str:at,component:re.storyPinDataId?230:void 0,clientTrackingParams:(0,B.Z)(ue,re.trackingParams),aux_data:{pin_id:at,...null!==(e=re.sponsorship)&&void 0!==e&&e.creator&&re.sponsorship.sponsor?{creator_id:re.sponsorship.creator.entityId,sponsor_id:re.sponsorship.sponsor.entityId}:{}}})},pinDescription:hi,pinId:at,pinnedToBoardId:null!==(y=null===(v=re.pinnedToBoard)||void 0===v?void 0:v.entityId)&&void 0!==y?y:"",pinReactionCounts:null===(x=re.reactionCountsData)||void 0===x?void 0:x.reduce(((e,{reactionCount:t,reactionType:i})=>({...e,[String(null!=i?i:0)]:null!=t?t:0})),{}),recipeReview:"recipe"===At&&!ui&&!(null==ei||null===(b=ei.aggregateRating)||void 0===b||!b.reviewCount)&&(0,X.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,X.jsx)(ht,{maxRating:ei.aggregateRating.bestRating||"",rating:ei.aggregateRating.ratingValue||"",text:""}),!!ei.displayCookTime&&(0,X.jsxs)(a.Fragment,{children:[(0,X.jsx)(s.xu,{paddingX:1,children:(0,X.jsx)(s.xv,{size:"100",children:""})}),(0,X.jsx)(s.xv,{size:"100",children:(0,z.IS)({...(0,I.u)(ei.displayCookTime),i18n:Oe})})]})]}),shouldShowReactions:!r&&(0,gt.J6)({boardIsCollaborative:null===(P=re.board)||void 0===P?void 0:P.isCollaborative,isDownstreamPromotion:re.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:ot,isPromoted:re.isPromoted,storyPinDataId:re.storyPinDataId,videosId:null===(w=re.videos)||void 0===w?void 0:w.entityId})&&3475!==he&&606!==ge&&!(Be&&Be.display_data.hideReactions),showPriceIndicatorInPinCardDetails:vi,title:ai,type:At}),(0,X.jsxs)(s.xu,{right:!0,display:"flex",children:[!He||ci||ri||h?null:(0,X.jsx)(s.xu,{marginStart:1,marginTop:Y,children:(0,X.jsx)(s.xu,{height:26,width:24,children:(0,X.jsx)(p.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,X.jsx)(A.Z,{children:(0,X.jsx)(Mt,{adMatchReason:re.adMatchReason,bestPinImgSrc:Tt(),feedback:ie,feedbackType:Vt,getRecommendationDescription:Wt,graphqlRef:Q,hideSaveOption:null!==(S=re.promotedIsRemovable)&&void 0!==S&&S,imageSignature:null!=Jt?Jt:void 0,isAdsOnlyPin:null!==(T=re.promotedIsRemovable)&&void 0!==T&&T,pinCategory:$t,pinDescription:hi,pinId:at,pinTitle:ti,sourceType:Gt?"ad":0===he?"following":void 0,viewParameter:he,viewType:ge,trackingParams:ue})})})})}),bi?(0,X.jsx)(s.xu,{right:!0,children:(0,X.jsx)(s.xu,{children:(0,X.jsx)(pt,{pinId:at,pin:re,directSaveExpGroup:xi,clientTrackingParams:li})})}):null]})]})})]})]}),si&&(0,X.jsx)(Et,{dedupeVisualAnnotations:R,queryRef:Q,description:re.description,domain:null===(k=re.richSummary)||void 0===k?void 0:k.siteName,isSquarePin:W,gridTitle:null!==(j=re.gridTitle)&&void 0!==j?j:void 0,pinId:at,priceSummary:yi&&{maxPrice:yi.maxPrice,minPrice:yi.minPrice,price:yi.price,standardPrice:yi.standardPrice},richMetadataTitle:null===(D=re.richMetadata)||void 0===D?void 0:D.title,richSummaryDisplayName:null===(O=re.richSummary)||void 0===O?void 0:O.displayName,storyPinDataId:re.storyPinDataId,storyPinDataMetadataPinTitle:null===(L=re.storyPinData)||void 0===L||null===(N=L.metadata)||void 0===N?void 0:N.pinTitle,title:re.title})]}),"reported"===Ut?(0,X.jsx)(ct,{color:null!==(M=re.dominantColor)&&void 0!==M?M:"",getFeedbackText:()=>({title:Oe.bt(" ", "Reported", "message displayed after reporting a pin", undefined, true),subTitle:Oe.bt(" !        Pinterest.", "Thanks! Your feedback helps us keep the Pinterest community safe.", "message displayed after reporting a pin", undefined, true)}),pinId:at,showing:!0}):(0,X.jsx)(ct,{color:null!==(Z=re.dominantColor)&&void 0!==Z?Z:"",getFeedbackText:e=>{const{promoter:t}=re;if(Ot(re)&&null!=t&&t.fullName)return{title:"",subTitle:(0,g.nk)(Oe.bt(" {{ promoter }}          .", "{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.", "pinRep.promotedPinfeedbackText.subtitle", undefined, true),{promoter:t.fullName})};let i;switch(Vt){case"followed":const{board:t,pinner:n}=re;t&&n&&(i=(0,f.oK)({boardId:t.entityId,i18n:Oe,makeNavigateLink:e,display:n.explicitlyFollowedByMe?{type:"board",data:{name:t.name,url:t.url}}:{type:"pinner",data:{full_name:n.fullName,username:n.username}}}));break;case"topic":const{sourceInterest:a}=re;a&&(i=(0,f.Iv)({i18n:Oe,makeNavigateLink:e,sourceInterest:{id:a.entityId,name:a.name,url_name:a.urlName}}))}return i?{title:Oe.bt(" ", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:Wt(e),unfollow:i}:{title:Oe.bt(" ", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:Oe.bt("!         .", "Got it! We'll try to show you more relevant Pins in the future.", "message displayed after hiding a pin", undefined, true)}},onUnfollow:()=>Xe({pinId:at,pinFeedbackStatus:"unfollowed"}),pinId:at,showing:!!Ut,unfollowed:"unfollowed"===Ut,viewParameter:he,viewType:ge}),!Fe&&(null==V?void 0:V.showSeoMetadata)&&!si&&(0,X.jsx)(E.Z,{id:"related-pins-title",children:(0,X.jsx)(s.iP,{onTap:()=>{Ue({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,X.jsx)(ft,{dedupeVisualAnnotations:R,description:re.description,gridTitle:null!==(U=re.gridTitle)&&void 0!==U?U:void 0,pinId:at,richMetadataTitle:null===(G=re.richMetadata)||void 0===G?void 0:G.title,richSummaryDisplayName:null===(H=re.richSummary)||void 0===H?void 0:H.displayName,storyPinDataId:re.storyPinDataId,storyPinDataMetadataPinTitle:null===(ee=re.storyPinData)||void 0===ee||null===(ae=ee.metadata)||void 0===ae?void 0:ae.pinTitle,title:re.title,queryRef:Q})})}),i]})})}})}const{usePinData:Zt}=(0,h.x0)(Rt,{useLegacyAdapter:e=>{var t,i,n,a,o,r,l,s,d,c,u,p;if(!e)return null;const _=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},h=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},m=e.reaction_counts;return{adMatchReason:e.ad_match_reason,adDestinationUrl:e.ad_destination_url,altText:e.alt_text,attribution:e.attribution&&{embed:e.attribution.embed&&{type:e.attribution.embed.type}},attributionSourceId:e.attribution_source_id,autoAltText:e.auto_alt_text,board:e.board&&{entityId:e.board.id,followedByMe:e.board.followed_by_me,isCollaborative:e.board.is_collaborative,name:e.board.name,privacy:e.board.privacy,url:e.board.url},campaignId:e.campaign_id?String(e.campaign_id):null,category:e.category,closeupAttribution:e.closeup_attribution&&{fullName:e.closeup_attribution.full_name,imageMediumUrl:e.closeup_attribution.image_medium_url,username:e.closeup_attribution.username},closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,debug:e.debug,descriptionHtml:e.description_html,description:e.description,domain:e.domain,dominantColor:e.dominant_color,embed:e.embed&&{height:e.embed.height,src:e.embed.src,type:e.embed.type,width:e.embed.width},entityId:e.id,gridTitle:e.grid_title,imageCrop:e.image_crop&&{minY:e.image_crop.min_y,maxY:e.image_crop.max_y},imageSignature:e.image_signature,imageSpec_136x136:h(null===(t=e.images)||void 0===t?void 0:t["136x136"]),imageSpec_170x:h(null===(i=e.images)||void 0===i?void 0:i["170x"]),imageSpec_236x:h(null===(n=e.images)||void 0===n?void 0:n["236x"]),imageSpec_474x:h(null===(a=e.images)||void 0===a?void 0:a["474x"]),imageSpec_736x:h(null===(o=e.images)||void 0===o?void 0:o["736x"]),imageSpec_orig:h(null===(r=e.images)||void 0===r?void 0:r.orig),isDownstreamPromotion:e.is_downstream_promotion,isEligibleForAggregatedComments:e.is_eligible_for_aggregated_comments,isEligibleForPdp:e.is_eligible_for_pdp,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isOosProduct:e.is_oos_product,isPromoted:e.is_promoted,isStaleProduct:e.is_stale_product,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name,entityId:null!==(l=e.link_domain.official_user.id)&&void 0!==l?l:"",imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,username:e.link_domain.official_user.username,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified}},link:e.link,nativeCreator:_(e.native_creator),pinnedToBoard:e.pinned_to_board&&{entityId:null!==(s=e.pinned_to_board.id)&&void 0!==s?s:"",url:e.pinned_to_board.url},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation},pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},pinPromotionId:e.pin_promotion_id?String(e.pin_promotion_id):null,promoter:_(e.promoter),promotedIsRemovable:e.promoted_is_removable,reactionCountsData:m&&Object.keys(m).map((e=>({reactionType:Number(e),reactionCount:m[e]}))),richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title,article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata",fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map((e=>{var t,i,n,a;return{__typename:"RichPinProductMetadata",name:e.name,offerSummary:{maxPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.max_price,minPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.min_price,price:null===(n=e.offer_summary)||void 0===n?void 0:n.price,standardPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.standard_price}}}))},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{bestRating:e.rich_summary.aggregate_rating.best_rating,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,displayCookTime:e.rich_summary.display_cook_time,siteName:e.rich_summary.site_name,typeName:e.rich_summary.type_name,products:e.rich_summary.products&&e.rich_summary.products.map((e=>{var t,i,n,a;return{name:e.name,offerSummary:{maxPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.max_price,minPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.min_price,price:null===(n=e.offer_summary)||void 0===n?void 0:n.price,standardPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.standard_price}}}))},section:e.section&&e.section.id?{entityId:e.section.id}:null,seoNoindexReason:e.seo_noindex_reason,seoTitle:e.seo_title,seoUrl:e.seo_url,shoppingFlags:e.shopping_flags,shouldOpenInStream:e.should_open_in_stream,sourceInterest:e.source_interest&&{entityId:null!==(d=e.source_interest.id)&&void 0!==d?d:"",name:e.source_interest.name,urlName:e.source_interest.url_name},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(c=e.sponsorship.creator.id)&&void 0!==c?c:"",fullName:e.sponsorship.creator.full_name,imageMediumUrl:e.sponsorship.creator.image_medium_url,imageSmallUrl:e.sponsorship.creator.image_small_url,username:e.sponsorship.creator.username},sponsor:e.sponsorship.sponsor&&{entityId:null!==(u=e.sponsorship.sponsor.id)&&void 0!==u?u:"",fullName:e.sponsorship.sponsor.full_name,imageMediumUrl:e.sponsorship.sponsor.image_medium_url,imageSmallUrl:e.sponsorship.sponsor.image_small_url,username:e.sponsorship.sponsor.username}},storyPinDataId:e.story_pin_data_id,storyPinData:e.story_pin_data&&{hasProductPins:e.story_pin_data.has_product_pins,isDeleted:e.story_pin_data.is_deleted,metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},title:e.title,trackedLink:e.tracked_link,trackingParams:e.tracking_params,videos:e.videos&&{entityId:null!==(p=e.videos.id)&&void 0!==p?p:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,width:e.videos.video_list.V_720P.width,url:e.videos.video_list.V_720P.url}}},recommendationReason:e.recommendation_reason&&{reason:e.recommendation_reason.reason,board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url}}}}});function Ut({pinId:e,duploQueryRef:t,...i}){const n=(0,R.Qy)(),[a,o]=Zt(t?{graphqlRef:t}:e);return!!a&&(0,X.jsx)(Bt,{...i,debugInfo:n&&a.debug&&(0,X.jsx)(R.Wu,{data:a.debug}),pin:a,duploQueryRef:o})}},102675:(e,t,i)=>{i.d(t,{CC:()=>l,ZP:()=>d,hW:()=>s});var n=i(240684),a=i(55592),o=i(578662),r=i(785893);const l=(0,n.ZP)({resolved:{},chunkName:()=>"AuthDesktopPinRep",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(67631),i.e(2984)]).then(i.bind(i,111369)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 111369}}),s=(0,n.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(97270),i.e(39921)]).then(i.bind(i,476089)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 476089}});function d(e){const t=(0,a.HG)(),i=(0,o.Z)();if(i&&i.isAuth&&t){const{disableReaction:t,disableRounding:i,disableAppUpsell:n,duploDedupeVisualAnnotations:a,duploDisablePinCardPadding:o,duploFeedItemProps:s,duploIsSquarePin:d,duploLazyLoadImage:c,duploOneTapSave:u,duploPinCardDetailsMargin:p,duploPriorityFetchImage:_,duploQueryRef:h,duploShouldAddNiiSearchParamToImageUrls:m,duploShouldAllowProductPriceIndicator:g,duploConversationPin:y,topLevelTrafficSource:v,topLevelTrafficSourceDepth:f,trafficSource:x,...b}=e;return(0,r.jsx)(l,{...b})}const{attributionOption:n,blockClickEvents:d,borderStyle:c,disableHover:u,imageHeightModifier:p,imageOnlyOption:_,onError:h,onLoad:m,pin:g,pinImageCrop:y,pinImageFit:v,resolution:f,rounding:x,saveButtonOptions:b,authDesktopSelectionState:P,authDesktopSurface:w,...S}=e;return(0,r.jsx)(s,{...S})}},328398:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(883119),a=i(182833),o=i(434012),r=i(785893);function l({text:e,icon:t,largeIdentifier:i,largeMargin:l}){const s=(0,o.ZP)();return(0,r.jsxs)(n.xu,{zIndex:new n.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"PinTypeIdentifier",display:"flex",margin:l?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:i?4:void 0,height:i?36:24,top:!0,children:[t&&(0,r.jsx)(n.xu,{marginEnd:i?2:1,children:(0,r.jsx)(n.JO,{accessibilityLabel:s.bt("   ", "identifier that shows the pin type", "pin.pincard.iconAccessibilityLabel", undefined, true),color:"default",icon:t,inline:!0,size:i?18:12})}),(0,r.jsx)(n.xv,{inline:!0,size:i?"200":"100",weight:"bold",children:e})]})}},23120:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(883119),a=i(434012),o=i(443426),r=i(376410),l=i(975323),s=i(260531),d=i(593954),c=i(963362),u=i(785893);const p=({rating:e,textSize:t,type:i})=>{if("single"===i){const i=parseFloat(e);return Number.isNaN(i)?null:(0,u.jsxs)(n.kC,{alignItems:"center",children:[(0,u.jsx)(l.A,{fill:"full",width:12}),(0,u.jsx)(n.xv,{size:t,children:i.toFixed(1)})]})}return(0,u.jsx)(l.Z,{rating:e,width:12})},_=({bracket:e,count:t,countFormat:i,countType:l,marginStart:c,textSize:p,underline:_})=>{const{locale:h}=(0,s.B)(),m=(0,a.ZP)(),g=(0,o.Z)();if(null==t)return null;let y=g(h,t,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===i){const e="review"===l?m.nbt(["{{ count }}  ", "  ({{ count }})", " ({{ count }})", "{{ count }} ", "{{ count }} ", "{{ count }}  "], t, "webapp.app.www-unified.productStarRatings.RatingCountText", true):m.nbt(["{{ count }}  ", "  ({{ count }})", " ({{ count }})", "{{ count }} ", "{{ count }} ", "{{ count }}  "], t, "webapp.app.www-unified.productStarRatings.RatingCountText", true);y=(0,r.nk)(e,{count:t}).join("")}return e&&(y=`(${y})`),(0,u.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:_?"1px solid gray":"none"}},marginStart:c,children:(0,u.jsx)(n.xv,{color:_?"subtle":"default",size:p,underline:_,children:(0,u.jsx)(d.Z,{id:"ratings-count-text",display:"inlineBlock",children:y})})})};function h({bracket:e,count:t,countFormat:i,countType:a,rating:o,textSize:r,underline:l}){return(0,c.Z)({count:t,rating:o})?(0,u.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(p,{rating:o,textSize:r,type:"multiple"}),(0,u.jsx)(_,{bracket:e,count:t,countFormat:i,countType:a,textSize:r,underline:l})]}):null}},963362:(e,t,i)=>{function n({count:e,rating:t}){return Boolean(t&&"None"!==t&&Number.isFinite(e))}i.d(t,{Z:()=>n})},508958:(e,t,i)=>{i.d(t,{x:()=>l,y:()=>s});var n=i(667294),a=i(946689),o=i(785893);const{Provider:r,useMaybeHook:l}=(0,a.Z)("ProfileViewContext");function s({children:e}){const[t,i]=(0,n.useState)(),[a,l]=(0,n.useState)(new Map),[s,d]=(0,n.useState)(),[c,u]=(0,n.useState)(),p=(0,n.useCallback)(((e,t)=>{l(new Map(a.set(e,t)))}),[a]),_=(0,n.useMemo)((()=>({boardPinDensity:t,boardSortOrder:a,profileBoardView:s,profilePinDensity:c,setBoardPinDensity:i,updateBoardSortOrder:p,setProfileBoardView:d,setProfilePinDensity:u})),[t,a,s,c,p]);return(0,o.jsx)(r,{value:_,children:e})}},54978:(e,t,i)=>{function n(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,i)=>e[i]-e[t])).slice(0,3)}return null}function a(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function o({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:i,storyPinDataId:n,videosId:a,isEligibleForStaticImageIdeaPin:o}){return!(i||t||!a&&!n||null!=e&&e||o)}i.d(t,{At:()=>n,J6:()=>o,Ud:()=>a})},836153:(e,t,i)=>{i.d(t,{AF:()=>l,H0:()=>s,S6:()=>d,_S:()=>c});var n=i(702664),a=i(946689),o=i(785893);const{Provider:r,useHook:l,useMaybeHook:s}=(0,a.Z)("Pins");function d(){const e=l();return t=>e[t]}function c({children:e}){const t=(0,n.useSelector)((({pins:e})=>e),n.shallowEqual);return(0,o.jsx)(r,{value:t,children:e})}},392407:(e,t,i)=>{i.d(t,{Tt:()=>u,cm:()=>c,kW:()=>s,kY:()=>p,mN:()=>d});var n=i(702664),a=i(946689),o=i(578662),r=i(785893);const{Provider:l,useHook:s}=(0,a.Z)("Users");function d(){const e=s();return t=>e[t]}function c(){const e=s();return t=>{const i=Object.keys(e).find((i=>e[i].username===t));return e[null!=i?i:""]}}function u(){const{id:e}=(0,o.Z)();return s()[null!=e?e:""]}function p({children:e}){const t=(0,n.useSelector)((({users:e})=>e),n.shallowEqual);return(0,r.jsx)(l,{value:t,children:e})}},8420:(e,t,i)=>{i.d(t,{Z:()=>A});var n=i(667294),a=i(702664),o=i(167912),r=i(883119),l=i(127242),s=i(434012),d=i(260531),c=i(233423),u=i(780621),p=i(161452),_=i(287421),h=i(55592),m=i(182833),g=i(816987),y=i(7039),v=i(785893);function f({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:i,children:n}){const a=(0,s.ZP)(),o=(0,h.HG)(),l=(0,h.Wb)();return l||o?(0,v.jsx)(g.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!l,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,v.jsx)(r.xu,{color:(0,m.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,m.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:o?"100vw":"100%",zIndex:new r.Ry(1),children:(0,v.jsx)(r.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:i?0:12,children:n})})}):(0,v.jsx)(y.default,{accessibilityModalLabel:a.bt("", "Close", "Close modal window", undefined, true),isOpen:t,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:a.bt("", "Close", "Close modal window", undefined, true),children:n})}var x,b=i(13288);const P=void 0!==x?x:x=i(599271);function w({dedupeVisualAnnotations:e,iconColor:t,size:i,isMainPin:o,isAuth:c,pinCreditPrefix:m,onClickTitleOrDomain:g,pinId:y,renderOnlyHiddenSEOContent:x=!1,graphqlRef:P}){const w=(0,s.ZP)(),S=(0,p.Z)(),{isBot:I}=(0,d.B)(),{unauthInterstitialDismissed:T}=(0,a.useSelector)((({session:e})=>e)),[A,k]=(0,n.useState)(!1),E=(0,h.HG)(),C=(0,h.Wb)(),j=(0,_.Z)(),R=!C&&!c,D=(0,v.jsxs)(r.xu,{padding:5,dangerouslySetInlineStyle:R?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,v.jsx)(r.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,v.jsx)(r.hU,{accessibilityLabel:w.bt("", "Cancel", "close modal icon", undefined, true),icon:"cancel",size:"sm",onClick:()=>{(0,u.My)("mweb.unauth.see_more.dismissed"),S({action:"click",item:"close-seo-vase-see-more-button"}),k(!1),o&&(0,u.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,v.jsx)(r.xu,{marginBottom:R?0:8,children:(0,v.jsx)(r.xv,{align:R?"start":"center",weight:R?void 0:"bold",children:(0,v.jsx)("span",{className:"deprecatedTextSizeXL",children:R?null:w.bt("  ", "More information", "more information label", undefined, true)})})}),(0,v.jsx)(b.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:m,onClickTitleOrDomain:g,pinId:y,queryRef:P})]});return x?(0,v.jsx)(r.xu,{display:"none",children:D}):(0,v.jsxs)(r.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,v.jsx)(r.hU,{accessibilityLabel:w.bt(" ", "See more", "more information icon", undefined, true),icon:"ellipsis",iconColor:null!=t?t:"gray",size:i||"md",onClick:({event:t})=>{t.stopPropagation(),(0,u.My)("mweb.unauth.see_more.shown."+(o?"main_pin":"related_pins")),S({action:"click",item:"seo-vase-see-more-button"}),C||c?(k(!0),o&&(0,u.My)("mweb.unauth.see_more.main_pin.shown")):j({pinId:y||"",location:o?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,v.jsx)(b.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:m,onClickTitleOrDomain:g,pinId:y,queryRef:P})})}}),I&&!E?(0,v.jsx)(r.xu,{display:A?"flex":"none",children:D}):(0,v.jsx)(f,{showFullScreenInfo:A,isOpen:A&&!C,interstitialUpsellDismissed:!!T,children:D}),C&&A&&(0,v.jsx)(l.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:D})]})}function S(e){const t=(0,o.useFragment)(P,e.graphqlRef);return(0,v.jsx)(w,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,graphqlRef:t})}function I(e){return(0,v.jsx)(w,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent})}function T(e){return(0,c.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,v.jsx)(I,{...e})}function A(e){return e.graphqlRef?(0,v.jsx)(S,{...e}):e.lazyLoadAnnotations?(0,v.jsx)(T,{...e}):(0,v.jsx)(I,{...e})}},233525:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),a=i(883119),o=i(522858),r=i(842625),l=i(78109),s=i(490286),d=i(55592),c=i(278286),u=i(627740),p=i(666678),_=i(512731),h=i(785893);function m({customLayoutType:e,emptyState:t,feedItems:i,feedKey:m,gridConfig:g,pagination:{hasNext:y,isLoadingNext:v,loadNext:f,refetch:x},pullToRefresh:b,renderFeedItem:P,serverRender:w}){const S=(0,d.HG)(),[I,T]=(0,n.useState)(!1),A="userSearch"===e?window.innerWidth-16:200,k=v&&0===i.length&&!I,E="desktopFlashlight"===e?0:r.qG;return(0,c.Z)((()=>(window.addEventListener("online",f),()=>window.removeEventListener("online",f)))),(0,h.jsxs)(a.xu,{"data-test-id":"MobileFeed",children:[(0,h.jsx)(p.Z,{enabled:!!b,onPull:()=>{x(),T(!0)},refreshing:I}),(0,h.jsxs)(a.xu,{marginStart:E,marginEnd:E,"data-test-id":"grid",opacity:I?.5:1,children:[(0,h.jsx)(l.Z,{isAtEndOfFeed:!y,itemCount:i.length,children:i.length?(0,h.jsx)(a.xu,{"data-test-id":"feed",marginTop:(0,u.kk)({isDesktop:S}),children:(0,h.jsx)(s.Z.Consumer,{children:t=>(0,h.jsx)(n.Fragment,{children:(0,h.jsx)(u.c$,{children:(0,h.jsx)(o.Z,{cacheKey:m+(null!=g&&g.key?`|${g.key}`:""),id:w?m:void 0,items:i,scrollContainerRef:t,serverRender:w,columnWidth:S?r.yF:A,renderItem:({data:e,itemIdx:t})=>P(e,t),gutterWidth:S?4*r.jC:void 0,loadItems:f,minCols:"userSearch"===e?1:2,...g})})})})}):v?(0,h.jsx)(u.gG,{}):null!=t?t:null}),k&&(0,h.jsx)(a.xu,{column:12,paddingY:2,children:(0,h.jsx)(_.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},435915:(e,t,i)=>{i.d(t,{Z:()=>c,j:()=>s});var n=i(883119),a=i(434012),o=i(376410),r=i(835686),l=i(785893);const s=[0,2,3],d="Ad  ";function c({hasAffiliatedProducts:e,isPromoted:t,sponsorName:i,sponsorshipStatus:c,textColor:u}){const p=(0,a.ZP)(),_=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let h;t?h=(0,o.nk)(p.bt("   {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:i}):c||0===c?i&&!s.includes(c)?h=(0,o.nk)(p.bt("   {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:i}):2!==c&&(h=p.bt(" ", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):e&&(h=p.bt("  ", "Includes sponsored products", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true));const m=_&&!t&&d||"";return(0,l.jsxs)(n.xv,{color:u,size:"100",children:[m,(0,l.jsx)(o.r7,{text:h})]})}},293747:(e,t,i)=>{i.d(t,{Z:()=>d,j:()=>s});var n=i(883119),a=i(434012),o=i(376410),r=i(835686),l=i(785893);const s=[0,2,3];function d({hasAffiliateProducts:e,href:t,isPromoted:i,onNavigateSponsorClick:d,sponsorName:c,sponsorUsername:u,sponsorshipStatus:p,textWeight:_="bold"}){const h=(0,a.ZP)(),m=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,g=(0,r.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,y=t||(u?`/${u}/`:null),v=y&&c?(0,l.jsx)(n.rU,{href:y,onClick:d,children:(0,l.jsx)(n.xv,{weight:_,size:"200",children:c})},c):void 0;let f;i?f=(0,o.nk)(h.bt("   {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:v}):p||0===p?c&&!s.includes(p)?f=(0,o.nk)(h.bt("   {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:v}):g&&2===p||(f=h.bt(" ", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):e&&(f=h.bt("  ", "Includes sponsored products", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true));const x=m&&!i?"Ad  ":"";return(0,l.jsxs)(n.xv,{inline:!0,size:"200",lineClamp:2,children:[x,f]})}},465566:(e,t,i)=>{i.d(t,{f:()=>l,w:()=>s});var n=i(667294),a=i(946689),o=i(785893);const{Provider:r,useHook:l}=(0,a.Z)("Session");function s({children:e}){const[t,i]=(0,n.useState)(void 0),a=(0,n.useCallback)((()=>i(void 0)),[]),l=(0,n.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:i,removeUnauthFollowUserId:a})),[t,a]);return(0,o.jsx)(r,{value:l,children:e})}},359187:(e,t,i)=>{i.d(t,{Z:()=>S});var n,a=i(667294),o=i(167912),r=i(883119),l=i(434012),s=i(396681),d=i(301351),c=i(260531),u=i(593954),p=i(161452),_=i(833979),h=i(836153),m=i(441706),g=i(785893);const y="\ndiv::-webkit-scrollbar {\n  display: none;\n}\n",v=void 0!==n?n:n=i(717988);function f({direction:e,handleClick:t,testId:i,isRTL:n}){const a=(0,l.ZP)(),o=(0,p.Z)(),s=n?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,g.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},onClick:e=>{o({action:"click",item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":i,children:(0,g.jsx)(r.xu,{position:"absolute",left:"left"===e,right:"right"===e,borderStyle:"none",children:(0,g.jsx)(u.Z,{id:"board-pills-arrow",children:(0,g.jsx)(r.JO,{accessibilityLabel:a.bt("", "Scroll", "annotations.scrollArrow", undefined, true),icon:"left"!==e?s[0]:s[1],size:8,color:"subtle"})})})})}function x({name:e,url:t}){const[i,n]=(0,a.useState)(!1),o=(0,p.Z)();return(0,g.jsx)(r.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:(0,g.jsx)(r.xv,{color:i?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,g.jsx)(r.rU,{display:"inlineBlock",tapStyle:"compress",href:t,rounding:8,onClick:()=>{o({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function b({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:i,showVaseTagsAsHashtagsGroup:n}){const o=(0,a.useRef)(null),[l,h]=(0,a.useState)(!1),[m,v]=(0,a.useState)(!1),b=(0,p.Z)(),{isRTL:P}=(0,c.B)(),w=n&&n.startsWith("enabled")&&"enabled_collapsible_heading"!==n&&n.split("_");let S="";w&&w.length>2&&(S=w[2]),(0,a.useEffect)((()=>{const e=o.current,t=()=>{if("inlineWithScrollArrows"===i&&o.current){const e=o.current,t=Math.abs(e.scrollLeft||0),i=Math.abs(e.scrollWidth||0),n=t>4,a=t+e.clientWidth<i-4,r=P?a:n;h(P?n:a),v(r)}else h(!1),v(!1)};return t(),null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[i,P]);const I=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&b({action:"click",item:"board-pills-arrow-button-right"});const i=o.current;if(!i)return;const n=("left"===e?-1:1)*i.clientWidth*.5;i.scrollBy(n,0)},{annotationsWithLinks:T}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});return T.map((e=>{const t=e.name||"";if(w){const i=(0,_.bb)(t,S);e.name=i}return e})),(0,g.jsx)(r.kC,{alignItems:"center",justifyContent:"end",children:(0,g.jsxs)(r.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,g.jsx)(s.Z,{unsafeCSS:y}),m&&(0,g.jsx)(f,{direction:"left",handleClick:I("left"),testId:"left-scroll-arrow",isRTL:P}),(0,g.jsx)(r.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:o,children:T.map((({name:e,url:t})=>(0,g.jsx)(x,{name:e,url:t},t||e)))}),l&&(0,g.jsx)(u.Z,{id:"board-pills-arrow-button-right",children:(0,g.jsx)(f,{direction:"right",handleClick:I("right"),testId:"right-scroll-arrow",isRTL:P})})]})})}function P({dedupeVisualAnnotations:e,graphqlRef:t,mode:i,pinId:n,showVaseTagsAsHashtagsGroup:a}){var r;const l=(0,o.useFragment)(v,t),s=(0,m.Z)(l);let d=(null==l||null===(r=l.pinJoin)||void 0===r?void 0:r.visualAnnotation)||[];return e&&(d=e({pinId:n,visualAnnotations:d})),d.length<1?null:(0,g.jsx)(b,{mode:i,showVaseTagsAsHashtagsGroup:a,pinJoinVisualAnnotation:d,pinJoinAnnotationsWithLinks:s||void 0})}function w(e){var t,i,n;const a=(0,h.S6)()(e.pinId);return((null==a||null===(t=a.pin_join)||void 0===t?void 0:t.visual_annotation)||[]).length<1?null:(0,g.jsx)(b,{mode:e.mode,pinJoinVisualAnnotation:null==a||null===(i=a.pin_join)||void 0===i?void 0:i.visual_annotation,pinJoinAnnotationsWithLinks:null==a||null===(n=a.pin_join)||void 0===n?void 0:n.annotations_with_links})}function S(e){return e.graphqlRef?(0,g.jsx)(P,{...e}):(0,g.jsx)(w,{...e})}},13288:(e,t,i)=>{i.d(t,{Z:()=>S});var n=i(667294),a=(i(167912),i(883119)),o=i(59674),r=i(434012),l=i(376410),s=i(639429),d=i(301351),c=i(260531),u=i(103619),p=i(593954),_=i(780621),h=i(161452),m=i(55592),g=i(69465),y=i(785893);function v({boardUrl:e,boardName:t,boardPrivacy:i,pinnerFullName:n,pinnerImageSmallUrl:o,pinnerImageLargeUrl:r}){const l=(0,m.HG)(),s=(0,h.Z)();if(!e||!t)return null;const d=e.split("/")[1],c=n||d,u=o||r;return(0,y.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[u?(0,y.jsx)(a.iP,{role:"link",href:`/${d}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,_.My)(`pcons.${l?"desktop":"mobile"}.see-more-button-creator`),s({action:"click",item:"see-more-button-creator"})},children:(0,y.jsx)(a.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,y.jsx)(a.Ee,{naturalHeight:32,naturalWidth:32,alt:c,fit:"cover",color:"rgb(231, 186, 176)",src:u})})},"profile-link"):null,(0,y.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,y.jsx)(p.Z,{id:"see-more-button-creator-full-name",children:(0,y.jsx)(a.iP,{onTap:()=>{(0,_.My)(`pcons.${l?"desktop":"mobile"}.see-more-button-creator-full-name`),s({action:"click",item:"see-more-button-creator-full-name"})},children:(0,y.jsx)(a.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,y.jsx)(a.rU,{href:`/${d}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:c},"profile-link")},"profileLink")})}),"protected"===i?null:(0,y.jsx)(a.xv,{color:"default",inline:!0,size:"100",children:(0,y.jsx)(a.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=t?t:""},"board-link")},"boardLink")]})]})}var f,x=i(359187);const b=void 0!==f?f:f=i(298262);function P({dedupeVisualAnnotations:e,pin:t,pinId:i,queryRef:o,onClickTitleOrDomain:f,pinCreditPrefix:b}){var P,w,S,I,T,A,k,E,C;const j=(0,r.ZP)(),R=(0,m.ml)(),D=(0,m.Wb)(),{isAuthenticated:O,isBot:L}=(0,c.B)(),z=(0,h.Z)(),F=!O&&!L&&R,N=f||null,[M,B]=(0,n.useState)(!1),Z=(0,g.si)(),U=(0,g.Re)(),G=(0,d.fs)({pinTitle:t.title,gridTitle:t.gridTitle,richSummaryDisplayName:null===(P=t.richSummary)||void 0===P?void 0:P.displayName,richMetadataTitle:null===(w=t.richMetadata)||void 0===w?void 0:w.title,storyPinDataId:t.storyPinDataId,storyPinDataMetadataPinTitle:null===(S=t.storyPinData)||void 0===S||null===(I=S.metadata)||void 0===I?void 0:I.pinTitle})||t.description,H=(G||"").length>U,{description:K}=(0,d.eK)({richMetadataDescription:null===(T=t.richMetadata)||void 0===T?void 0:T.description,richSummaryDisplayName:null===(A=t.richSummary)||void 0===A?void 0:A.displayName,closeupUnifiedDescription:t.closeupUnifiedDescription}),V=K.length>Z,[W,$]=(0,n.useState)(!V&&!H),q=(0,s._S)(t.domain)?t.domain:"";return(0,y.jsxs)(a.xu,{children:[(0,y.jsxs)(a.xu,{children:[(0,y.jsxs)(a.xu,{as:"figcaption",paddingX:D?11:0,children:[(0,y.jsx)(a.X6,{id:"vase-pin-title",color:"default",size:"300",accessibilityLevel:3,children:M||L?G:(0,u.Z)(G||"",U)}),!!G&&(0,y.jsx)(a.xu,{height:K?8:0}),K&&(V||H)?(0,y.jsx)(p.Z,{id:"vase-pin-description",children:(0,y.jsxs)(a.iP,{onTap:()=>{M||O||((0,_.NC)("click_open_description_in_sheet"),z({action:"click",item:"more-description-in-sheet"})),$(!W),B(!M)},fullWidth:!1,children:[(0,y.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:M||L?K:(0,u.Z)(K,Z)}),(0,y.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,y.jsx)(a.xv,{weight:"bold",size:"200",inline:!0,children:M||L?j.bt("", "Less", "Toggle less description button", undefined, true):j.bt("", "More", "Toggle more description button", undefined, true)})})]})}):(0,y.jsx)(p.Z,{id:"vase-pin-description",children:(0,y.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:K})})]}),F&&(W||L)&&!!q&&(0,y.jsx)(a.xu,{marginTop:2,children:(0,y.jsx)(a.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,l.nk)(j.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "tells the user where the pin is from in the form of Saved from website", undefined, true),{pinCreditPrefix:(0,y.jsx)(a.xu,{display:"inlineBlock",children:(0,y.jsx)(a.xv,{inline:!0,size:"200",children:b})},"pinCreditsPrefix"),pinCredit:(0,y.jsxs)(a.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:[N&&(0,y.jsx)(a.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),z({action:"click",item:"pin-domain-link"}),(0,_.My)("mweb_pin_page.pin_link.clickthrouh"),O||(0,_.NC)("click_pin_closeup_link_clickthrough"),N()},tapStyle:"compress",children:(0,y.jsx)(a.xv,{size:"200",lineClamp:1,children:(0,y.jsx)("span",{style:{textDecoration:"underline"},children:q})},"pinLinkDomain")}),t.link&&!N&&(0,y.jsx)(a.rU,{href:t.link,children:(0,y.jsx)(a.xv,{size:"200",underline:!0,children:q})})]},"pinCredits")})})})]}),!!t.board&&(W||L)&&(0,y.jsx)(a.xu,{marginTop:4,children:(0,y.jsx)(v,{boardUrl:t.board.url||void 0,boardName:t.board.name||void 0,boardPrivacy:t.board.privacy||void 0,pinnerFullName:(null===(k=t.pinner)||void 0===k?void 0:k.fullName)||void 0,pinnerImageSmallUrl:null===(E=t.pinner)||void 0===E?void 0:E.imageSmallUrl,pinnerImageLargeUrl:null===(C=t.pinner)||void 0===C?void 0:C.imageLargeUrl})}),(0,y.jsx)(a.xu,{marginTop:4,children:(0,y.jsx)(x.Z,{dedupeVisualAnnotations:e,pinId:i,mode:"expanded",graphqlRef:o})})]})}const{usePinData:w}=(0,o.x0)(b,{useLegacyAdapter:e=>e&&{board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},closeupUnifiedDescription:e.closeup_unified_description,description:e.description,domain:e.domain,gridTitle:e.grid_title,link:e.link,pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageSmallUrl:e.pinner.image_small_url},richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title}});function S({queryRef:e,pinId:t,...i}){const[n,a]=w(e?{graphqlRef:e}:t);return n&&(0,y.jsx)(P,{...i,pinId:t,pin:n,queryRef:a})}},878891:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),a=i(618446),o=i.n(a),r=i(491190),l=i(154086),s=i(785893);class d extends n.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:i,viewType:n}=this.props;e({viewData:t,viewParameter:i,viewType:n})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:i,viewParameter:n,viewType:a}=this.props;n===e.viewParameter&&a===e.viewType&&o()(i,e.viewData)||t({viewData:i,viewParameter:n,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:i,objectIdStr:n,viewData:a,viewParameter:o,viewType:r,clientTrackingParams:d}=this.props;return(0,s.jsx)(l.Z,{auxData:e,component:i,objectIdStr:n,clientTrackingParams:d,viewData:a,viewParameter:o,viewType:r,children:t})}}function c(e){const{setViewContextData:t,clearViewContextData:i}=(0,r.sV)();return(0,s.jsx)(d,{...e,clearCurrentPageData:i,setCurrentPageData:t})}},154086:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),a=i(234983),o=i(780621);const r=({viewType:e,viewParameter:t,viewData:i,auxData:n,objectIdStr:a,component:r,clientTrackingParams:l,element:s},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:t,view_data:i,aux_data:n,object_id_str:a,component:r,clientTrackingParams:l,element:s},Object.keys(u).reduce(((e,t)=>(void 0===u[t]&&delete e[t],e)),{...u}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,o.My)("mweb.logging.null_view_type"),d(c)};function l(e){const{auxData:t,clientTrackingParams:i,children:o,component:l,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,_=(0,a.Z)(),h=JSON.stringify(t),m=JSON.stringify(c);return(0,n.useEffect)((()=>{r(e,_)}),[_,h,i,l,s,d,m,u,p]),n.Children.only(o)}},804402:(e,t,i)=>{i.d(t,{B:()=>h,Z:()=>m});var n=i(667294),a=i(616550),o=i(741208),r=i(545168),l=i(491190),s=i(504289),d=i(780621),c=i(161452),u=i(835770),p=i(122870),_=i(785893);const h=e=>"/"===e.pathname?"/":(0,s.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function m({children:e,componentType:t,within:i}){const s=(0,a.useLocation)(),{flushContextEvents:m,logContextEvent:g}=(0,r.v)(),{viewType:y,viewParameter:v}=(0,l.SU)(),f=(0,c.Z)();(0,n.useEffect)((()=>{f({action:"view",item:"download-button",within:i})}),[s,i,f]);const x=(0,n.useRef)(!1);(0,n.useEffect)((()=>{y&&202!==y?(g({component:t||13106,element:10308,event_type:9976,view_type:y,view_parameter:v,aux_data:{app_upsell_type:i,app_upsell_is_dupe:x.current}}),x.current=!0):o.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:y,view_parameter:v,app_upsell_type:i,app_upsell_is_dupe:x.current})}),[t,g,v,y,i]);const b=(0,u.Z)();return(0,n.useEffect)((()=>{b||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${i}`)}),[b,i]),(0,_.jsx)(p.Z,{children:n=>e({handleOpenApp:e=>{var a;(f({action:"click",item:"download-button",within:i}),(0,d.NC)("press_open_app",!0),g({component:t||13106,element:10308,event_type:102,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:i}}),g({component:t||13106,element:10308,event_type:9977,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:i}}),m(!0),n)&&(g({component:t||13106,element:10308,event_type:1701,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:i}}),n(null!==(a=null==e?void 0:e.deepLinkUri)&&void 0!==a?a:h(s),i))}})})}},92921:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(883119),a=i(7039),o=i(434012),r=i(243084),l=i(260531),s=i(55592),d=i(804402),c=i(487135),u=i(613992),p=i(825152),_=i(785893);const h=({deepLinkUri:e,isOpen:t,onDismiss:i,onOpenInApp:c,to:h,within:m})=>{const g=(0,o.ZP)(),y=(0,s.Wb)(),{isBot:v,userAgent:{platform:f,raw:x}}=(0,l.B)(),b=(0,p.Rp)({isBot:v,platform:f,userAgent:x}),P=(0,r.Z)({href:null!=h?h:""}),w=y?60:40;return(0,_.jsx)(a.default,{accessibilityModalLabel:"",isOpen:t,mobileHideCloseIcon:!0,type:"app_upsell_v1",zIndex:new n.Ry(101),closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,_.jsx)(d.Z,{componentType:14157,within:m,children:({handleOpenApp:t})=>(0,_.jsxs)(n.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,_.jsx)(n.xu,{display:"inlineBlock",position:"absolute",children:(0,_.jsx)(n.xu,{"data-test-id":"appUpsell-continue",children:(0,_.jsx)(n.hU,{accessibilityLabel:g.bt("  ", "close icon background", "accesibility label for close icon on a overlay", undefined, true),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{i({event:e}),P&&!e.defaultPrevented&&(t(),P({event:e}))},size:"lg",iconColor:"gray"})})}),(0,_.jsxs)(n.xu,{paddingX:2,paddingY:6,children:[(0,_.jsx)(n.xu,{paddingY:2,justifyContent:"center",display:"flex",children:b?(0,_.jsx)(u.Z,{size:w}):(0,_.jsx)(n.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:w})}),(0,_.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,_.jsx)(n.xu,{paddingY:2,children:(0,_.jsx)(n.X6,{align:"center",size:"400",children:b?g.bt(" Pinterest Lite", "Try Pinterest Lite", "mweb.app_upsell.lite_app_upsell_title", undefined, true):g.bt(" Pinterest   ", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true)})}),(0,_.jsx)(n.xv,{align:"center",size:"300",children:b?g.bt("     ", "A space-saving way to discover new ideas", "mweb.app_upsell.lite_app_value_prop", undefined, true):g.bt("     ", "Continue in the app for the full experience", "mweb.app_upsell.description4", undefined, true)}),(0,_.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,_.jsx)(n.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{t({deepLinkUri:e}),c()},text:g.bt(" ", "Open app", "mweb.app_upsell.app_upsell_button_text1", undefined, true)})})]})]})]})})})};function m({clientTrackingParams:e,deepLinkUri:t,isOpen:i,onDismiss:n,onOpenInApp:a,shouldTrackDismiss:o,to:r,viewParameter:l,viewType:s,within:d}){return(0,_.jsx)(c.Z,{clientTrackingParams:e,viewType:s,viewParameter:l,children:(0,_.jsx)(h,{deepLinkUri:t,isOpen:i,onDismiss:e=>{o&&(0,c.y)(),n(e)},onOpenInApp:()=>{(0,c.y)(),a()},to:r,within:d})})}},487135:(e,t,i)=>{i.d(t,{Z:()=>u,y:()=>c});var n=i(667294),a=i(495025),o=i(589598),r=i(430848),l=i(309663),s=i(154086),d=i(785893);const c=()=>{(0,o.Nh)("appUpsell",Date.now()),(0,o.qn)("firstUpsellTime")||(0,o.Nh)("firstUpsellTime",Date.now()),(0,r.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:i,viewType:o}){return(0,l.Z)()||(0,a.FP)(window)?null:(0,d.jsx)(s.Z,{viewType:o,viewParameter:i,component:13106,clientTrackingParams:t,children:(0,d.jsx)(n.Fragment,{children:e})})}},835770:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(702664);const a=()=>(0,n.useSelector)((({session:{canUseNativeApp:e}})=>e))},367996:(e,t,i)=>{i.d(t,{Z:()=>A});var n=i(667294),a=i(616550),o=i(883119),r=i(234983),l=i(544197),s=i(434012),d=i(443426),c=i(376410),u=i(260531),p=i(780621),_=i(18110),h=i(518626),m=i(55592),g=i(578662),y=i(191250),v=i(777528),f=i(654571),x=i(785893);const b=16,P=24,w=210,S=14;function I(e,t){const{full_name:i,username:n}=e,a=(0,x.jsx)(o.rU,{href:`/${n}`,display:"inlineBlock",underline:"hover",children:i},"linkToUser");return(0,c.nk)(t.bt(" {{ linkToUser }}     ", "{{ linkToUser }} invited you to join this board", "boardRep.invite.invitationText", undefined, true),{linkToUser:a})}const T=({children:e})=>{const t=(0,g.Z)(),i=(0,m.HG)(),n=t&&t.isAuth;return i&&n?(0,x.jsx)(o.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,x.jsx)(o.xv,{lineClamp:1,weight:"bold",children:e})};function A({archivedDate:e,boardUrl:t,canEdit:i,collaborators:g,collaboratorsCount:A=0,containerBackgroundColor:k,coverPhoto:E,followedByMe:C,fullSizeDrawer:j,sensitivityScreen:R,handleInviteResponse:D,hideMeta:O,id:L,invite:z,imagesLego:F=[],isBoardInviteAccepted:N,isActive:M,isAuthenticated:B,isCollaborative:Z,isCollaborator:U,isOwner:G,isProtected:H,isSecret:K,isTemporarilyDisabled:V,lastModifiedDate:W,layout:$,locale:q,name:Y,numCols:X,onEditClick:J,onFollow:Q,onUnfollow:ee,owner:te,pinCount:ie=0,sectionCount:ne,showFollowButton:ae,viewParameter:oe,viewType:re,viewerId:le}){const se=(0,s.ZP)(),de=(0,l.Z)(),ce=(0,d.Z)(),{pathname:ue}=(0,a.useLocation)(),pe=(0,r.Z)(),_e=(0,m.HG)(),{isRTL:he}=(0,u.B)(),me=_e&&B,ge="square"===$?y.M0:y.z9,ye=!/\/search\/boards\//.test(ue),ve=F.map((e=>({url:e.url,name:Y}))),fe=!!te&&!i&&ae,xe=!G&&!U&&!(null==R||!R.show_warning),be={board_id:L,reason:null==R?void 0:R.reason};(0,n.useEffect)((()=>{xe&&pe({event_type:13,component:13861,view_type:215,aux_data:be})}),[]);const Pe=te?te.id:void 0,we=[...g.filter((({id:e})=>e===Pe)),...g.filter((({id:e})=>e===le&&e!==Pe)),...g.filter((({id:e})=>![Pe,le].includes(e)))].map((e=>{var t,i;return{name:null!==(t=me?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(i=e.image_medium_url)&&void 0!==i?i:""}}));let Se=A>=we.length?A-we.length:0;Se=Se>99?100:Se;const Ie=[...we,...Array(Se).fill({name:"",src:""})],Te=me?P:b,Ae=Te/3*(2*(we.length>2?3:we.length)+1),{cardWithFollowCalculated:ke}=(0,n.useMemo)((()=>{let t=0;return!e&&ye&&(t+=1),ne&&(t+=1),e&&!_e&&(t+=1),{cardWithFollowCalculated:w+t*S}}),[e,_e,ye,ne]);return(0,x.jsxs)(o.xu,{"data-test-id":`boardCard-${Y}`,position:"relative",height:fe?`max(calc(25vh + 10px), ${ke}px)`:"100%",width:me?ge:"100%",children:[(0,x.jsx)(v.Z,{canEdit:i,containerBackgroundColor:k,coverPhoto:E,images:ve,isProtected:H,isSecret:K,fullSize:j,showSensitivityScreen:xe,isActive:M,onEditClick:J,layout:$,isTemporarilyDisabled:V}),!O&&(0,x.jsx)(n.Fragment,{children:z&&!V?(0,x.jsxs)(n.Fragment,{children:[(0,x.jsxs)(o.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,x.jsxs)(o.xu,{width:"100%",children:[(0,x.jsx)(o.rU,{href:null!=t?t:"",children:(0,x.jsx)(o.xu,{marginTop:0,marginBottom:1,children:(0,x.jsx)(T,{children:Y})})}),N?(0,x.jsx)(o.xv,{size:"200",lineClamp:1,children:se.bt(" ", "Youve joined", "boardRep.invite.invitationAcceptedText", undefined, true)}):(0,x.jsx)(o.xv,{size:"200",children:I(z.invited_by_user,se)})]}),(0,x.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:Ae,minWidth:Ae,height:Te,children:(0,x.jsx)(o.HE,{accessibilityLabel:_.U+(se.bt("  ", "Board has collaborators", "BoardCard.AvatarGroup.Collaborators", undefined, true)),collaborators:Ie})})]}),N?(0,x.jsx)(o.xu,{direction:"row",display:"flex",paddingX:2,children:(0,x.jsx)(o.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,x.jsx)(o.ZP,{href:null!=t?t:"",fullWidth:!0,size:"lg",text:se.bt("  ", "See board", "boardRep.invite.seeBoardButton", undefined, true)})})}):(0,x.jsxs)(o.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,x.jsx)(o.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,x.jsx)(o.zx,{fullWidth:!0,onClick:()=>{null==D||D(!1)},size:"lg",text:se.bt("", "Decline", "boardRep.invite.declineButton", undefined, true)})}),(0,x.jsx)(o.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,x.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:()=>{null==D||D(!0)},size:"lg",text:se.bt("", "Accept", "boardRep.invite.acceptButton", undefined, true)})})]})]}):(0,x.jsxs)(o.xu,{height:me?void 0:y.s0,marginTop:me?0:1,paddingX:2,paddingY:me?2:0,children:[(0,x.jsxs)(o.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,x.jsx)(T,{children:Y}),Z&&!V&&(0,x.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:Ae,minWidth:Ae,height:Te,children:(0,x.jsx)(o.HE,{accessibilityLabel:_.U+(se.bt("  ", "Board has collaborators", "BoardCard.AvatarGroup.Collaborators", undefined, true)),collaborators:Ie})})]}),(0,x.jsxs)(o.xu,{alignItems:_e?"center":"start",direction:_e?"row":"column",display:"flex",marginTop:1,children:[(0,x.jsxs)(o.xv,{size:"100",lineClamp:1,children:[(0,x.jsx)(_.Z,{}),(0,c.nk)(se.nbt(["{{ count }}  ", "{{ count }}  ", "{{ count }}  ", "{{ count }}  ", "{{ count }}  ", "{{ count }}  "], ie, "profile.ProfilePage.board.BoardCard.PinsCount", true),{count:ce(q,ie,{})})]}),!!ne&&(0,x.jsx)(o.xv,{size:"100",children:(0,x.jsxs)(n.Fragment,{children:[_e?(0,x.jsx)(h.Z,{ariaHidden:!0}):void 0,(0,x.jsx)(_.Z,{}),(0,c.nk)(se.nbt(["{{ count }}  ", "  ({{ count }})", " ({{ count }})", "{{ count }} ", "{{ count }} ", "{{ count }}  "], ne, "profile.ProfilePage.board.BoardCard.SectionsCount", true),{count:ne})]})}),!e&&ye&&(0,x.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:me?"inline-flex":"inline",paddingLeft:_e?7:0,paddingRight:he?7:0}},children:(0,x.jsxs)(o.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,x.jsx)(_.Z,{}),de(W,!0)]})}),e&&!_e&&(0,x.jsxs)(o.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,x.jsx)(_.Z,{}),se.bt("", "Archived", "profile.ProfilePage.BoardCard.ArchivedText", undefined, true)]})]}),fe&&(0,x.jsx)(o.xu,{marginTop:2===X?3:void 0,column:2===X?12:void 0,flex:"none",children:(0,x.jsx)(f.Z,{disabled:null==te?void 0:te.blocked_by_me,followEventType:26,id:L,isFollowed:C,onFollow:e=>{B||(0,p.NC)("press_follow_board"),Q&&Q(e)},onUnfollow:e=>{B||(0,p.NC)("press_unfollow_board"),ee&&ee(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:oe,viewType:re})})]})})]})}},403923:(e,t,i)=>{i.d(t,{Z:()=>v});var n=i(702664),a=i(883119),o=i(835686),r=i(260531),l=i(780621),s=i(161452),d=i(578662),c=i(367996),u=i(566594),p=i(380385),_=i(117864),h=i(275208),m=i(785893);const g=["thumbnail","imageOnly"],y="write";function v({boardId:e,containerBackgroundColor:t,forwardedRef:i,fullSize:v,showFollowButton:f=!0,showPinCount:x=!0,type:b,viewParameter:P,viewType:w}){var S,I,T;const A=(0,d.Z)(),k=A&&A.isAuth,E=(0,n.useDispatch)(),{locale:C}=(0,r.B)(),j=(0,s.Z)(),R=(0,h.gC)()(e),D=(0,u.Z)(),{checkExperiment:O}=(0,o.F)(),L=A.isAuth?A.id:"";if(!R)return null;const{owner:z}=R,F=[z,...R.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:i})=>({id:e,image_medium_url:t,username:i}))),N=(null==z?void 0:z.id)===L,M=F.filter((({id:e})=>e===L)).length>0;if("secret"===R.privacy&&!M)return null;const B="grid"===b||"thumbnail"===b?2:4,Z=D(R,B),U={isCustom:R.has_custom_cover,url:Z,position:(0,p.Bw)(R.cover_pin)},G=(0,p.Jx)(R,Z).map((({url:e})=>({name:(0,p.po)(e),url:e}))),H=!!R.is_temporarily_disabled&&(O("mweb_hide_u16_group_board").anyEnabled||O("unauth_hide_u16_group_board").anyEnabled),K=(0,m.jsx)(c.Z,{archivedDate:null!==(S=R.archived_by_me_at)&&void 0!==S?S:void 0,canEdit:!!R.access&&R.access.includes(y),collaborators:F,collaboratorsCount:R.collaborator_count,containerBackgroundColor:t,coverPhoto:Z?U:null,followedByMe:R.followed_by_me,fullSizeDrawer:v,hideMeta:g.includes(b),id:R.id,imagesLego:G,isAuthenticated:k,isCollaborative:R.is_collaborative,isCollaborator:M,isOwner:N,isProtected:"protected"===R.privacy,isSecret:"secret"===R.privacy,isTemporarilyDisabled:H,lastModifiedDate:"full"===b?R.board_order_modified_at:"",locale:C,name:null!==(I=R.name)&&void 0!==I?I:"",numCols:B,onFollow:e=>E((0,_.Z)(e)),onUnfollow:e=>E((0,_.f)(e)),owner:z,pinCount:x&&R.pin_count?R.pin_count:void 0,sectionCount:null!==(T=R.section_count)&&void 0!==T?T:0,sensitivityScreen:R.sensitivity_screen,showFollowButton:f,viewParameter:P,viewType:w,viewerId:L});return!g.includes(b)&&R.url?(0,m.jsx)(a.iP,{role:"link",href:R.url,rounding:2,tapStyle:"compress",onTap:()=>{k||((0,l.NC)("click_go_to_board"),j({action:"click",item:"board-card"}))},children:(0,m.jsx)(a.xu,{ref:i,paddingY:3,children:K})}):K}},634770:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(785893);function o({customCover:e,height:t,imgUrl:i,imgPos:o,width:r}){const l=t/r;let s="center center";if(e&&o){let e=1;e=o.height/o.width>l?r/o.width:t/o.height;s=`-${o.x*e}px -${o.y*e}px`}const d={backgroundImage:`url(${i})`,backgroundPosition:s,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:r}},children:(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,a.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},777528:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(883119),a=i(434012),o=i(260531),r=i(55592),l=i(191250),s=i(634770),d=i(752874),c=i(785893);const u=188,p={portrait4x3:"133%",square:"100%"};function _(e){var t,i;const _=(0,a.ZP)(),{containerBackgroundColor:h="white",coverPhoto:m,fullSize:g,images:y,isProtected:v,isSecret:f,isTemporarilyDisabled:x,showSensitivityScreen:b,isActive:P,canEdit:w,onEditClick:S,layout:I}=e,T=(0,r.HG)(),{isRTL:A,isAuthenticated:k}=(0,o.B)(),E=T&&k,C=y[0],j=!m&&(null===(t=y[0])||void 0===t?void 0:t.name)||_.bt(" ", "Cover image", "DrawerImageGroup", undefined, true),R=Array(2).fill(),D=new n.Ry(1),O="square"===I?l.M0:l.z9,L="square"===I?l.FP:l.FC,z=null!=C&&C.url?(0,c.jsx)(n.Ee,{alt:j,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:C.url}):(0,c.jsx)(n.xu,{color:"secondary",height:"100%",width:"100%"}),F=x||b?{filter:"blur(20px)"}:{};return(0,c.jsx)(n.zd,{height:g?"100%":void 0,rounding:4,width:"100%",wash:P,children:(0,c.jsxs)(n.xu,{"aria-hidden":!0,display:"flex",height:E?L:"100%",direction:"row",children:[(0,c.jsx)(n.sg,{span:8,children:(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:F},position:"relative",height:g?"100%":void 0,children:(0,c.jsx)(n.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:p.square}},overflow:"hidden",width:"100%",children:(0,c.jsxs)(n.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:h,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[(v||f)&&(0,c.jsx)(n.xu,{left:!A,right:A,margin:2,position:"absolute",top:!0,zIndex:D,children:(0,c.jsx)(d.Z,{backgroundColor:"default",iconColor:"default",privacy:f?"secret":"protected",size:E?32:24})}),T&&null!=m&&m.url?(0,c.jsx)(s.Z,{customCover:m.isCustom,imgPos:m.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(i=m.url)&&void 0!==i?i:"",width:Math.floor(O/3*2),height:L}):z]})})})}),(0,c.jsx)(n.sg,{span:4,children:(0,c.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:F},height:"100%",children:[w&&P&&(0,c.jsx)(n.xu,{left:A,right:!A,margin:2,position:"absolute",bottom:!0,zIndex:D,children:(0,c.jsx)(n.hU,{accessibilityLabel:_.bt("", "Edit", "DrawerImageGroup.edit", undefined, true),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==S?void 0:S(e),size:"sm"})}),R.map(((e,t)=>{const i=y[T?t:t+1];return(0,c.jsx)(n.xu,{position:"relative",height:g?"50%":void 0,children:(0,c.jsx)(n.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:p.square}},overflow:"hidden",width:"100%",children:(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderColor:h,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:null!=i&&i.url?(0,c.jsx)(n.Ee,{alt:i&&i.name||"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:i.url}):(0,c.jsx)(n.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)}))]})}),(x||b)&&(0,c.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:x?(0,c.jsx)(n.xu,{maxWidth:u,children:(0,c.jsx)(n.xv,{align:"center",color:"light",weight:"bold",size:"200",children:_.bt("    ", "This board is currently unavailable", "drawerImageGroup.unavailableBoard.heading", undefined, true)})}):(0,c.jsx)(n.X6,{align:"center",color:"light",size:"400",children:_.bt("      ", "This board may contain sensitive content", "drawerImageGroup.sensitivityScreen.heading", undefined, true)})})]})})}},191250:(e,t,i)=>{i.d(t,{FC:()=>l,FP:()=>o,M0:()=>a,Xq:()=>s,s0:()=>n,z9:()=>r});const n=44,a=236,o=157,r=320,l=213,s=7},752874:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),a=i(434012),o=i(785893);function r({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:i,privacy:r,size:l=20}){const s=(0,a.ZP)();return(0,o.jsx)(n.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:l,height:l,rounding:"circle",justifyContent:"center",children:(0,o.jsx)(n.JO,{accessibilityLabel:s.bt("  ", "Secret board icon", "Icon indicating that a board is secret", undefined, true),color:t,icon:"secret"===r?"lock":"security",size:null!=i?i:l/2})})}},566594:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(55592),a=i(578662);function o(){const e=(0,n.HG)(),t=(0,a.Z)(),i=t&&t.isAuth;if(e&&i){return e=>{var t,i;const n=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,a=null!==(t=null===(i=e.cover_pin)||void 0===i?void 0:i.image_url)&&void 0!==t?t:n,o=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return a||o}}return(e,t)=>{var i,n;const a=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!a)return"";const o=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,r=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,l=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,s=null!==(i=null!==(n=null!=o?o:r)&&void 0!==n?n:l)&&void 0!==i?i:"",d=e.image_cover_url||"";return a||(t&&t>2&&s?s:"")||d}}},380385:(e,t,i)=>{i.d(t,{Bw:()=>l,Jx:()=>r,po:()=>n});const n=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),a=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),o=e=>{if(!e)return()=>!0;const t=n(e);return e=>{var i;return"string"==typeof e?n(e)!==t:n(null!==(i=e.url)&&void 0!==i?i:"")!==t}},r=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(o(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(o(t)).map(a):[],l=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},631959:(e,t,i)=>{i.d(t,{$o:()=>d,GW:()=>a,Jo:()=>l,Li:()=>w,Q8:()=>f,Ux:()=>u,VX:()=>y,Zo:()=>p,aD:()=>_,b2:()=>m,e_:()=>P,g2:()=>g,it:()=>S,kY:()=>b,lM:()=>o,oM:()=>I,qN:()=>s,s4:()=>c,tK:()=>x,ym:()=>h,zQ:()=>v});var n=i(643517);const a="/business/hub/?show_vmp=true",o=(n.Rf,n.Rf,n.Rf,n.Rf,["US","GB","CA","AU","DE","FR"]),r=["FR"],l=o.concat(["ES","IT","AT","CH","NL","BR","MX"]).filter((e=>!r.includes(e))),s={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",DISAPPROVED:"DISAPPROVED",UNDER_REVIEW:"UNDER_REVIEW"},d={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},c=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),u=(e,t)=>{switch(e){case"IN_PROGRESS":return t.bt(" ", "In-progress", "BizHubHeader.VMPEntryPointStatus.label", undefined, true);case"ACTIVE":return t.bt("", "Active", "BizHubHeader.VMPEntryPointStatus.label", undefined, true);case"NEEDS_ATTENTION":return t.bt(" ", "Needs attention", "BizHubHeader.VMPEntryPointStatus.label", undefined, true);case"SUSPENDED":return t.bt("", "Suspended", "BizHubHeader.VMPEntryPointStatus.label", undefined, true);default:return e}},p=(c.NON_COMPLIANT,c.SUSPENDED,Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"workflow-status-warning",REJECTED:"workflow-status-problem",RECOMMENDED:"info-circle"})),_=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),h="Verified merchant program not yet available in this country",m=2e3,g={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},y=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),v=[y.ACCOUNT_AGE,y.DOMAIN_AGE,y.PROFILE_IMAGE,y.PROFILE_COVER_IMAGE,y.BIO,y.SHOP_TAB,y.PINNER_FEEDBACK],f=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),x=30,b=6048e5,P="show_vmp",w="true",S=Object.freeze({ACTION_CARDS_BANNER:"ACTION_CARDS_BANNER",WELCOME_BANNER:"WELCOME_BANNER",CELEBRATION_BANNER:"CELEBRATION_BANNER"}),I=3},546516:(e,t,i)=>{i.d(t,{Nb:()=>l,Of:()=>s,YO:()=>r,ZP:()=>u,x4:()=>c});var n=i(667294),a=i(770722),o=i(866139);const r=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:i})=>e&&t?i?o.Uj:o.zT:1,l=(0,a.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showProductDetailPage:n,viewportSize:a,maxWidth:o,descriptionPaneWidth:r})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showProductDetailPage:n,viewportSize:a,maxWidth:o,descriptionPaneWidth:r}))),s={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:o.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:o.u6,descriptionPaneWidth:o.u6-o.Gg},d=(0,n.createContext)(s);function c(){const e=(0,n.useContext)(d);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const u=d},155342:(e,t,i)=>{i.d(t,{Cq:()=>c,Dk:()=>p,Fk:()=>a,fS:()=>d,km:()=>u,lI:()=>r,lJ:()=>o,mS:()=>s,qW:()=>l});var n=i(883119);const a=new n.Ry(1),o=3,r=new n.Ry(o),l=2,s=new n.Ry(l),d=3,c=4,u=new n.Ry(5),p=new n.Ry(100)},861010:(e,t,i)=>{i.d(t,{Z:()=>l,e:()=>r});var n=i(883119),a=i(260531),o=i(785893);const r=new n.Ry(1);function l({children:e,isImagePinForUnauthOnTablet:t,showLightClickthroughOverlay:i}){const{isAuthenticated:l}=(0,a.B)();return(0,o.jsxs)(n.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:l?void 0:r,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,o.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:i?.2:.4,position:"absolute",right:!0,top:!0}),e]})}},853156:(e,t,i)=>{i.d(t,{Z:()=>b});var n=i(667294),a=i(883119),o=i(434012),r=i(835686),l=i(232683),s=i(260531),d=i(145021),c=i(55592),u=i(842179),p=i(861010),_=i(835460),h=i(780621),m=i(161452),g=i(785893);function y({setShowClickthroughOverlay:e,showLightClickthroughOverlay:t,isEligibleForPdp:i,isEligibleForDesktopSocialInviteOverlay:r,inviterFirstName:l}){const s=(0,o.ZP)(),d=(0,m.Z)(),u=(0,_.Z)(),p=(0,n.useRef)(),y=(0,c.ZP)(),v="desktop"===y,f=l&&r,x=f&&(s.bt("    {{ name }}  Pinterest", "Sign up to join {{ name }} on Pinterest", "pin.closeup.wash.desktop.shareNotification", undefined, true)).replace("{{ name }}",l),b=s.bt("         ", "Click to make the most out of this idea with a free account", "web.unauth.plp.clickable_wash.header", undefined, true),P=s.bt("         ", "Tap to make the most out of this idea with a free account", "mweb.unauth.plp.clickable_wash.header", undefined, true),w=v?x||b:P;return(0,g.jsx)(a.iP,{onMouseEnter:()=>{f&&(0,h.My)("dweb.main_pin.social.wash.view"),(0,h.My)("dweb.pin.wash.view")},onMouseLeave:()=>{f&&(0,h.My)("dweb.main_pin.social.wash.dismiss"),(0,h.My)("dweb.pin.wash.dismiss")},onTap:({event:e})=>{v&&(e.preventDefault(),d({action:"click",item:"pin-image"}),r&&l&&(0,h.My)("dweb.main_pin.social.wash.click"),(0,h.My)("dweb_unauth_main_pin_image_click.signup_modal.show"),u({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:t?"click_closeup_light_wash":"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),i&&(0,h.My)("unauth.pdp.pin.img.click",{device:y}))},children:(0,g.jsxs)(a.xu,{zIndex:new a.Ry(2),children:[(0,g.jsx)(a.xu,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:r?"center":void 0,direction:"column",position:"absolute",ref:p,"data-test-id":"main-pin-hover-overlay",children:(0,g.jsx)(a.xu,{paddingY:10,display:"flex",alignItems:"center",maxWidth:240,direction:"column",children:(0,g.jsx)(a.xu,{marginTop:8,children:!t&&(0,g.jsx)(a.X6,{size:f?"500":"400",align:"center",color:"light",children:w})})})}),!v&&(0,g.jsx)(a.xu,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:(0,g.jsx)(a.hU,{icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),(0,h.My)("main.pin.wash.cancel"))},accessibilityLabel:s.bt("    ", "Close pin clickable wash", "mweb.unauth.plp.clickable_wash.close_button", undefined, true),size:"md"})})]})})}function v(){const e=(0,o.ZP)(),t=(0,_.Z)(),{checkExperiment:i}=(0,r.F)(),n=i("dweb_unauth_main_pin_learning_upsell_v2").group;return(0,g.jsx)(a.kC,{justifyContent:"center",children:(0,g.jsx)(a.xu,{alignItems:"center",direction:"row",display:"flex",height:88,width:"100%",marginTop:4,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},paddingX:2,position:"absolute",bottom:!0,zIndex:new a.Ry(1),children:(0,g.jsx)(a.iP,{fullHeight:!0,onTap:()=>{(0,h.My)("unauth.dweb.main_pin.learning_upsell.banner.click"),t({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_dweb_main_pin_learning_upsell",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,g.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",height:"100%",children:[(0,g.jsxs)(a.kC,{children:[(0,g.jsx)(a.xu,{margin:4,children:(0,g.jsx)(a.JO,{accessibilityLabel:e.bt(" Pinterest", "Pinterest logo", "icon.pinterest_logo", undefined, true),color:"default",icon:"pinterest",size:36})}),(0,g.jsx)(a.kC,{alignItems:"center",children:(0,g.jsxs)(a.xu,{children:[(0,g.jsx)(a.xv,{inline:!0,children:"enabled_banner_copy_1"===n?e.bt("          Pinterest.", "If you like this idea, see all the details with a Pinterest account.", "unauth.dweb.main_pin.learning_upsell.copy.value_prop", undefined, true):"enabled_banner_copy_2"===n?e.bt("       Pinterest.", "Bring this idea to life with a Pinterest account.", "unauth.dweb.main_pin.learning_upsell.copy.value_prop", undefined, true):e.bt("         Pinterest.", "Ready to go? Try out this idea with a Pinterest account.", "unauth.dweb.main_pin.learning_upsell.copy.value_prop", undefined, true)})," ",(0,g.jsx)(a.xv,{inline:!0,weight:"bold",children:e.bt(" ", "Sign up", "unauth.dweb.main_pin.learning_upsell.copy.cta", undefined, true)})]})})]}),(0,g.jsx)(a.xu,{marginStart:12,marginEnd:6,children:(0,g.jsx)(a.JO,{accessibilityLabel:e.bt(" ", "Forward arrow", "icon.forward_arrow", undefined, true),color:"default",icon:"arrow-forward",size:16})})]})})})})}var f=i(256807),x=i(796057);const b=e=>{var t;const i=(0,o.ZP)(),{alt:_,clickthroughOverlayOptions:h,color:m,isFlashlightPage:b,naturalHeight:P,naturalWidth:w,placeholder:S,pwtElementTimingId:I,pwtSurfaceContext:T,setShowClickthroughOverlay:A,showLightClickthroughOverlay:k,showDesktopLearningUpsell:E,showSpinner:C,src:j,stickyFooter:R,isEligibleForPdp:D}=e,O=(0,u.Z)(),{checkExperiment:L}=(0,r.F)(),z=!O,{isAuthenticated:F}=(0,s.B)(),N=(0,c.ZP)(),M="desktop"===N,B=F&&!M&&L("auth_mweb_inline_action_bar").anyEnabled,Z=(0,n.useRef)(),[U,G]=(0,n.useState)(!z||!!j&&!!S&&S===j),H=(0,n.useRef)(""),K=()=>{T&&T.markConstraintComplete("PinPageMainImageRendered")};(0,n.useEffect)((()=>{const e=new Image;e.onload=()=>G(!0),e.src=j}),[]);const V=(0,n.useRef)(null===(t=(0,x.a)())||void 0===t?void 0:t.setHasScrolledPastMainContent);(0,n.useEffect)((()=>{const e=(0,d.Z)((()=>{if(Z.current){var t;const i=window.scrollY>Z.current.offsetTop+Z.current.offsetHeight;null===(t=V.current)||void 0===t||t.call(V,i),i&&window.removeEventListener("scroll",e)}}),10);window.addEventListener("scroll",e)}),[]);const[W,$]=(0,n.useState)();(0,n.useEffect)((()=>{Z.current&&$(Z.current.scrollHeight)}),[]);const q=!b&&"tablet"===N,Y=z?(0,g.jsx)(l.Z,{alt:_,color:m,elementTiming:I,naturalHeight:P,naturalWidth:w,src:S,onLoad:K}):null;return(0,g.jsxs)(a.xu,{"data-test-id":"pin-closeup-image",maxHeight:"100%",minHeight:W,maxWidth:"tablet"===N?f.g6:void 0,overflow:R?void 0:"hidden",position:"relative",width:b||"phone"===N?"100%":M?508:f.Hg,rounding:b||"phone"===N?0:6,ref:Z,marginTop:"tablet"===N&&B?12:0,children:[!F&&(E?(0,g.jsx)(v,{}):k||h?(0,g.jsx)(p.Z,{isImagePinForUnauthOnTablet:!1,showLightClickthroughOverlay:k,children:(0,g.jsx)(y,{setShowClickthroughOverlay:A,showLightClickthroughOverlay:k,inviterFirstName:H.current,isEligibleForPdp:D})}):null),Y&&(q?(0,g.jsx)(a.xu,{rounding:6,overflow:"hidden",children:Y}):Y),(0,g.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:U?1:0,transition:U&&!M?"opacity .5s ease-in-out":void 0,backgroundColor:m}},left:!0,position:z?"absolute":"relative",right:!0,rounding:q?6:5,overflow:q?"hidden":void 0,top:!0,children:z?(0,g.jsx)(a.Ee,{alt:_,naturalHeight:P,naturalWidth:w,src:j}):(0,g.jsx)(l.Z,{alt:_,color:m,elementTiming:I,naturalHeight:P,naturalWidth:w,src:j,onLoad:K})}),C&&(0,g.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:U?0:1,transition:U?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!U&&(0,g.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,g.jsx)(a.$j,{accessibilityLabel:i.bt("  ", "Loading image", "Loading higher resolution image", undefined, true),show:!0})})}),R]})}},274650:(e,t,i)=>{i.d(t,{R:()=>o,q:()=>a});var n=i(946689);const{Provider:a,useHook:o}=(0,n.Z)("CloseupPageContext")},30609:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),a=i(861010);const o=new n.H3([a.e])},892713:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(883119),a=i(434012),o=i(260531),r=i(785893);const l=({onSendButtonClick:e,trackShareTap:t,color:i,size:l,bgColor:s})=>{const d=(0,a.ZP)(),{userAgent:{platform:c}}=(0,o.B)(),u="android"===c;return(0,r.jsx)(n.hU,{accessibilityLabel:d.bt("", "Send", "Board.Pin.SendButton", undefined, true),onClick:({event:i})=>{e(i),t()},size:l||"lg",bgColor:s||"transparent",iconColor:i||"darkGray",icon:u?"android-share":"share"})}},69465:(e,t,i)=>{i.d(t,{Ph:()=>a,Re:()=>r,si:()=>o});var n=i(55592);const a=(e,t)=>e&&!t?e:null,o=()=>"phone"!==(0,n.ZP)()?180:130,r=()=>"phone"!==(0,n.ZP)()?180:80},966223:(e,t,i)=>{i.d(t,{Z:()=>r});var n,a=i(167912);const o=void 0!==n?n:n=i(172803),r=e=>{const t=(0,a.useFragment)(o,e);if(!t)return null;return[["60x60",t.imageSpec_60x60],["136x136",t.imageSpec_136x136],["170x",t.imageSpec_170x],["236x",t.imageSpec_236x],["474x",t.imageSpec_474x],["564x",t.imageSpec_564x],["736x",t.imageSpec_736x],["600x315",t.imageSpec_600x315],["orig",t.imageSpec_orig]].reduce(((e,[t,i])=>i?{...e,[t]:i.url}:e),{})}},837739:(e,t,i)=>{i.d(t,{J1:()=>s,Uw:()=>l,Yg:()=>d});var n=i(741208),a=i(835686),o=i(260531),r=i(55592);const l=({isDesktop:e,viewerType:t})=>"bot"===t?"seo_graphql_pin_page":"auth"===t?e?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":e?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page",s=()=>{const e=(0,r.HG)(),t=(()=>{const{isAuthenticated:e,isBot:t}=(0,o.B)();return t?"bot":e?"auth":"unauth"})();return l({isDesktop:e,viewerType:t})},d=()=>{const{isAuthenticated:e}=(0,o.B)(),t=(0,r.HG)(),{checkExperiment:i}=(0,a.F)(),l=e&&!t&&i("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return l?e=>n.Z.increment("webapp.graphql.debug_auth_mweb_graphql_pin_page",1,{event:e,group:l}):null}},135836:(e,t,i)=>{i.d(t,{Z:()=>v});var n=i(667294),a=i(883119),o=i(882345),r=i(545168),l=i(842625),s=i(691014),d=i(396681),c=i(278286),u=i(785893);function p({index:e,length:t,showBadge:i}){const n=i?.8:0;return(0,u.jsx)(a.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:n,transition:"opacity .3s"}},children:(0,u.jsx)(a.xv,{color:"inverse",children:`${(null!=e?e:0)+1}/${t}`})})}const _=({index:e})=>{const[t,i]=(0,n.useState)(!0),a=(0,n.useRef)(),o=(0,n.useRef)();return(0,n.useEffect)((()=>(a.current=setTimeout((()=>{i(!1)}),3e3),()=>{clearTimeout(a.current)})),[]),(0,n.useEffect)((()=>{o.current?(clearTimeout(a.current),i(!0)):o.current=e}),[e]),{showBadge:t}};var h=i(160897),m=i(836153);const g="\n  .horizontal-scroll-container {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }",y=10;function v(e){var t,i,v;const{children:f,componentType:x,containerRef:b,contextLogData:P,disableTransition:w,gap:S=0,height:I,id:T,impressionType:A,index:k,shouldBeDragCarousel:E,showCarouselBadge:C,slideWidth:j,view:R,viewParameter:D,widthRatio:O=1}=e,{showBadge:L}=_({index:k}),{logContextEvent:z}=(0,r.v)(),F=(0,m.S6)()(T),N=(0,n.useRef)(),M=(0,n.useRef)(),B=(0,n.useRef)(0),Z=(0,n.useRef)();if((0,c.Z)((()=>{const e=M.current;if(!e)return;const t=()=>{var e,t;const i=B.current,n=-(null!==(e=null===(t=Z.current)||void 0===t?void 0:t.getBoundingClientRect().x)&&void 0!==e?e:0);if(Math.abs(i-n)>=y){z({component:x,event_type:"right"===(i<n?"right":"left")?9315:9316,view_type:R,view_parameter:D})}B.current=n};return E&&e.addEventListener("touchend",t),()=>{E&&e.removeEventListener("touchend",t)}})),O>1||O<0)throw new Error("widthRatio should be between 0 and 1 inclusive");const U=Math.floor(j*O),G=n.Children.toArray(f),H=G.length*U,K=(null===(t=b.current)||void 0===t?void 0:t.clientWidth)||H;return(0,u.jsx)("div",{className:"BoardMoreIdeasRep"===A?"moreIdeasBoardRepCarousel":"",children:(0,u.jsxs)(a.xu,{display:"flex",justifyContent:K>H?"center":"start",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",width:E?"100vw":void 0,children:[C&&(0,u.jsx)(p,{length:G.length,index:k,showBadge:L}),"BoardMoreIdeasRep"!==A&&(0,u.jsx)(s.Z,{carouselData:F&&(0,o.Z)({carouselData:F.carousel_data,images:F.images,richMetadata:F.rich_metadata,richSummary:F.rich_summary}),contextLogData:P,trackCarousel:!0,impressionType:"Pin",loggingId:T,slotIndex:k,viewParameter:null!=D?D:72,viewType:null!=R?R:1,children:(0,u.jsx)(a.xu,{height:null!==(i=null!=I?I:null===(v=N.current)||void 0===v?void 0:v.clientHeight)&&void 0!==i?i:1,overflow:"hidden",position:"absolute",width:j})},`carousel-impression-key-${k}`),E&&(0,u.jsx)(d.Z,{unsafeCSS:g}),(0,u.jsx)("div",{className:"horizontal-scroll-container",style:{overflowX:E?"scroll":"visible",paddingLeft:E?`${l.yt}px`:void 0,paddingRight:E?`${l.yt}px`:void 0,display:"flex",flexDirection:"row",position:"relative",scrollbarWidth:0,transition:E||w?void 0:"left .3s",left:!E&&(0,h.CU)({slotWidth:U,gap:S,numberOfSlides:G.length,index:k,containerWidth:K})},ref:M,children:G.map(((e,t)=>{const i=t===G.length-1,n=Math.ceil(S/4);let o=0;n>=-12&&n<=12&&(o=n);const r=(0,u.jsx)(a.xu,{marginEnd:i?0:o,"data-test-id":`carousel-img-${t}`,"data-carousel-indicator":"carousel-card",height:null!=I?I:void 0,ref:e=>{N.current=e,0===t&&(Z.current=e)},width:U,children:e},`carousel-slot-${T}-${t}`);if("BoardMoreIdeasRep"===A){const i=e.props,n={total_object_count:null==i?void 0:i.story.objects.length,storyType:null==i?void 0:i.story.story_type,boardIdStr:null==i?void 0:i.item.board_id,slotIndex:null==i?void 0:i.slotIndex,story_id:null==i?void 0:i.story.id};return(0,u.jsx)(s.Z,{componentType:x,contextLogData:n,impressionAuxFields:n,impressionType:null!=A?A:"Pin",loggingId:T,slotIndex:t,viewParameter:null!=D?D:72,viewType:null!=R?R:1,children:r},`carousel-slot-${T}-${t}`)}return r}))})]})})}},31106:(e,t,i)=>{i.r(t),i.d(t,{default:()=>h});var n=i(702664),a=i(883119),o=i(882345),r=i(2561),l=i(545168),s=i(546516),d=i(597698),c=i(836153),u=i(785893);const p=(e,t,i,n=0,a,o,l,s,d,c,u)=>{if(!u){const{carousel_slots:u,id:p}=o;e({event_type:108,object_id_str:i,component:d,view_type:s,view_parameter:l,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:a}},aux_data:{...c,...(0,r.Kl)(t)||{}}})}},_=8;function h({carouselData:e,carouselIndex:t,componentType:i,contextLogData:r,handleCarouselSwipe:h,isCloseup:m,isEditMode:g,pinId:y,viewParameter:v,viewType:f,variant:x}){const{logContextEvent:b}=(0,l.v)(),P=(0,c.S6)()(y),w=e||(0,o.Z)({carouselData:null==P?void 0:P.carousel_data,images:null==P?void 0:P.images,richMetadata:null==P?void 0:P.rich_metadata,richSummary:null==P?void 0:P.rich_summary}),S=(0,n.useDispatch)();if(!w)return null;const{carousel_slots:I=[],index:T}=w,A=void 0!==t?t:T,k="default"===x,E=k?"white":"#555",C=k?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,u.jsx)(s.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,u.jsx)(a.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:m?"end":"center",paddingY:g?1:0,children:[...Array(I.length).keys()].map((e=>{var t;return(0,u.jsx)(a.xu,{paddingX:1,children:(0,u.jsx)(a.iP,{accessibilityLabel:null!==(t=I[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:({event:t})=>((e,t,n)=>{g||void 0===d.yR||(e.preventDefault(),e.stopPropagation(),S((0,d.yR)(String(y),n))),void 0!==h&&h(n),p(b,P,y,t,n,w,v,f,i,r,g)})(t,A,e),rounding:"circle",children:(0,u.jsx)(a.xu,{"data-test-id":"ellipsis-size",height:_,width:_,dangerouslySetInlineStyle:{__style:{backgroundColor:e===A?E:C}},rounding:"circle"})})},y+e)}))})})}},390850:(e,t,i)=>{i.r(t),i.d(t,{default:()=>y});var n=i(702664),a=i(883119),o=i(848301),r=i(882345),l=i(2561),s=i(545168),d=i(434012),c=i(31106),u=i(597698),p=i(836153),_=i(785893);const h={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},m=(e,t,i,n,a,o,r,s,d,c,u,p)=>{if(!u||!o){const{carousel_slots:u,id:_}=o;e({event_type:108,object_id_str:i,component:d,view_type:s,view_parameter:r,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(_),carouselSlotIndex:n,toCarouselSlotIndex:a}},aux_data:{...c,...(0,l.Kl)(t,{isPdpPlus:p})||{}}})}},g=(e,t,i,n,a,o)=>{o||void 0===n||(e.preventDefault(),e.stopPropagation(),n(t,i)),void 0!==a&&a(i)};function y({addEllipsis:e,alwaysShowNavigationArrows:t,carouselIndex:i,carouselData:l,ellipsisVariant:y,handleCarouselSwipe:v,isShowingLastSlide:f,pinId:x,contextLogData:b,viewParameter:P,viewType:w,componentType:S,isEditMode:I,forwardNode:T,backNode:A,sliderStyleOverride:k}){const E=(0,d.ZP)(),C=(0,n.useDispatch)(),{logContextEvent:j}=(0,s.v)(),R=(0,p.S6)()(x),D=(0,o.Z)(null==R?void 0:R.is_eligible_for_pdp_plus),O=l||(0,r.Z)({carouselData:null==R?void 0:R.carousel_data,images:null==R?void 0:R.images,richMetadata:null==R?void 0:R.rich_metadata,richSummary:null==R?void 0:R.rich_summary});if(!O)return null;const L=(e,t)=>C((0,u.yR)(e,t)),{carousel_slots:z=[],index:F=0}=O,N=void 0!==i?i:F,M=Math.max(0,N-1),B=Math.min(z.length-1,N+1),Z=0===N,U=f||N===z.length-1,G=(e,t)=>{g(e,x,t,L,v,I),m(j,R,x,N,t,O,P,w,S,b,I,D)};return(0,_.jsxs)(a.xu,{display:"flex",justifyContent:"between",position:"absolute",alignItems:"center",left:!0,right:!0,bottom:!0,top:!0,children:[(0,_.jsx)("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:e=>{G(e,M)},onKeyUp:e=>{G(e,M)},style:{...h,...k,pointerEvents:Z?"none":"auto"},children:(0,_.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:Z&&!t?"hidden":"visible",opacity:Z&&t?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:A||(0,_.jsx)(a.JO,{color:"inverse",icon:"arrow-back",accessibilityLabel:E.bt(" ", "View Previous", "Button to advance carousel to the previous image", undefined, true)})})}),e&&(0,_.jsx)(c.default,{pinId:x,carouselIndex:i,carouselData:O,handleCarouselSwipe:v,variant:y||"default"}),(0,_.jsx)("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:e=>{G(e,B)},onKeyUp:e=>{G(e,B)},style:{...h,...k,pointerEvents:U?"none":"auto"},children:(0,_.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:U&&!t?"hidden":"visible",opacity:U&&t?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:T||(0,_.jsx)(a.JO,{color:"inverse",icon:"arrow-forward",accessibilityLabel:E.bt(" ", "View Next", "Button to advance carousel to the next image", undefined, true)})})})]})}},991910:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),a=i(883119),o=i(434012),r=i(785893);const l=({iconType:e,showFab:t,backgroundColor:i,hoverColor:l,iconColor:s,size:d})=>{const c=(0,o.ZP)(),[u,p]=(0,n.useState)(!1);return(0,r.jsx)(a.zd,{rounding:6,children:(0,r.jsx)(a.xu,{opacity:u?1:.8,rounding:"circle",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),"data-test-id":"navigation-fab-container",children:(0,r.jsx)(a.xu,{width:d||48,height:d||48,color:u?l:i,display:"flex",justifyContent:"center",alignItems:"center",opacity:t?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},"data-test-id":"navigation-fab",children:"forward"===e?(0,r.jsx)(a.JO,{color:s,icon:"arrow-forward",accessibilityLabel:c.bt(" ", "View Next", "Button to advance carousel to the next image", undefined, true)}):(0,r.jsx)(a.JO,{color:s,icon:"arrow-back",accessibilityLabel:c.bt(" ", "View Previous", "Button to advance carousel to the previous image", undefined, true)})})})})}},581966:(e,t,i)=>{i.d(t,{O:()=>d,Z:()=>c});var n=i(667294),a=i(883119),o=i(434012),r=i(643517),l=i(785893);const s={xs:12,sm:16,md:20,lg:24};function d({children:e}){const t=(0,o.ZP)();return(0,l.jsx)(a.u,{link:(0,l.jsx)(a.rU,{href:r.vB,target:"blank",children:(0,l.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",children:t.bt("  ", "Learn more", "verifiedBadge.tooltip.link", undefined, true)})}),text:t.bt("      Pinterest", "This retailer meets Pinterest's Merchant Guidelines", "merchantVerification.badge.tooltip", undefined, true),children:e})}function c({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:i,showText:r,size:c}){const u=(0,o.ZP)(),p=(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(a.JO,{accessibilityLabel:u.bt("   ", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[c]}),r&&(0,l.jsx)(a.xu,{marginStart:2,children:(0,l.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:u.bt("    ", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})]});return(0,l.jsxs)(n.Fragment,{children:[i&&!t&&(0,l.jsx)(d,{children:p}),i&&t&&p,e&&!i&&(0,l.jsx)(a.JO,{accessibilityLabel:u.bt("  ", "Domain verification icon", "domainVerification.badge.icon", undefined, true),color:"error",icon:"check-circle",size:s[c]})]})}},258083:(e,t,i)=>{i.d(t,{L:()=>l,r:()=>r});var n=i(491190),a=i(348886);const o=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell","search_story_separator"];function r({query:e,rs:t,scope:i},o){const r=(0,n.BE)(),l=!(null!=r&&r.viewType||null!=r&&r.viewParameter),s=(0,a.wF)(i);if(!l&&s){const{viewType:i,viewParameter:n}=null!=r?r:{};o({event_type:s,view_type:i,view_parameter:n,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?o({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&o({event_type:101,component:0,element:10349,view_type:142})}const l=(e=[])=>{let t=!0;return e.reduce(((e,i)=>{var n;return t&&i.story_type&&o.includes(i.story_type)&&0===(null===(n=i.display_options)||void 0===n?void 0:n.num_columns_requested)?e.searchFullWidthStories.push(i):(t=!1,e.filteredResults.push(i)),e}),{searchFullWidthStories:[],filteredResults:[]})}},730100:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),a=i(27478),o=i(785893);function r({coverImages:e,height:t,isHovered:i,onClick:r,onMouseEnter:l,onMouseLeave:s,textType:d,text:c,url:u,width:p}){const _=e&&(e["236x"]||e["280x280"]);return(0,o.jsx)(a.Z,{backgroundColor:"gray",coverImage:_,height:t,isHovered:i,onClick:r,onMouseEnter:l,onMouseLeave:s,url:u,width:p,children:(0,o.jsx)(n.xu,{alignItems:"center",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:p||"100%",children:"text"===d?(0,o.jsx)(n.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,o.jsx)(n.X6,{align:"center",size:"500",color:"light",children:c})}):(0,o.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,o.jsx)(n.xv,{align:"center",weight:"bold",children:c})})})})}},780983:(e,t,i)=>{i.d(t,{Z:()=>v});var n=i(667294),a=i(883119),o=i(658342),r=i(434012),l=i(691014),s=i(835686),d=i(464422),c=i(405967),u=i(499237),p=i(578662),_=i(27478),h=i(184051),m=i(785893);const g=12,y=24;function v({bubble:e,contextLogData:t,disableTabIndex:i,handleReport:v,height:f,imgSignature:x,isHovered:b,onClick:P,onMouseEnter:w,onMouseLeave:S,referringSource:I,searchBoxRenderStopwatch:T,showFlag:A,slotIndex:k,storyId:E,viewParameter:C,viewType:j,width:R}){const D=(0,r.ZP)(),O=(0,p.Z)(),{id:L,action:z,aux_fields:F,cover_images:N,dominant_colors:M,identifier_icon_type:B,title:Z,story_category:U,curator:G}=e,{checkExperiment:H}=(0,s.F)(),{isAuth:K}=O;let V="",W="";if(K&&5===j){V=H("blp_explore_bubble_image_size").group;const e=V.split("_");e.length>1&&V.startsWith("enabled")&&(W=e[1])}const $=N&&N[0]&&(V.startsWith("enabled")&&W?N[0][W]:N[0]["280x280"]||N[0]["236x"]),q=(0,u.Z)(Z&&Z.format||"",Z&&Z.args||{}),Y=M&&M.length?M[0]:"gray",X=(null==z?void 0:z.url)||(0,d.Z)({storyCategory:U,query:q,referringSource:I,bubbleId:L,storyId:E,title:Z.format,pinId:null==F?void 0:F.image_pin_id});return(0,m.jsx)(l.Z,{impressionAuxFields:{storyCategory:U,storyIdStr:E},impressionType:"Article",loggingId:L,viewType:j,viewParameter:C,slotIndex:k,contextLogData:{story_id:E,...t},children:(0,m.jsx)(_.Z,{backgroundColor:Y,coverImage:$,disableTabIndex:i,height:f,id:L,isHovered:b,onClick:P,onMouseEnter:w,onMouseLeave:S,searchBoxRenderStopwatch:T,url:X,width:R,children:({isHovered:e})=>(0,m.jsxs)(n.Fragment,{children:[G&&26!==U&&(0,m.jsx)(a.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,m.jsx)(o.qE,{outline:!0,size:"xs",src:G.image_small_url,name:G.full_name})}),B&&B!==c.J&&(0,m.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:y,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:y,children:(0,m.jsx)(a.JO,{icon:(0,c.Z)(B),accessibilityLabel:D.bt(" ", "Shopping icon", "bubble.shoppingIcon.label", undefined, true),color:"default",size:g})}),(0,m.jsx)(a.xu,{display:"flex",height:f,width:R||"100%",position:"absolute",top:!0,padding:3,alignItems:26===U?"end":"center",justifyContent:"center",children:(0,m.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[f>200?(0,m.jsx)(a.X6,{size:"500",align:"center",color:"light",children:q}):(0,m.jsx)(a.xv,{align:"center",color:"light",weight:"bold",children:q}),G&&26===U&&(0,m.jsxs)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,m.jsx)(a.xu,{marginEnd:2,children:(0,m.jsx)(o.qE,{outline:!0,size:"xs",src:G.image_small_url,name:G.full_name})}),(0,m.jsx)(a.xv,{size:"100",color:"light",children:G.full_name})]})]})}),O.isAuth&&O.isEmployee&&A?(0,m.jsx)(a.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,m.jsx)(h.Z,{handleReport:v,imgSignature:x||"",isVisible:e})}):null]})})})}},27478:(e,t,i)=>{i.d(t,{A:()=>r,Z:()=>l});var n=i(667294),a=i(883119),o=i(785893);const r={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function l({backgroundColor:e,children:t,coverImage:i,disableTabIndex:l,height:s,id:d,isHovered:c,onClick:u,onMouseDown:p,onMouseEnter:_,onMouseLeave:h,searchBoxRenderStopwatch:m,url:g,width:y}){var v,f;const[x,b]=(0,n.useState)(!1),P=()=>{_?_():b(!0)},w=()=>{h?h():b(!1)},S=c||x,I=S?r.hoverOverlay:r.bubbleOverlay;return(0,o.jsx)(a.iP,{href:g,onBlur:w,onFocus:P,onMouseDown:p,onMouseEnter:P,onMouseLeave:w,onTap:()=>{null==u||u(d)},role:"link",rounding:4,tabIndex:l?-1:void 0,children:(0,o.jsx)(a.zd,{rounding:4,width:y||"100%",height:s,children:null!=i&&i.url?(0,o.jsxs)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(v=i.height)&&void 0!==v?v:1,naturalWidth:null!==(f=i.width)&&void 0!==f?f:1,onLoad:()=>{null==m||m.stop()},role:"presentation",src:i.url,children:[(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:I},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:S}):t]}):(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},932360:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(883119),a=i(545168),o=i(842625),r=i(691014),l=i(424948),s=i(405967),d=i(780983),c=i(785893);const u=103,p=o.yF;function _({contextLogData:e,bubbles:t,id:i,referringSource:o,slotIndex:_,storyType:h,title:m,titleIcon:g,viewType:y,viewParameter:v}){const{logContextEvent:f}=(0,a.v)(),x={story_type:h,...e,content_ids:t.map((({type:e,id:t})=>e+":"+t)).join("|")};return(0,c.jsx)(r.Z,{viewType:y,componentType:200,viewParameter:v,loggingId:i,objectIdStr:i,contextLogData:x,impressionType:"Story",slotIndex:_,children:(0,c.jsxs)(n.xu,{children:[m&&(0,c.jsxs)(n.xu,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof g&&g!==s.J&&(0,c.jsx)(n.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,c.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:(0,s.Z)(g),size:14})}),(0,c.jsx)(n.xv,{weight:"bold",children:(0,l.Z)(m)})]}),t.map(((e,t)=>(0,c.jsx)(n.xu,{paddingY:1,flex:"none",children:(0,c.jsx)(d.Z,{bubble:e,onClick:e=>{f({event_type:101,object_id_str:e,view_type:y,view_parameter:v,component:200,aux_data:x})},referringSource:o,height:u,width:p,storyId:i,viewType:y,viewParameter:v,slotIndex:t,contextLogData:x})},`bubble-${e.id}`)))]})})}},519666:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),a=i(883119);const o={backgroundColor:"transparent"},r={backgroundColor:"rgba(216, 216, 216, 0.37)"},l={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},s={outline:"0"};var d=i(785893);function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends n.Component{constructor(...e){super(...e),c(this,"state",{hovered:!1}),c(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),c(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t,color:i="subtle"}=this.props,n=Object.freeze({height:e,width:e}),c={border:0,display:"block",background:"transparent",cursor:"pointer",...s},u={...n,...{...l,...o,...this.state.hovered?r:{}}};return(0,d.jsx)("button",{type:"button",style:c,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,d.jsx)("div",{style:u,children:(0,d.jsx)(a.xu,{rounding:"circle",children:(0,d.jsx)(a.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:i})})})})}}const p=u},184051:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),a=i(883119),o=i(162474),r=i(816987),l=i(898524),s=i(434012),d=i(708798),c=i(519666),u=i(498562),p=i(785893);function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class h extends n.PureComponent{constructor(...e){var t;super(...e),t=this,_(this,"state",{showModal:!1,reportType:null}),_(this,"handleDismiss",(()=>this.setState({showModal:!1}))),_(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),_(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:i}=t.props;t.setState({showModal:!1});i((await(0,o.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:e}})).resource_response.data.id)})),_(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({hideToast:e})=>(0,p.jsx)(l.ZP,{onHide:e,text:this.props.i18n.bt("   !       ", "Thanks for your report! This will be reviewed by our Trust and Safety Team", "ReportingFlag.Toast.text", undefined, true)}))),this.handleDismiss())})),_(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,p.jsxs)(n.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(c.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,p.jsx)(r.ZP,{accessibilityModalLabel:this.props.i18n.bt("   ", "Report search term", "ReportingFlag.Modal.accessibilityModalLabel", undefined, true),heading:this.props.i18n.bt("   ", "Report search term", "ReportingFlag.Modal.heading", undefined, true),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(a.xu,{children:[(0,p.jsx)(a.xu,{padding:5,children:(0,p.jsx)(a.xv,{children:this.props.i18n.bt("         .         .", "When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.", "ReportingFlag.Box.Text.report", undefined, true)})}),(0,p.jsxs)(a.FX,{id:"reporting-flag-options-group",legend:this.props.i18n.bt("         .         .", "When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.", "ReportingFlag.Box.Text.report", undefined, true),legendDisplay:"hidden",children:[(0,p.jsxs)(a.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(a.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(a.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(a.xu,{flex:"grow",children:(0,p.jsx)(a.__,{htmlFor:"textType",children:(0,p.jsx)(a.xu,{paddingX:2,children:(0,p.jsx)(a.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(a.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(a.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(a.xu,{flex:"grow",children:(0,p.jsx)(a.__,{htmlFor:"imageType",children:(0,p.jsx)(a.xu,{paddingX:2,children:(0,p.jsx)(a.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(a.iz,{}),(0,p.jsxs)(a.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(a.xu,{margin:2,children:(0,p.jsx)(a.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n.bt("", "Cancel", "ReportingFlag.Box.Button.text.cancel", undefined, true)})}),(0,p.jsx)(a.xu,{margin:2,children:(0,p.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n.bt("", "Report", "ReportingFlag.Box.Button.text.report", undefined, true),disabled:!this.state.reportType})})]})]})]})})]})}}function m(e){const t=(0,s.ZP)(),{reportImage:i}=(0,u.f)();return(0,p.jsx)(h,{...e,i18n:t,reportImage:i,toastManagerContext:(0,d.F9)()})}},932597:(e,t,i)=>{i.d(t,{N:()=>r});const n=e=>`BREAK_IN_${e}`,a=new Map,o=e=>{const t=a.get(e);if(t)return t;const i=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:n(e)});return a.set(e,i),i},r=({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),o(e),...t.slice(e)]},627740:(e,t,i)=>{i.d(t,{G9:()=>u,c$:()=>_,cn:()=>h,gG:()=>p,kk:()=>c});var n=i(883119),a=i(55592),o=i(578662),r=i(370942),l=i(815039),s=i(476089),d=i(785893);const c=({isDesktop:e})=>{const t=(0,s.pinRepPaddingInBoint)({isDesktop:e});return t?-t:0},u=-2,p=()=>{const e=(0,a.HG)(),t=(0,s.pinRepPaddingInBoint)({isDesktop:e}),i=t?-t:0;return(0,d.jsx)(n.xu,{marginTop:i,marginBottom:i,paddingY:t})},_=({children:e})=>{const t=(0,a.HG)();return!(0,o.Z)().isAuth&&t?(0,d.jsx)(l.x,{children:e}):e},h=({children:e})=>(0,d.jsx)(r.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:e})},561254:(e,t,i)=>{i.d(t,{Z:()=>Ie});var n=i(167912),a=i(616550),o=i(883119),r=i(996141),l=i(434012),s=i(835686),d=i(233423),c=i(1889),u=i(667294),p=i(781567),_=i(358011),h=i(658342),m=i(376410),g=i(780621),y=i(785893);const v=()=>{(0,g.NC)("click_best_pin_board",!0)},f=()=>{(0,g.NC)("click_best_pin_profile",!0)},x=e=>{const{pinner:t}=e,{username:i,full_name:n}=t,a=t.image_medium_url||t.image_small_url,r=`/${i}/`;return(0,y.jsx)(o.iP,{fullWidth:!1,rounding:"circle",role:"link",href:r,onTap:f,children:(0,y.jsx)(h.qE,{size:"sm",src:null!=a?a:"",name:null!=n?n:"",outline:!0})})},b=e=>{const t=(0,l.ZP)(),{board:i,pinner:n}=e,{name:a,privacy:r,url:s}=i,d=i.id||"",{username:c,full_name:u}=n,p=`/${c}/`,_=(0,y.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:(0,y.jsx)(o.rU,{display:"inlineBlock",href:p,onClick:f,underline:"hover",children:u})},u);return"protected"===r?(0,m.nk)(t.bt(" {{ pinnerName }}  ", "{{ pinnerName }} saved this Pin", "Showing who saved this pin, but not which board (private board), on closeup", undefined, true),{pinnerName:_}):(0,m.nk)(t.bt(" {{ pinnerName }}  {{ boardName }}", "{{ pinnerName }} saved to {{ boardName }}", "Showing who saved this pin to which board on closeup", undefined, true),{pinnerName:_,boardName:(0,y.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:(0,y.jsx)(o.rU,{href:null!=s?s:"",onClick:v,children:a},"board")},d)})},P=e=>{const{pin:t}=e,{pinner:i={},board:n={}}=t;return(0,y.jsxs)(o.xu,{display:"flex",direction:"row",alignItems:"center",marginTop:3,"data-test-id":"pin-attribution",children:[(0,y.jsx)(x,{pinner:i}),(0,y.jsx)(o.xu,{marginEnd:2}),(0,y.jsx)(o.xv,{size:"200",children:(0,y.jsx)(b,{board:n,pinner:i})})]})},w=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="underline")},S=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="none")};var I=i(234983),T=i(947083);function A({pageType:e,pinCreditPrefix:t,pin:i,pinLink:n}){var a,r;const s=(0,l.ZP)(),d=(0,I.Z)();if("topic"!==e.page&&(!i.domain||"Uploaded by user"===i.domain))return null;const c="topic"!==e.page||e.isAuth?"100":"200",u="topic"===e.page&&!!i.native_creator,p=u?null===(a=i.native_creator)||void 0===a?void 0:a.full_name:i.domain;return(0,y.jsx)(o.xu,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2,children:(0,y.jsx)(o.rU,{display:"inlineBlock",href:u?`/${(null===(r=i.native_creator)||void 0===r?void 0:r.username)||""}/`:n,onClick:()=>{var t,n,a;"topic"===e.page?(0,g.NC)("click_topic_best_pin_link"):d({event_type:12,view_type:3,object_id_str:i.id,component:85,view_parameter:(0,T.Z)({hasPin:!!i,hasPinRichMetadata:!!i.rich_metadata,hasPinRichMetadataProducts:!(null===(t=i.rich_metadata)||void 0===t||!t.products),hasPinRichMetadataArticle:!(null===(n=i.rich_metadata)||void 0===n||!n.article),hasPinRichMetadataRecipe:!(null===(a=i.rich_metadata)||void 0===a||!a.recipe),hasPinStoryPinData:!!i.story_pin_data})})},rel:"nofollow",target:"blank",underline:"hover",children:(0,y.jsx)(o.xv,{size:c,children:(0,m.nk)(s.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "Tells the user where the pin is from in the form of \"Saved from <website>\"", undefined, true),{pinCreditPrefix:t,pinCredit:(0,y.jsx)(o.xv,{inline:!0,size:c,weight:"bold",children:"topic"===!e.page?(0,y.jsxs)("span",{onMouseOver:w,onMouseLeave:S,onFocus:w,onBlur:S,children:[" ",i.domain]}):p},u?"creatorProfile":"pinLinkDomain")})})})})}var k=i(658609),E=i(992935),C=i(56397),j=i(279361),R=i(481156),D=i(301351),O=i(792618),L=i(681887),z=i(260531);const F=3,N=2,M=e=>{let t="";if(e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published)return t;const i=(e=>{let t=null;e.last_repin_date&&(t=new Date(e.last_repin_date));let i=null;return e.created_at&&(i=new Date(e.created_at)),t?i?t>i?t:i:t:i})(e);if(i&&i.getFullYear()===(new Date).getFullYear()){const n=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),{category:a}=e;n.has(a)&&(t=i?(0,y.jsx)(k.Z,{value:i,dateFormatType:k.k.LONG_MONTH_YEAR,useUTC:!1}):"")}return t},B=e=>!!(e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published),Z=(e,t)=>{var i,n,a;const o=new Date(null!==(i=null===(n=(null!==(a=e.rich_metadata)&&void 0!==a?a:{}).article)||void 0===n?void 0:n.date_published)&&void 0!==i?i:Date.now()),r=o.getTime(),l=(new Date).getTime();return null==t||l-r<=31536e6*t?(0,y.jsx)(k.Z,{value:o,dateFormatType:k.k.LONG_MONTH_YEAR,useUTC:!1}):""};function U(e){var t,i,n,a,r,d,c,u,p,_,h,m,g,v,f,x,b,w;const S=(0,l.ZP)(),{pin:I,viewportSize:T,pageType:k}=e,{pinCreditPrefix:U,pinLink:G}=(0,j.Z)(I,S);let{description:H}=(0,D.eK)({richMetadataDescription:null===(t=I.rich_metadata)||void 0===t?void 0:t.description,richSummaryDisplayName:null===(i=I.rich_summary)||void 0===i?void 0:i.display_name,closeupUnifiedDescription:I.closeup_unified_description});var K;"videos_category"===k.page&&(H=(0,D.kt)(H,(null===(K=I.native_creator)||void 0===K?void 0:K.username)||""));const V="wide"===T;let W=(0,D.Ly)({pinTitle:I.title,gridTitle:I.grid_title,richSummaryDisplayName:null!==(n=null===(a=I.rich_summary)||void 0===a?void 0:a.display_name)&&void 0!==n?n:"",richMetadataTitle:null!==(r=null===(d=I.rich_metadata)||void 0===d?void 0:d.title)&&void 0!==r?r:"",storyPinDataId:I.story_pin_data_id,storyPinDataMetadataPinTitle:null===(c=I.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,pinJoinVisualAnnotation:null===(p=I.pin_join)||void 0===p?void 0:p.visual_annotation});(I.grid_title||"").trim()&&W!==I.grid_title&&(W=(0,D.EU)(I.grid_title,200));const $=(0,R.r)(null===(_=I.rich_metadata)||void 0===_||null===(h=_.recipe)||void 0===h?void 0:h.name,!(null===(m=I.rich_metadata)||void 0===m||null===(g=m.recipe)||void 0===g||!g.categorized_ingredients),null===(v=I.rich_metadata)||void 0===v||null===(f=v.recipe)||void 0===f?void 0:f.from_aggregated_data)&&(null===(x=I.rich_metadata)||void 0===x?void 0:x.recipe),q=B(I)&&Z(I,2),Y=M(I)||q,{checkExperiment:X}=(0,s.F)(),{isAuthenticated:J,isBot:Q,isSocialBot:ee}=(0,z.B)(),te=J?X("web_auth_exclude_original_images").anyEnabled:X("web_unauth_exclude_original_images").anyEnabled;return(0,y.jsx)(o.xu,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",padding:8,position:"relative",width:"100%",flex:"grow",children:(0,y.jsxs)(o.xu,{position:"relative",direction:"column",display:"flex",flex:"grow",children:[(0,y.jsx)(A,{pageType:k,pin:I,pinCreditPrefix:"topic"===k.page&&I.native_creator?"Created by":U,pinLink:G}),(0,y.jsx)(o.kC,{direction:"row",justifyContent:"between",children:(0,y.jsx)(o.xu,{display:"flex",overflow:"hidden",marginEnd:V?0:3,marginTop:V?3:0,children:W&&(0,y.jsx)("h2",{style:{fontWeight:"600",fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:N,WebkitBoxOrient:"vertical"},"data-test-id":"UnauthBestPinCardTitle",children:W})})}),Y?(0,y.jsx)(o.xu,{marginTop:1,children:(0,y.jsx)(o.xv,{color:"subtle",children:Y})}):null,H&&(0,y.jsx)(o.xu,{display:"flex",overflow:"hidden",marginTop:3,children:(0,y.jsxs)("h3",{style:{fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:F,WebkitBoxOrient:"vertical",fontSize:"14px"},children:[$&&(0,y.jsx)(L.Z,{recipeData:$}),H]})}),$&&(0,y.jsx)(O.Z,{columnGap:(0,y.jsx)(o.xu,{width:16}),marginOverrides:$?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:$.categorized_ingredients,name:$.name,image:(0,C.Z)({imagesUrls:I.images?Object.keys(I.images).reduce(((e,t)=>{var i,n;return t?{...e,[t]:null===(i=I.images)||void 0===i||null===(n=i[t])||void 0===n?void 0:n.url}:e}),{}):void 0,embedSrc:null===(b=I.embed)||void 0===b?void 0:b.src,embedType:null===(w=I.embed)||void 0===w?void 0:w.type,excludeOriginals:!Q&&!ee&&te})}}}),(0,y.jsxs)(o.xu,{display:"flex",alignItems:"center",direction:"row",justifyContent:"between",marginTop:2,children:[(0,y.jsx)(P,{pin:I}),(0,y.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:!I.repin_count||I.repin_count<1?null:(0,y.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(o.JO,{icon:"pin",accessibilityLabel:"Pin",color:"subtle",size:12}),(0,y.jsx)(o.xv,{color:"default",inline:!0,size:"100",children:(0,y.jsx)(E.Z,{value:I.repin_count,shortform:!0,shortformMaximumFractionDigits:1})})]})})]})]})})}var G=i(185987),H=i(633885),K=i(504289),V=i(417824),W=i(323386),$=i(272628),q=i(935057),Y=i(278286),X=i(238216),J=i(251324),Q=i(475704),ee=i(474478),te=i(476089),ie=i(416297),ne=i(233525);const ae=564,oe=3,re=4*oe,le=80,se=60,de=20;let ce=0,ue="";function pe(e){const{images:t,image_signature:i}=e,n=(null==t?void 0:t["564x"])&&t.orig,{url:a}=null!=n?n:{};let{width:o=1,height:r}=null!=n?n:{};return"number"==typeof o&&"number"==typeof r&&o>ae&&(r*=ae/o,o=ae),{width:o,height:r,url:a,imageSignature:i}}const _e=({data:e,index:t,viewParameter:i,productsURL:n})=>{switch(e.type){case"pin":return(0,y.jsx)(te.default,{duploQueryRef:null,viewParameter:i,viewType:72,slotIndex:t,pinId:e.id});case"story":return n&&(0,y.jsx)(_.Z,{story:e,dangerouslySetActionUrl:n,slotIndex:t});default:return null}},he=({resourceOptions:e})=>{const t=(0,l.ZP)(),{data:i,isAtEnd:n,isFetching:r,fetchMore:s}=(0,d.Z)({name:"VisualLiveSearchResource",options:e}),c=(0,a.useLocation)(),p={loadNext:s,hasNext:n,isLoadingNext:r,refetch:()=>{}},_=`${c.pathname}products/${c.search}`;return(0,y.jsxs)(u.Fragment,{children:[i&&(0,y.jsx)(ne.Z,{customLayoutType:"desktopFlashlight",feedItems:i.results||[],feedKey:"flashlight-dweb-unauth",pagination:p,renderFeedItem:(e,t)=>_e({data:e,index:t,viewParameter:3050,productsURL:_})}),(0,y.jsx)(o.$j,{accessibilityLabel:t.bt("    ...", "Loading visual search results...", "unauthDesktopVisualSearch.flashlightFeed.loading", undefined, true),show:r})]})},me=({resourceOptions:e})=>{const t=(0,l.ZP)(),{data:i,isAtEnd:n,isFetching:a,fetchMore:r}=(0,d.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),s={loadNext:r,hasNext:n,isLoadingNext:a,refetch:()=>{}};return(0,y.jsxs)(u.Fragment,{children:[i&&(0,y.jsx)(ne.Z,{customLayoutType:"desktopFlashlight",feedItems:i||[],feedKey:"flashlight-products-dweb-unauth",pagination:s,renderFeedItem:(e,t)=>_e({data:e,index:t,viewParameter:3334})}),(0,y.jsx)(o.$j,{accessibilityLabel:t.bt("     ...", "Loading visual search product results...", "unauthDesktopVisualSearch.flashlightProductFeed.loading", undefined, true),show:a})]})};function ge({pinResponse:e}){const t=(0,l.ZP)(),{isRTL:i}=(0,z.B)(),n=(0,I.Z)(),r=(0,a.useHistory)(),s=(0,a.useLocation)(),d=(0,a.useRouteMatch)(),_=(0,u.useRef)(),{pin:h,isLoaded:m}=e,{pinId:v}=(0,c.Z)(d.params.id||""),f=(0,q.mB)(s.search),x=(0,p.Z)(s),b=function(e){const t=parseInt(e,10);switch(t){case 1:case 2:case 3:case 4:case 5:case 6:return t;default:return}}(f.cropSource),P=(0,K.hd)(s),{imageSignature:w}=f;if((0,u.useEffect)((()=>{if(!x&&h){const{image_signature:e}=h,t=w||e,{width:i,height:n}=(0,V.Z)({pin:h,imageSignature:t}),a=(0,ee.Z)({cropArea:{h:n-2*G.S,w:i-2*G.S,x:G.S,y:G.S},pinId:v,imageSignature:w});r.replace(a)}}),[x,h,v,r,n,w]),(0,Y.Z)((()=>{n({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:v}}),(0,g.My)("unauth.flashlight_page")})),(0,u.useEffect)((()=>(_.current&&ue===v&&(_.current.scrollTop=ce),()=>{_.current&&(ce=_.current.scrollTop,ue=v)}))),!m)return(0,y.jsx)(W.Z,{view:72,objectId:"",children:(0,y.jsx)(o.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{top:$.Pw}},children:(0,y.jsx)(o.$j,{accessibilityLabel:t.bt("   ...", "Loading visual search...", "Accessibility label for loading visual search page", undefined, true),show:!0})})});if(!h)return null;const{image_signature:S,description:T,visual_objects:A}=h,{width:k,height:E,url:C}=pe(h),j=function({initialCropArea:e,pin:t}){var i,n,a,o;let r;if(e)r={...e};else{const{visual_objects:e}=t,{width:i=1,height:n=1}=pe(t);if(e&&e.length){const{x:t,y:a,w:o,h:l}=e[0];r=(0,J.Z)({cropArea:{x:t,y:a,w:o,h:l},scaledWidth:i,scaledHeight:n})}else{const[e,t]=[i/6,n/6],[a,o]=[i-2*e,n-2*t];r={x:e,y:t,w:a,h:o}}}return{x:Math.floor(null!==(i=r.x)&&void 0!==i?i:0),y:Math.floor(null!==(n=r.y)&&void 0!==n?n:0),w:Math.floor(null!==(a=r.w)&&void 0!==a?a:0),h:Math.floor(null!==(o=r.h)&&void 0!==o?o:0)}}({initialCropArea:x,pin:h}),R=!(s.state&&s.state.internalNavigation),D=k+de,O=(null!=D?D:1)+2*re,L={pin_id:v,image_signature:S,crop:(0,X.Z)({cropArea:j,scaledWidth:k,scaledHeight:E}),crop_source:b||5},F={__style:{top:le+se}},N=(A||[]).filter((e=>e.is_stela));return(0,y.jsx)(W.Z,{view:72,objectId:"",children:(0,y.jsxs)(u.Fragment,{children:[(0,y.jsxs)(o.xu,{width:"100%",height:se,display:"flex",alignItems:"center",position:"fixed",dangerouslySetInlineStyle:{__style:{top:le}},zIndex:new o.Ry(4),color:"light",children:[(0,y.jsx)(o.xu,{position:"absolute",left:!0,children:(0,y.jsx)(ie.Z,{})}),(0,y.jsx)(o.xu,{flex:"grow",children:(0,y.jsx)(o.X6,{align:"center",size:"400",children:P?t.bt("    ", "Shop similar items", "unauthDesktopFlashlightPage.flashlightProductsFeed.header", undefined, true):t.bt("Visually similar results", "Visually similar results", "unauthDesktopFlashlightPage.flashlightFeed.header", undefined, true)})})]}),P?(0,y.jsx)(o.xu,{dangerouslySetInlineStyle:F,position:"relative",children:(0,y.jsx)(me,{resourceOptions:L})}):(0,y.jsxs)(o.xu,{display:"flex",paddingX:12,children:[(0,y.jsxs)(o.xu,{height:`calc(100% - ${le+se}px)`,marginEnd:oe,marginStart:oe,width:D,overflow:"auto",position:"fixed",ref:_,zIndex:new o.Ry(4),dangerouslySetInlineStyle:F,children:[(0,y.jsx)(o.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:k,height:E}},children:(0,y.jsxs)(o.zd,{height:E,rounding:2,width:k,children:[(0,y.jsx)(o.Ee,{alt:null!=T?T:"",naturalHeight:null!=E?E:1,naturalWidth:null!=k?k:1,src:null!=C?C:""}),(0,y.jsx)(H.Z,{showAnimation:R,imageSignature:S,imageSize:{h:E,w:k},initialCropArea:j,customCropper:function({origCrop:e,cropSource:t}){const i=window.location.pathname+window.location.search,n=(0,ee.Z)({cropArea:e,pinId:v,cropSource:null!=t?t:6});(0,g.My)("unauth.flashlight_page.cropper_changed"),n!==i&&v&&r.replace({pathname:`/pin/${v}/visual-search/`,search:(0,Q.Z)({cropArea:e,cropSource:null!=t?t:6}),state:{internalNavigation:!0}})},pin:h,spotlightAreas:N})]})}),(0,y.jsx)(o.xu,{position:"relative","data-test-id":"closeupDescription",display:"flex",direction:"column",maxWidth:null!=k?k:1,margin:5,children:(0,y.jsx)(U,{pin:h,pageType:{isAuth:!1,page:"flashlight"},viewportSize:"narrow"})})]}),(0,y.jsx)(o.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{...F.__style,...i?{marginRight:`${O}px`}:{marginLeft:`${O}px`}}},children:(0,y.jsx)(he,{resourceOptions:L})})]})]})})}var ye;const ve=void 0!==ye?ye:ye=i(608614);function fe(e){const t=[];return e.forEach((({additionalImagesSpec:e,spec:i})=>{var n;t.push(...null!==(n=function({additionalImagesSpec:e,spec:t}){return null==e?void 0:e.map((e=>{var i,n,a,o,r,l,s;return{canonical_images:{[t]:{height:null!==(i=null===(n=e.canonicalImage)||void 0===n?void 0:n.height)&&void 0!==i?i:0,url:null!==(a=null===(o=e.canonicalImage)||void 0===o?void 0:o.url)&&void 0!==a?a:"",width:null!==(r=null===(l=e.canonicalImage)||void 0===l?void 0:l.width)&&void 0!==r?r:0}},image_signature:null!==(s=e.imageSignature)&&void 0!==s?s:""}}))}({additionalImagesSpec:e,spec:i}))&&void 0!==n?n:[])})),t}function xe(e){return null==e?void 0:e.map((e=>{var t,i,n,a,o,r,l,s;return{name:null!==(t=e.name)&&void 0!==t?t:"",offer_summary:{in_stock:null!==(i=null===(n=e.offerSummary)||void 0===n?void 0:n.inStock)&&void 0!==i&&i},additional_images:null!==(a=fe([{additionalImagesSpec:e.additionalImageOrig,spec:"orig"},{additionalImagesSpec:e.additionalImage736x,spec:"736x"},{additionalImagesSpec:e.additionalImage564x,spec:"564x"},{additionalImagesSpec:e.additionalImage474x,spec:"474x"},{additionalImagesSpec:e.additionalImage236x,spec:"236x"}]))&&void 0!==a?a:[],variant_set:null!==(r=e.variantSet,o={variants:null!==(s=null==r?void 0:r.variants,l=null==s?void 0:s.map((e=>{var t,i;return{additional_images:null!==(i=e.additionalImages,t=null==i?void 0:i.map((e=>{var t,i;return{canonical_images:null!==(t=e.canonicalImages)&&void 0!==t?t:{},image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:""}})))&&void 0!==t?t:[]}})))&&void 0!==l?l:[]})&&void 0!==o?o:{}}}))}function be(e){const t={};return e.forEach((e=>{const{image:i,spec:n}=e;i&&(t[n]=function(e){var t,i,n,a,o;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(i=e.url)&&void 0!==i?i:"",type:null!==(n=e.type)&&void 0!==n?n:"",height:null!==(a=e.height)&&void 0!==a?a:0,dominant_color:null!==(o=e.dominantColor)&&void 0!==o?o:""}}(i))})),t}function Pe(e){var t,i;return{username:null!==(t=null==e?void 0:e.username)&&void 0!==t?t:"",full_name:null!==(i=null==e?void 0:e.fullName)&&void 0!==i?i:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl}}function we(e){var t,i,n;return{id:null!==(t=null==e?void 0:e.entityId)&&void 0!==t?t:"",username:null!==(i=null==e?void 0:e.username)&&void 0!==i?i:"",full_name:null!==(n=null==e?void 0:e.fullName)&&void 0!==n?n:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl,type:"user"}}const Se=(0,r.Z)({useGraphQLAdapter:function({pinId:e}){var t,i,a,o,r,l,s,d,c,u,p,_,h,m,g,y,v;const f=null===(t=(0,n.useLazyLoadQuery)(ve,{pinId:e}).v3GetPinQuery)||void 0===t?void 0:t.data;return f?{pin:{id:null!==(i=f.entityId)&&void 0!==i?i:"",is_eligible_for_related_products:null!==(a=f.isEligibleForRelatedProducts)&&void 0!==a&&a,description:null!==(o=f.description)&&void 0!==o?o:"",image_signature:null!==(r=f.imageSignature)&&void 0!==r?r:"",images:null!==(l=be([{image:f.imageOrig,spec:"orig"},{image:f.image736x,spec:"736x"},{image:f.image564x,spec:"564x"},{image:f.image474x,spec:"474x"},{image:f.image236x,spec:"236x"}]))&&void 0!==l?l:{},rich_metadata:(j=f.richMetadata,{products:null!==(R=xe(null==j?void 0:j.products))&&void 0!==R?R:[],description:null!==(D=null==j?void 0:j.description)&&void 0!==D?D:"",title:null!==(O=null==j?void 0:j.title)&&void 0!==O?O:"",recipe:null!==(B=null==j?void 0:j.recipe,L={name:null!==(Z=null==B?void 0:B.name)&&void 0!==Z?Z:"",from_aggregated_data:null!==(U=null==B?void 0:B.fromAggregatedData)&&void 0!==U&&U,categorized_ingredients:null==B||null===(G=B.categorizedIngredients)||void 0===G?void 0:G.map((e=>{var t;return{category:null!==(t=e.category)&&void 0!==t?t:""}}))})&&void 0!==L?L:{},article:{date_published:null!==(z=null==j||null===(F=j.article)||void 0===F?void 0:F.datePublished)&&void 0!==z?z:""},tutorial:{id:null!==(N=null==j||null===(M=j.tutorial)||void 0===M?void 0:M.name)&&void 0!==N?N:"",type:"makecardtutorialmetadata"}}),rich_summary:(k=f.richSummary,{products:null!==(E=xe(null==k?void 0:k.products))&&void 0!==E?E:[],display_name:null!==(C=null==k?void 0:k.displayName)&&void 0!==C?C:""}),visual_objects:null!==(A=f.visualObjects,s=null==A?void 0:A.map((e=>{var t,i,n,a,o,r,l,s,d,c,u,p,_,h;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(i=e.h)&&void 0!==i?i:0,index:null!==(n=e.index)&&void 0!==n?n:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(o=e.label)&&void 0!==o?o:"",label_id:null!==(r=e.labelId)&&void 0!==r?r:0,label_x:null!==(l=e.labelX)&&void 0!==l?l:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(c=e.score)&&void 0!==c?c:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(_=e.w)&&void 0!==_?_:0,y:null!==(h=e.y)&&void 0!==h?h:0}})))&&void 0!==s?s:[],closeup_unified_description:f.closeupUnifiedDescription,grid_title:null!==(d=f.gridTitle)&&void 0!==d?d:"",story_pin_data_id:f.storyPinDataId,repin_count:null!==(c=f.repinCount)&&void 0!==c?c:0,tracked_link:f.trackedLink,link:f.link,domain:null!==(u=f.domain)&&void 0!==u?u:"",closeup_attribution:Pe(f.closeupAttribution),link_domain:{official_user:Pe(null===(p=f.linkDomain)||void 0===p?void 0:p.officialUser)},native_creator:we(f.nativeCreator),pinner:we(f.pinner),origin_pinner:we(f.originPinner),board:(b=f.board,{id:null!==(P=null==b?void 0:b.entityId)&&void 0!==P?P:"",image_thumbnail_url:null!==(w=null==b?void 0:b.imageThumbnailUrl)&&void 0!==w?w:"",name:null!==(S=null==b?void 0:b.name)&&void 0!==S?S:"",privacy:(T=null==b?void 0:b.privacy,"protected"===T||"public"===T||"secret"===T?T:"secret"),url:null!==(I=null==b?void 0:b.url)&&void 0!==I?I:"",type:"board"}),pin_join:{annotations_with_links_array:null!==(x=null===(h=f.pinJoin)||void 0===h?void 0:h.annotationsWithLinksArray,_=null==x?void 0:x.map((e=>({name:e.name,url:e.url}))))&&void 0!==_?_:[],visual_annotation:null!==(m=null===(g=f.pinJoin)||void 0===g?void 0:g.visualAnnotation)&&void 0!==m?m:[]},story_pin_data:{metadata:{pin_title:null===(y=f.storyPinData)||void 0===y||null===(v=y.metadata)||void 0===v?void 0:v.pinTitle}},type:"pin"},isLoaded:!0}:null;var x,b,P,w,S,I,T,A,k,E,C,j,R,D,O,L,z,F,N,M,B,Z,U,G},useLegacyAdapter:function({pinId:e}){const{data:t,isLoaded:i}=(0,d.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0}});return{pin:t,isLoaded:i}}});function Ie(){const{checkExperiment:e}=(0,s.F)(),t=(0,l.ZP)(),i=(0,a.useRouteMatch)(),{pinId:n}=(0,c.Z)(i.params.id||"");return(0,y.jsx)(Se,{input:e("unauth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:n},suspense:{fallback:(0,y.jsx)(o.$j,{accessibilityLabel:t.bt("   ", "Loading Pin data", "unauthDesktopFlashlightPage.loadingPinData", undefined, true),show:!0})}}:{enabled:!1,data:{pinId:n}},children:({data:e})=>!!e&&(0,y.jsx)(ge,{pinResponse:e})})}},133318:(e,t,i)=>{function n(e){return e&&5!==e?4===e?"stela":null:"related_products"}i.d(t,{Z:()=>n})},613992:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(785893);function a({size:e,noCircle:t}){return(0,n.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:(0,n.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,n.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},466799:(e,t,i)=>{function n({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:i,pinShoppingFlags:n}){if(n){const a=n,o={pin_is_shop_the_look:a.includes(2),pin_show_pdp:e||t||i,is_available:a.includes(1),is_product_pin_v2:a.includes(5),is_rich_product_pin:a.includes(6)};return JSON.stringify(o)}}i.d(t,{Z:()=>n})},825152:(e,t,i)=>{i.d(t,{G3:()=>c,Rp:()=>d,kp:()=>s});var n=i(846344),a=i(589598),o=i(430848);const r=14*n.F4;function l(e,t,i){return e-t>i}const s=e=>{const t=function(){const e=Date.now(),t=Number((0,a.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,a.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,o.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,i){const{currentTime:n,firstUpsellTime:o,lastUpsellTime:s,showedAppUpsellCurrentSession:d}=e;return i=i||r,!o||function(e,t,i){return e<t+i}(n,o,t)?!d:!!l(n,s,i)&&((0,a.L_)("firstUpsellTime"),!0)}(t,n.F4):function(e,t){const{currentTime:i,lastUpsellTime:n}=e;return t=t||r,!n||l(i,n,t)}(t)},d=({isBot:e,platform:t,userAgent:i})=>{try{return!e&&"android"===t&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(i))<7}catch(n){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},800842:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(741208),a=i(646824),o=i(935057);const r="http://play.google.com/store/apps/details?id=com.pinterest",l=["access_token","new_password","new_password_confirm","password","next"],s=(e,t)=>t?(0,o.ru)(e,{invite_code:t}):e,d=(e,t,i)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e?s(e,i):"ios"===t||"ipad"===t?s(e.iOS,i):"android"===t?s(e.android,i):null},c=({isAuthenticated:e,checkExperiment:t,deeplinkUri:i,fallbackUrl:s,invite_code:c,logContextEvent:u,platform:p,redirectToLite:_,unauthId:h,userAgent:m,within:g})=>{null==u||u({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}});let y="https://pinterest.onelink.me/TVSr/21e04bfd";switch(null==t?void 0:t(e?"mweb_auth_apple_app_store_custom_page_referral":"mweb_unauth_apple_app_store_custom_page_referral").group){case"enabled_1":y="https://pinterest.onelink.me/TVSr/d47vxerq";break;case"enabled_2":y="https://pinterest.onelink.me/TVSr/hhstj28i";break;case"enabled_3":y="https://pinterest.onelink.me/TVSr/b16kbfgq";break;case"enabled_4":y="https://pinterest.onelink.me/TVSr/nfh3eyy2";break;case"enabled_5":y="https://pinterest.onelink.me/TVSr/elsthgd7"}if(i){const t=(({deeplinkUri:e,invite_code:t,platform:i,fallbackUrl:n,unauthId:a})=>({deeplink_path:d(e,i,t),current_page_url:(0,o.Gw)("undefined"!=typeof window?window.location.href:"",l),install_id:a,utm_source:140,utm_medium:2152,...n?{af_r:n}:null}))({isAuthenticated:e,deeplinkUri:i,fallbackUrl:s,invite_code:c,platform:p,unauthId:h,userAgent:m});if(n.Z.increment("mweb.deeplink",1,{platform:p}),c&&n.Z.increment("mweb.deeplink.invite_code",1),n.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(h)}),_){n.Z.increment("mweb.deeplink.lite_link",1),null==u||u({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}});const e=(({unauthId:e})=>{const t=(0,o.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:h});window.location.href=(0,o.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===p){null==u||u({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}});const e=(({deeplinkUri:e,invite_code:t,platform:i,unauthId:n})=>{const a=JSON.stringify({deeplink_path:d(e,i,t),current_page_url:(0,o.Gw)("undefined"!=typeof window?window.location.href:"",l),install_id:n});return{referrer:(0,o.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a})}})({deeplinkUri:i,invite_code:c,platform:p,unauthId:h});(0,a.v)()?(0,a.Z)().then((i=>{if(i.length>0){const e=(0,o.ru)(window.location.href,t);window.open(e)}else null==u||u({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}}),window.location.href=(0,o.ru)(r,e)})).catch((()=>{n.Z.increment("mweb_android.deeplink.playStore.error",1)})):(null==u||u({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}}),window.location.href=(0,o.ru)(r,e))}else{if(n.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===p&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,o.ru)("https://pinterest.com/pinterest-predicts",t));null==u||u({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:g}}),window.location.href=(0,o.ru)(y,t)}}}},276395:(e,t,i)=>{i.d(t,{DZ:()=>c,Dv:()=>u,Es:()=>d,HW:()=>s});var n=i(835686),a=i(589598),o=i(421663);const r=e=>e>=Date.now()-72e5,l=(e,t)=>{const i=[];if(e)for(const n of e)t&&!n.is_shared||r(n.ts)&&i.push(n);return i},s=()=>{const e=(0,a.qn)(o.zR),t=e?JSON.parse(e):[],i=l(t,!1),n=l(t,!0),s=i.map((e=>e.first_pin_image_signature)),d=n.map((e=>e.first_pin_image_signature)),c=(e=>{const t={};if(e)for(const i of e)i.is_shared&&r(i.ts)&&i.pin_id&&(t[i.pin_id]={inviteCode:i.pin_invite_code});return t})(t),u=(0,a.qn)(o.dy),p=u?JSON.parse(u):[];return{extraPlpImages:s,plpImageRenderData:i,extraBlpImages:l(p,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:d,sharedPinData:c}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1){if(e[i].id!==t[i].id)return!1}return!0},c=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null,u=()=>{const{checkExperiment:e}=(0,n.F)(),{anyEnabled:t,group:i}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:t,interestsLimit:t?Number(i.slice(-1)):NaN}}},197916:(e,t,i)=>{i.d(t,{CC:()=>l,H$:()=>d,Mt:()=>r,dp:()=>s,p9:()=>c});var n=i(589598),a=i(430848),o=i(421663);const r=(e,t,i,a,r,l,s=o.k7)=>{const d=(0,n.qn)(s)?JSON.parse((0,n.qn)(s)):[];if(!d[0]||d[0].path!==e){const o=[{path:e,ts:Date.now(),pin_id:i||0,first_pin_image_signature:t||"",first_pin_id:i||"",image_info:a||"",pin_description:r||"",is_shared:!!l,pin_invite_code:l}];(0,n.Nh)(s,JSON.stringify(o.concat(d)))}},l=({path:e,image:t,dominant_color:i,pin_description:n,pin_id:r})=>{const l=(()=>{const e=(0,a.qn)(o.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(i){t=[]}return t})();if(!l[0]||l[0].path!==e){const s=[{path:e,image:t,pin_description:n||"",dominant_color:i||"",pin_id:r||""}];(0,a.Nh)(o.KH,JSON.stringify(s.concat(l)))}};function s(e,t,i,n,a,l){r(e,t,i,n,a,l,o.zR)}const d=(e,t,i,n,a)=>{r(e,t,i,n,null!=a?a:"","",o.dy)};function c(e,t,i,n,a){r(e,t,i,n,a,"",o.QR)}},815039:(e,t,i)=>{i.d(t,{Z:()=>d,x:()=>s});var n=i(667294),a=i(780621),o=i(785893);const r=(0,n.createContext)((()=>{})),l=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},s=({children:e})=>{const[t,i]=(0,n.useState)(null);(0,n.useEffect)((()=>l),[]);const s=(0,n.useCallback)((e=>{(0,a.My)("dweb.unauth.context_menu.open_menu"),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"),i(e)}),[]),d=!!t;return(0,n.useEffect)((()=>{const e=()=>{i(null),l(),(0,a.My)("dweb.unauth.context_menu.click_away")};return d&&document.addEventListener("click",e),()=>{d&&document.removeEventListener("click",e)}}),[d]),(0,o.jsx)(r.Provider,{value:s,children:(0,o.jsxs)(n.Fragment,{children:[e,t]})})},d=()=>(0,n.useContext)(r)},119108:(e,t,i)=>{i.d(t,{$:()=>s,Z:()=>d});var n=i(667294),a=i(589598);const o=e=>{if(!e)return null;try{return JSON.parse(e)}catch(t){return null}},r=new Set;function l(e){const t=(0,n.useCallback)((t=>{const i=i=>{i===e&&t()};return r.add(i),()=>{r.delete(i)}}),[e]),i=(0,n.useSyncExternalStore)(t,(()=>(0,a.qn)(e)),(()=>null)),l=(0,n.useCallback)((t=>{null===t?(0,a.L_)(e):(0,a.Nh)(e,JSON.stringify(t)),function(e){r.forEach((t=>t(e)))}(e)}),[e]);return(0,n.useMemo)((()=>[o(i),l]),[i,l])}const s=2,d=()=>{const[e,t]=l("unauthSavedPins"),i=null!==(a=null==(n=e)?void 0:n.pins)&&void 0!==a?a:[];var n,a;const o=e=>t((e=>e.length?{pins:e}:null)(e)),r=()=>i.length<s;return{pins:i,save:e=>{r()&&o(i.filter((({id:t})=>t!==e.id)).concat([e]))},unsave:e=>o(i.filter((({id:t})=>t!==e))),isSaved:e=>i.some((({id:t})=>t===e)),clear:()=>o([]),canSaveMore:r}}},256807:(e,t,i)=>{i.d(t,{D5:()=>l,Hg:()=>a,T_:()=>r,g6:()=>o,w6:()=>n});const n=(e,t)=>Array.from({length:t-e},((t,i)=>i+e)),a=508,o=600;function r(e,t){if(!t.startsWith("en"))return e;return e.split(" ").map((e=>e===e.toUpperCase()?e:e.toLowerCase())).join(" ")}const l=()=>{const e=new URL(window.location.href),t=e.hostname.replace("www.","");let i=e.pathname;return i=i.replace(/\/\d+\//,"/").replace(/\/$/,""),`${t}${i}`}},512731:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(667294),a=i(883119),o=i(842625),r=i(396681),l=i(55592),s=i(728151),d=i(785893);const c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(a.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),_=({children:e})=>(0,d.jsx)(a.kC,{direction:"column",gap:{row:0,column:2},children:e}),h=({partialViewportWidth:e})=>{const t="desktop"===(0,l.ZP)(),i=t?o.yF:o.tG;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(r.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map((({name:e,height:t})=>(0,s.Z)({name:e,width:i,height:t}))).join("")}),(0,d.jsx)(a.xu,{marginStart:o.qG,marginEnd:o.qG,children:t?(0,d.jsxs)(a.kC,{direction:"row",gap:{row:o.jC,column:0},children:[(0,d.jsx)(_,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(_,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(_,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(_,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(a.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(_,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(_,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},728151:(e,t,i)=>{i.d(t,{Z:()=>n});const n=({name:e,width:t,height:i})=>{const n=`${i}${"number"==typeof i?"px":""}`,a="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${a} ${n};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${n};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${a}px 0;\n  }\n  100% {\n      background-position: ${a}px 0;\n  }\n}\n`}},442935:(e,t,i)=>{i.d(t,{Bb:()=>g,Bx:()=>s,F4:()=>l,OG:()=>o,Qj:()=>d,_6:()=>m,gv:()=>r,hg:()=>c,is:()=>_,jP:()=>h,lt:()=>a,oM:()=>u,wI:()=>p});var n=i(935057);const a=e=>e.bt("  ", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),o=e=>e.pathname,r=({firstName:e,i18n:t})=>e?(t.bt(" {{ name }}   ", "{{ name }} invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true)).replace("{{ name }}",e):t.bt("    ", "Your friends invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true),l=e=>{const t=(0,n.mB)(e.search).board_url;if(t){const e=(0,n.Jx)(t),i=(0,n.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},s=e=>e.bt("    ", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),d=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},c=e=>e.bt("    ", "Log in to send this Pin", "limitedLogin.modalHeader.send", undefined, true),u=e=>e.bt("    ", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),p=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},_=e=>e.bt("     ", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true),h=e=>e.bt("    ", "Log in to hide this Pin", "limitedLogin.modalHeader.hidePin", undefined, true),m=e=>e.bt("    ", "Log in to share the profile", "limitedLogin.modalHeader.shareProfile", undefined, true),g=e=>e.bt("   ", "Log in to create a board", "limitedLogin.modalHeader.createBoard", undefined, true)},51506:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(883119),a=i(182833),o=i(785893);const r=48;function l({color:e,image:t,isSelected:i,title:l}){var s,d,c;return(0,o.jsxs)(n.xu,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?i?"#fff":"#767676":i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,o.jsx)(n.zd,{height:r,rounding:"circle",width:r,children:(0,o.jsx)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(s=t.height)&&void 0!==s?s:1,naturalWidth:null!==(d=t.width)&&void 0!==d?d:1,src:null!==(c=t.url)&&void 0!==c?c:""})}),(0,o.jsx)(n.xu,{marginStart:2,marginEnd:3,children:(0,o.jsx)(n.xv,{color:i?"inverse":(0,a.Yc)()?"light":"dark",weight:"bold",children:l})})]})}},908384:(e,t,i)=>{i.d(t,{ZP:()=>ee,Bi:()=>X,gv:()=>J});var n=i(167912),a=i(616550),o=i(883119),r=i(996141),l=i(434012),s=i(835686),d=i(822368),c=i(1889),u=i(667294),p=i(111369),_=i(281332),h=i(842625),m=i(233423),g=i(785893);const y=({data:e,itemIdx:t})=>(0,g.jsx)(p.default,{pin:e,pinId:e.id,authDesktopSurface:"RelatedProductsFeed",slotIndex:t,viewParameter:3334,viewType:72});function v({resourceOptions:e}){const t=(0,l.ZP)(),i=(0,m.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),{data:n,isAtEnd:a,isLoaded:r,isFetching:s,fetchMore:d}=i,c=(0,u.useRef)(null);if(!r)return(0,g.jsx)(o.kC,{alignItems:"stretch",alignSelf:"center",justifyContent:"center",children:(0,g.jsx)(o.$j,{accessibilityLabel:t.bt("    ", "Loading related products", "Label for loading spinner", undefined, true),show:!0})});const p=Array.isArray(n)?n:null==n?void 0:n.results;return(0,g.jsx)(o.xu,{display:"flex",maxWidth:"100%",ref:c,justifyContent:"center",children:p&&(0,g.jsx)(_.default,{columnWidth:h.yF,isAtEnd:a,isFetching:s,renderItem:e=>(0,g.jsx)(y,{...e}),items:p,loadItems:()=>{s||a||d()},paddingStyle:"simplified",scrollContainerRef:c,virtualize:!1})})}var f=i(58362),x=i(202076),b=i(731706),P=i(358011);class w extends u.PureComponent{constructor(...e){var t,i,n;super(...e),n=({data:e,itemIdx:t})=>{const{resourceOptions:{image_signature:i},visualLiveSearchResource:n}=this.props,a=n&&n.data&&n.data.search_identifier,o=`${window.location.pathname}products/${window.location.search}`;return"story"===e.type?(0,g.jsx)(P.Z,{story:e,dangerouslySetActionUrl:o,slotIndex:t}):(0,g.jsx)(p.default,{pin:e,pinId:e.id,authDesktopSurface:"FlashlightResultGrid",auxData:{search_identifier:a,image_signature:i},slotIndex:t,viewData:{search_identifier:a},viewType:72})},(i="renderItem")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}componentDidMount(){const{visualLiveSearchResource:e,onSearchIdChange:t}=this.props,i=e&&e.data&&e.data.search_identifier;i&&t(i)}componentDidUpdate({visualLiveSearchResource:{data:e}}){const{visualLiveSearchResource:{data:t}}=this.props,i=t&&t.search_identifier,n=e&&e.search_identifier;i&&i!==n&&this.props.onSearchIdChange(i)}render(){const{hasSimplifiedPinGridExpLoaded:e,visualLiveSearchResource:t}=this.props,{data:i,isFetching:n,fetchMore:a}=t,r=i&&i.results,l=i&&i.search_identifier;return(0,g.jsxs)(o.xu,{children:[r&&l&&(0,g.jsx)(o.xu,{children:(0,g.jsx)(o.Rk,{columnWidth:h.yF,renderItem:({data:e,itemIdx:t})=>this.renderItem({data:e,itemIdx:t}),gutterWidth:h.P2,items:r,loadItems:a,minCols:1,scrollContainer:()=>window})}),(0,g.jsx)(o.$j,{accessibilityLabel:this.props.i18n.bt("   ...", "Loading search results...", "Accessibility label for loading visual search results", undefined, true),show:n||!l||!e})]})}}function S(e){const t=(0,l.ZP)(),{hasSimplifiedPinGridExpLoaded:i}=(0,f.$)(),{checkExperiment:n}=(0,s.F)(),{anyEnabled:a}=n("web_flashlight_unified_feed"),{resourceOptions:o,pin:r,viewParameter:d}=e,c=(0,m.Z)({name:"VisualLiveSearchResource",options:o}),{visualSearchFlashlightUnifiedResource:p}=(0,b.Z)({resourceOptions:o});return(0,g.jsx)(u.Fragment,{children:a?(0,g.jsx)(x.Z,{imageSignature:r.image_signature,isProductOnlyFeed:!1,pin:r,variant:"flashlight",viewParameter:d,viewType:72,visualSearchFlashlightUnifiedResource:p}):(0,g.jsx)(w,{...e,visualLiveSearchResource:c,hasSimplifiedPinGridExpLoaded:i,i18n:t})})}var I=i(781567),T=i(67092),A=i(746265),k=i(545168),E=i(185987),C=i(633885),j=i(417824),R=i(260531),D=i(323386),O=i(935057),L=i(278286),z=i(238216),F=i(474478),N=i(524294),M=i(615536);const B=20,Z=60;let U=0,G="";function H({pin:e}){var t,i;const{logContextEvent:n}=(0,k.v)(),r=(0,l.ZP)(),d=(0,a.useHistory)(),p=(0,R.B)(),{checkExperiment:_}=(0,s.F)(),{anyEnabled:h}=_("web_flashlight_unified_feed"),{id:m}=(0,a.useParams)(),{pinId:y}=(0,c.Z)(m||""),f=(0,a.useLocation)(),x=(0,O.mB)(f.search),{cropSource:b}=function(e){return Object.keys(e).reduce(((t,i)=>({...t,[i]:parseInt(e[i],10)})),{})}(x),{imageSignature:P}=x,w=(0,I.Z)(f),[H,K]=(0,u.useState)(""),V=f.pathname.includes("/products")?"products":"flashlight",W=(0,u.useRef)();(0,u.useEffect)((()=>(W.current&&G===y&&(W.current.scrollTop=U),()=>{W.current&&(U=W.current.scrollTop,G=y)})));const $=b||5,q=h&&4===$?3462:3050;if((0,L.Z)((()=>{if(!w&&e){const{image_signature:t}=e,i=P||t,{width:n,height:a}=(0,j.Z)({pin:e,imageSignature:i}),o=(0,F.Z)({cropArea:{h:(null!=a?a:1)-2*E.S,w:(null!=n?n:1)-2*E.S,x:E.S,y:E.S},pinId:y,view:V,imageSignature:P});d.replace(o)}h||n({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:y}})})),!e)return null;const{image_signature:Y}=e,X=P||Y,{width:J,height:Q,url:ee}=(0,j.Z)({pin:e,imageSignature:X});""===ee&&d.push(`/pin/${y}/visual-search/`);const te=(0,T.Z)({initialCropArea:w,pin:e,imageSignature:X,surface:"flashlight"}),ie={pin_id:y,image_signature:X,crop:(0,z.Z)({cropArea:te,scaledWidth:J,scaledHeight:Q}),crop_source:$,is_shopping:!1,entry_source:"flashlight"},ne=!(f&&f.state&&f.state.internalNavigation),ae=p&&p.isRTL||!1,oe=J+B,re=oe+16,le=!h||h&&(5===$||6===$),se=(null!==(t=e.visual_objects)&&void 0!==t?t:[]).filter((e=>e.is_stela)),de=(null!==(i=e.visual_objects)&&void 0!==i?i:[]).filter((e=>!!e.label)),ce=(se.length>0||de.length>0)&&X===Y&&(_("dweb_flashlight_show_more_stela_dots").anyEnabled?se:de)||[];return(0,g.jsx)(D.Z,{view:72,objectId:H,children:(0,g.jsxs)(u.Fragment,{children:[(0,g.jsx)(N.Z,{text:r.bt("  ", "Visual Search Page", "pin.flashlight.accessibilityhiddenheading", undefined, true)}),le&&(0,g.jsx)(A.Z,{pinId:y,title:"products"===V?r.bt("  ", "Shop similar items", "Header explaining results of flashlight products search", undefined, true):r.bt("  ", "More Ideas", "Header explaining results of flashlight search", undefined, true),variant:"flashlight",viewParameter:q,viewType:72}),(0,g.jsx)(M.c,{children:t=>{var i;return"products"===V?(0,g.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:Z}},children:[(0,g.jsx)(v,{resourceOptions:ie}),";"]}):(0,g.jsxs)(o.xu,{display:"flex",paddingX:12,children:[(0,g.jsx)(o.xu,{bottom:!0,overflow:"auto",position:"fixed",dangerouslySetInlineStyle:{__style:{width:oe,height:"inherit",top:t+Z,marginBottom:10}},ref:W,children:(0,g.jsx)(o.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:J,height:Q}},children:(0,g.jsxs)(o.zd,{height:Q,rounding:2,width:J,children:[(0,g.jsx)(o.Ee,{alt:null!==(i=e.description)&&void 0!==i?i:"",naturalHeight:Q,naturalWidth:J,src:ee}),(0,g.jsx)(C.Z,{showAnimation:ne,imageSignature:X,imageSize:{h:Q,w:J},initialCropArea:te,pin:e,spotlightAreas:ce,viewParameter:q})]})})}),(0,g.jsx)(o.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{top:Z,marginLeft:ae?void 0:re,marginRight:ae?re:void 0}},children:(0,g.jsx)(S,{resourceOptions:ie,onSearchIdChange:K,pin:e,viewParameter:q})})]})}})]})})}var K;const V=void 0!==K?K:K=i(126210);function W(e){var t,i,n;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(i=e.url)&&void 0!==i?i:"",height:null!==(n=e.height)&&void 0!==n?n:0}}function $(e){const t=[];return e.forEach((({additionalImages:e,spec:i})=>{var n;t.push(...null!==(n=function({additionalImages:e,spec:t}){const i=[];return null==e||e.forEach((e=>{var n;e.canonicalImage&&i.push({canonical_images:{[t]:W(e.canonicalImage)},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""})})),i}({additionalImages:e,spec:i}))&&void 0!==n?n:[])})),t}function q(e){return null==e?void 0:e.map((e=>{var t,i,n,a,o;return{additional_images:null!==(t=$([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==t?t:[],variant_set:null!==(n=e.variantSet,i={variants:null!==(o=null==n?void 0:n.variants,a=null==o?void 0:o.map((e=>{var t,i;return{additional_images:null!==(i=e.additionalImages,t=null==i?void 0:i.map((e=>{var t,i;return{canonical_images:null!==(t=e.canonicalImages)&&void 0!==t?t:{},image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:""}})))&&void 0!==t?t:[]}})))&&void 0!==a?a:[]})&&void 0!==i?i:{}}}))}function Y(e){const t={};return e.forEach((e=>{const{image:i,spec:n}=e;i&&(t[n]=W(i))})),t}function X(){var e,t,i,o,r,l,s;const{id:d}=(0,a.useParams)(),{pinId:u}=(0,c.Z)(d||""),p=function({pinId:e}){return{query:V,variables:{pinId:e}}}({pinId:u}),_=null===(e=(0,n.useLazyLoadQuery)(V,p.variables).v3GetPinQuery)||void 0===e?void 0:e.data;if(!_)return null;var h,m,g,y,v;return{id:null!==(t=_.entityId)&&void 0!==t?t:"",is_eligible_for_related_products:null!==(i=_.isEligibleForRelatedProducts)&&void 0!==i&&i,description:null!==(o=_.description)&&void 0!==o?o:"",image_signature:null!==(r=_.imageSignature)&&void 0!==r?r:"",visual_objects:null!==(v=_.visualObjects,l=null==v?void 0:v.map((e=>{var t,i,n,a,o,r,l,s,d,c,u,p,_,h,m;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(i=e.h)&&void 0!==i?i:0,index:null!==(n=e.index)&&void 0!==n?n:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(o=e.label)&&void 0!==o?o:"",label_id:null!==(r=e.labelId)&&void 0!==r?r:0,label_x:null!==(l=e.labelX)&&void 0!==l?l:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(c=e.score)&&void 0!==c?c:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,title:null!==(p=e.title)&&void 0!==p?p:"",w:null!==(_=e.x)&&void 0!==_?_:0,x:null!==(h=e.w)&&void 0!==h?h:0,y:null!==(m=e.y)&&void 0!==m?m:0}})))&&void 0!==l?l:[],images:null!==(s=Y([{image:_.imageOrig,spec:"orig"},{image:_.image736x,spec:"736x"},{image:_.image564x,spec:"564x"},{image:_.image474x,spec:"474x"},{image:_.image236x,spec:"236x"}]))&&void 0!==s?s:{},rich_metadata:(g=_.richMetadata,{products:null!==(y=q(null==g?void 0:g.products))&&void 0!==y?y:[]}),rich_summary:(h=_.richSummary,{products:null!==(m=q(null==h?void 0:h.products))&&void 0!==m?m:[]}),type:"pin"}}function J(){const{data:e,isLoaded:t}=d.Z({name:"PinResource",getOptions:({routeData:{params:{id:e}}})=>({id:e,field_set_key:"detailed",fetch_visual_search_objects:!0})});return t&&e?e:null}const Q=(0,r.Z)({useGraphQLAdapter:X,useLegacyAdapter:J});function ee(){const{checkExperiment:e}=(0,s.F)(),t=(0,l.ZP)();return(0,g.jsx)(Q,{input:e("auth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:null,suspense:{fallback:(0,g.jsx)(o.$j,{accessibilityLabel:t.bt("   ", "Loading Pin data", "authDesktopFlashlightPage.loadingPinData", undefined, true),show:!0})}}:{enabled:!1,data:null},children:({data:e})=>!!e&&(0,g.jsx)(H,{pin:e})})}},165866:(e,t,i)=>{i.d(t,{S:()=>c,w:()=>u});var n=i(667294),a=i(946689),o=i(981811),r=i(224222),l=i(785893);const s=()=>i.e(94261).then(i.bind(i,594261)),{Provider:d,useHook:c}=(0,a.Z)("MerchantStorefrontSettings");function u({children:e}){const[t,i]=(0,o.Z)(s,r.Z),a=(0,n.useMemo)((()=>({merchantStorefrontSettings:t,updateLocaleStorefrontSetting:(e,t,n)=>{i({type:"UPDATE_LOCALE_STOREFRONT_SETTING",payload:{country:e,language:t,feedProfileId:n}})},updateStorefrontLastUpdated:e=>{i({type:"UPDATE_STOREFRONT_LAST_UPDATED",payload:e})}})),[i,t]);return(0,l.jsx)(d,{value:a,children:e})}},130302:(e,t,i)=>{i.d(t,{Z:()=>n});const n={STOREFRONT_LOCALE_STORAGE_KEY:"merchantStorefront.storefrontSettings.locale"}},224222:(e,t,i)=>{i.d(t,{Z:()=>n});const n={currentViewingLocale:{country:"",language:"",feedProfileId:""},lastUpdated:0}},733463:(e,t,i)=>{i.d(t,{ZP:()=>l,tY:()=>d,Yh:()=>s});var n=i(702664),a=i(233423),o=i(578662);const r={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function l(e){var t;const i=(0,o.Z)(),n=i.isAuth&&i.id===e,r=(0,a.Z)(!i.isAuth||n?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:n&&i.has_quicksave_board||!(!i.isAuth||null===(t=(null!=r?r:{}).data)||void 0===t||!t.has_quicksave_board)}}function s(e){var t;const i=(0,n.useDispatch)(),r=(0,o.Z)(),l=r.isAuth&&!!r.boardCount&&r.boardCount<5&&e,s=(0,a.Z)(l&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:r.isAuth&&r.id}}:null);return r.isAuth&&void 0===r.save_behavior&&s&&null!==(t=s.data)&&void 0!==t&&t.id&&i({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:s.data.save_behavior}}),{showEnabledSaveBehavior:l}}function d(e){const t=(0,o.Z)();let i;return e&&(t.save_behavior===r.SAVE_TO_PROFILE?i={type:"classic"}:t.save_behavior===r.SHOW_BOARD_PICKER&&(i={type:"inline"})),{saveBehaviorType:i}}},221254:(e,t,i)=>{function n({user:e,viewer:t}){return Boolean(t.isAuth&&(null==e?void 0:e.username)===t.username)}i.d(t,{Z:()=>n})},830577:(e,t,i)=>{i.d(t,{$B:()=>s,L6:()=>u,S5:()=>c,UI:()=>r,Up:()=>_,jl:()=>l,vW:()=>d,yK:()=>p});var n=i(883119),a=i(351693),o=i(39005);const r=new n.H3([new n.Ry(a.HW),new n.Ry(o.fe)]),l=1e5,s={ALL:"ALL",FEATURED:"FEATURED",CATEGORY:"CATEGORY"},d={SectionCategories:"SectionCategories",SectionEditYourShop:"SectionEditYourShop",SectionFeaturedProductGroups:"SectionFeaturedProductGroups"},c={[d.SectionCategories]:s.CATEGORY,[d.SectionFeaturedProductGroups]:s.FEATURED,[d.SectionEditYourShop]:s.ALL},u={[d.SectionCategories]:14126,[d.SectionFeaturedProductGroups]:14127},p={FEATURED:"featured_product_groups",CATEGORY:"featured_categories_product_groups"},_="/product-catalogs"},421180:(e,t,i)=>{i.d(t,{PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS:()=>s,Z:()=>d});var n=i(667294),a=i(883119),o=i(545168),r=i(443359),l=i(785893);const s={HEIGHT:362,WIDTH:362};function d({productGroup:e,preferredPreviewPinSizes:t=[],coverFit:i=!1}){var d,c,u;const{logContextEvent:p}=(0,o.v)(),_=e.cover_images&&e.cover_images[0]&&(0,r.cB)(e.cover_images[0]),{WIDTH:h,HEIGHT:m}=s,g=e.preview_pins&&e.preview_pins[0]&&e.preview_pins[0].images;let y;const[v,f]=(0,n.useState)(!_);g&&v&&(y=t.concat("orig").map((e=>g[e])).find((e=>!!e)));const x=v?null===(d=y)||void 0===d?void 0:d.height:m,b=v?null===(c=y)||void 0===c?void 0:c.width:h,P=v?null===(u=y)||void 0===u?void 0:u.url:_;return x&&b&&P?(0,l.jsx)(a.Ee,{alt:"",naturalHeight:x,naturalWidth:b,src:P,fit:i?"cover":"contain",onError:()=>{v||(p({event_type:10048,component:14004,aux_data:{product_group_cover_image_url:_}}),f(!0))}}):null}},14820:(e,t,i)=>{i.d(t,{Z:()=>k});var n=i(667294),a=i(883119),o=i(904062),r=i(545168),l=i(162474),s=i(816987),d=i(898524),c=i(434012),u=i(376410),p=i(233423),_=i(708798),h=i(578662),m=i(678088),g=i(488488),y=i(351693),v=i(39005),f=i(165866),x=i(443359),b=i(785893);const P=new a.H3([new a.Ry(y.HW),new a.Ry(v.fe)]),w=316,S=255,I=155;function T({onFileUpload:e}){const t=(0,c.ZP)(),[i,o]=(0,n.useState)(!1),r=(0,n.useRef)(null),l=t.bt("   ", "Upload from computer", "ProductGroupDetailsModal.uploadFromComputer", undefined, true);return(0,b.jsxs)(a.kC,{justifyContent:"center",children:[(0,b.jsx)(a.hU,{accessibilityExpanded:i,accessibilityHaspopup:!0,accessibilityLabel:t.bt("     ", "Upload product group cover image menu", "ProductGroupDetailsModal.productGroupCoverImageA11y", undefined, true),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>o((e=>!e)),ref:r,size:"lg"}),i&&(0,b.jsx)(a.Lt,{anchor:r.current,id:"product-group-image-dropdown",onDismiss:()=>o(!1),children:(0,b.jsx)(a.Lt.Item,{onSelect:()=>{o(!1),e()},option:{value:l,label:l}})})]})}function A({image:e,onFileUpload:t,onError:i}){const n=(0,c.ZP)(),o=n.bt("   ", "Product Group Cover Image", "ProductGroupDetailsModal.productGroupCoverImageAlt", undefined, true);return(0,b.jsxs)(a.xu,{position:"relative",children:[(0,b.jsx)(a.xu,{height:w,width:w,rounding:5,overflow:"hidden",children:(0,b.jsx)(a.Ee,{alt:o,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,src:e,onError:i})}),(0,b.jsx)(a.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,b.jsx)(T,{onFileUpload:t})})]})}function k({onDismiss:e,onSubmit:t,productGroup:i}){var y,v,T;const{logContextEvent:k}=(0,r.v)(),E=(0,c.ZP)(),C=E.bt("   ", "Edit product group display", "ProductGroupDetailsModal.heading", undefined, true),j=`/v3/business/users/${(0,h.Z)().id||""}/storefront/product_group_image/`,[R,D]=(0,n.useState)(""),[O,L]=(0,n.useState)(""),[z,F]=(0,n.useState)(),[N,M]=(0,n.useState)(),[B,Z]=(0,n.useState)(!1),[U,G]=(0,n.useState)(0),[H]=(0,n.useState)((new Date).getTime()),K=i.group_type!==x.yh,{merchantId:V,advertiserId:W}=(0,m.Z)(),{showOneToast:$}=(0,_.F9)(),{updateStorefrontLastUpdated:q}=(0,f.S)(),Y=(0,g.Ib)({advertiserId:W,merchantId:V,productGroupsIds:[i.id],uniq:H},!1,!0),X=(0,p.Z)({name:"ApiResource",options:{url:j,data:{product_group_ids:[i.id]},uniq:H},noCache:!0}),J=(0,n.useRef)(),Q=Number(i.id),ee=null===(y=Y.data)||void 0===y?void 0:y.find((e=>e.id===Q)),te=Y.isLoaded&&X.isLoaded,ie=ee&&(R!==ee.name||O!==(ee.description||"")||!!z),ne=ee&&R!==ee.name,ae=ee&&O!==(ee.description||""),oe=te?(0,x.cB)(null===(v=X.data)||void 0===v||null===(T=v[i.id])||void 0===T?void 0:T[0]):null,re=i.preview_pins[0],le=null==re?void 0:re.image_signature,se=(0,x.cB)(null==re?void 0:re.images),de=N||[oe,se].filter((e=>!!e))[U];(0,n.useEffect)((()=>{ee&&(D(ee.name||""),L(ee.description||""))}),[ee]),(0,n.useEffect)((()=>{k({event_type:9854,component:13998})}),[k]);const ce=()=>{e(),k({event_type:9856,component:13998})},ue=E.bt("", "Save", "ProductGroupDetailsModal.SaveBtn", undefined, true),pe=E.bt("", "Cancel", "ProductGroupDetailsModal.CancelBtn", undefined, true);return(0,b.jsx)(a.mh,{zIndex:P,children:(0,b.jsx)(s.ZP,{accessibilityModalLabel:C,align:"center",heading:C,onDismiss:ce,footer:te?(0,b.jsxs)(a.kC,{alignItems:"start",children:[(0,b.jsx)(a.xu,{width:"50%",children:(0,b.jsx)(a.xv,{size:"300",children:(0,u.nk)(E.bt("         {{catalogsLink}}", "To edit items in this product group, visit {{catalogsLink}}", "ProductGroupDetailsModal.coverImage", undefined, true),{catalogsLink:(0,b.jsx)(a.rU,{href:"/product-catalogs",display:"inlineBlock",target:"blank",underline:"hover",children:(0,b.jsx)(a.xv,{weight:"bold",inline:!0,children:E.bt(" Pinterest", "Pinterest Catalogs", "ProductGroupDetailsModal.catalogsLink", undefined, true)})},"product-catalogs-link")})})}),(0,b.jsx)(a.xu,{width:"50%",children:(0,b.jsxs)(a.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"end",children:[(0,b.jsx)(a.zx,{color:"gray",text:pe,onClick:ce}),(0,b.jsx)(a.zx,{color:"red",text:ue,onClick:()=>{const n=oe?z:z||le,a=[],r=[];n&&(a.push((0,l.Z)({url:j,method:"PUT",data:{image_signatures:[n],product_group_id:i.id}})),r.push("cover_image")),(ne||ae)&&(a.push(o.Z.create("ProductGroupsResource",{name:R,description:O,productGroupId:Number(i.id),filters:null==ee?void 0:ee.filter_v2}).callUpdate()),ne&&r.push("name"),ae&&r.push("description")),k({event_type:9857,component:13998,aux_data:{product_group_modal_changes:r.join(",")}}),e(),Promise.all(a).then((()=>{t(),q((new Date).getTime()),$((({hideToast:e})=>(0,b.jsx)("div",{className:"ProductGroupSavedToast",children:(0,b.jsx)(d.ZP,{duration:x.QE,onHide:e,text:E.bt("   ", "Product group saved", "MerchantStorefront.ProductGroupDetailsModal.pgSaved", undefined, true)})})))}))},disabled:!ie})]})})]},"product-group-details-footer"):(0,b.jsx)(n.Fragment,{}),size:K?"md":"sm",children:(0,b.jsx)(a.xu,{paddingX:8,marginBottom:2,children:te?(0,b.jsxs)(a.kC,{justifyContent:"center",children:[(0,b.jsxs)(a.xu,{width:320,children:[(0,b.jsx)(a.xu,{marginBottom:4,children:(0,b.jsx)(a.xv,{size:"300",weight:"bold",children:E.bt(" ", "Cover image", "ProductGroupDetailsModal.coverImage", undefined, true)})}),(0,b.jsx)("input",{accept:"image/*","data-test-id":"cover-image",id:"product-group-image-upload",onChange:e=>{if(e.target instanceof HTMLInputElement){const t=e.target.files[0],i=new FileReader;t&&i.readAsDataURL(t),i.addEventListener("load",(()=>{Z(!0),k({event_type:9855,component:13998}),(0,l.Z)({url:j,method:"POST",data:{image_base64:i.result}}).then((e=>{var t,n;F(null===(t=e.resource_response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.image_signature),Z(!1),"string"==typeof i.result&&M(i.result)}))}),!1)}},ref:J,style:{display:"none"},type:"file"}),B&&(0,b.jsx)(a.xu,{height:w,width:w,rounding:5,color:"secondary",justifyContent:"center",direction:"column",display:"flex",children:(0,b.jsx)(a.$j,{accessibilityLabel:E.bt("     ", "Uploading product group cover image", "ProductGroupDetailsModal.uploadingCoverImage", undefined, true),show:!0})}),!B&&de&&(0,b.jsx)(A,{image:de,onFileUpload:()=>{var e;null===(e=J.current)||void 0===e||e.click()},onError:()=>G(U+1)})]}),K&&(0,b.jsxs)(a.xu,{width:320,marginStart:4,children:[(0,b.jsx)(a.xu,{marginBottom:4,children:(0,b.jsx)(a.xv,{size:"300",weight:"bold",children:E.bt("", "Title", "ProductGroupDetailsModal.name", undefined, true)})}),(0,b.jsx)(a.nv,{id:"name",onChange:({value:e})=>D(e.slice(0,S)),size:"lg",type:"text",value:R}),(0,b.jsxs)(a.xu,{marginTop:2,marginBottom:4,height:30,children:[R&&(0,b.jsx)(a.xv,{size:"100",color:"subtle",children:E.bt("            ", "Changing your product group's name in your shop will also change its name in Catalogs", "ProductGroupDetailsModal.pgName", undefined, true)}),!R&&(0,b.jsx)(a.xv,{size:"100",color:"error",children:E.bt("      !", "This field can't be blank!", "ProductGroupDetailsModal.nameEmptyError", undefined, true)})]}),(0,b.jsx)(a.xu,{marginBottom:4,children:(0,b.jsx)(a.xv,{size:"300",weight:"bold",children:E.bt("", "Description", "ProductGroupDetailsModal.description", undefined, true)})}),(0,b.jsx)(a.xu,{height:178,children:(0,b.jsx)(a.Kx,{id:"description",onChange:({value:e})=>L(e.slice(0,I)),placeholder:E.bt("   Pinterest     ", "Tell shoppers on Pinterest more about this product group", "ProductGroupDetailsModal.descriptionPlaceholder", undefined, true),value:O,rows:7})})]})]}):(0,b.jsx)(a.$j,{accessibilityLabel:E.bt("    ", "Loading product group details", "ProductGroupDetailsModal.loadingSpinner", undefined, true),show:!0})})})})}},348316:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),a=i(883119),o=i(434012),r=i(421180),l=i(14820),s=i(785893);const d=()=>{},c=({url:e,onClick:t,i18n:i})=>(0,s.jsx)(a.ZP,{accessibilityLabel:i.bt(" ", "Shop button", "ProductGroupV2.shopButton.accessibilityLabel", undefined, true),size:"lg",text:i.bt("", "Shop", "ProductGroupV2.shopButton.text", undefined, true),color:"white",href:e,onClick:t}),u=({i18n:e})=>(0,s.jsx)(a.zx,{accessibilityLabel:e.bt(" ", "Shop button", "ProductGroupV2.shopButton.accessibilityLabel", undefined, true),size:"lg",text:e.bt("", "Shop", "ProductGroupV2.shopButton.text", undefined, true),color:"white",role:"button"});function p({onClick:e,productGroup:t,showControls:i,url:p}){const _=(0,o.ZP)(),h=_.bt("   ", "Edit product group display", "ProductGroupV2.editTooltip", undefined, true),[m,g]=(_.bt("    ", "Remove product group from shop", "ProductGroupV2.removeTooltip", undefined, true),(0,n.useState)(!1)),[y,v]=(0,n.useState)(!1),f=!(!p||!e),{WIDTH:x,HEIGHT:b}=r.PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS,P=x-64;return(0,s.jsxs)(a.xu,{position:"relative",onMouseEnter:()=>{v(!0)},onMouseLeave:()=>{v(!1)},children:[(0,s.jsxs)(a.xu,{position:"relative",children:[(0,s.jsxs)(a.zd,{width:x,height:b,rounding:8,children:[(0,s.jsx)(r.Z,{productGroup:t}),(0,s.jsx)(a.xu,{position:"absolute",width:x,height:b,top:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]}),(0,s.jsx)(a.xu,{position:"absolute",color:"selected",opacity:y?.5:0,width:x,height:b,rounding:8,top:!0})]}),i&&y&&(0,s.jsxs)(a.xu,{position:"absolute",top:!0,right:!0,padding:8,display:"flex",children:[(0,s.jsx)(a.xu,{marginEnd:0,children:(0,s.jsx)(a.u,{text:h,idealDirection:"down",children:(0,s.jsx)(a.hU,{accessibilityLabel:h,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),g(!0)},size:"xl"})})}),false]}),(0,s.jsxs)(a.xu,{position:"absolute",bottom:!0,left:!0,padding:8,children:[(0,s.jsx)(a.xu,{marginBottom:5,maxWidth:P,children:(0,s.jsx)(a.X6,{size:"600",color:"inverse",lineClamp:2,children:t.name})}),y&&(0,s.jsx)(a.xu,{marginBottom:5,maxWidth:P,children:(0,s.jsx)(a.xv,{size:"300",color:"inverse",children:t.description})}),!f&&(0,s.jsx)(u,{i18n:_}),f&&(0,s.jsx)(c,{url:null!=p?p:"",onClick:null!=e?e:d,i18n:_})]}),i&&m&&(0,s.jsx)(l.Z,{onDismiss:()=>g(!1),onSubmit:()=>g(!1),productGroup:t})]})}},419451:(e,t,i)=>{i.d(t,{LO:()=>v,N0:()=>b,t8:()=>P,tt:()=>w});var n=i(667294),a=i(233423),o=i(589598),r=i(578662),l=i(678088),s=i(608205),d=i(548362),c=i(568310),u=i(581444),p=i(130302),_=i(165866),h=i(221254),m=i(443359),g=i(920823);function y(e){const t=(0,a.Z)(e?{name:"ApiResource",options:{url:`/v3/catalogs/${e}/feed_profiles/`,field_sets:["feedprofile.id","feedprofile.display_name","feedprofile.country","feedprofile.locale","feedprofile.all_products_pg_item_count","feedprofile.feed_status"]}}:null);return{feedProfilesResource:t,feedProfiles:(0,d.d9)(t.data||[]).filter((e=>e.country&&e.locale&&e.feedStatus===s.Hm.ACTIVE))}}function v(){const{merchantId:e,ownerUserId:t}=(0,l.Z)(),{countriesResource:i,countries:n}=function(){const e=(0,a.Z)({name:"CountriesResource"});return{countriesResource:e,countries:(e.data||[]).reduce(((e,t)=>({...e,[t.key]:t.name.split(" (")[0]||""})),{})}}(),{feedProfilesResource:o,feedProfiles:r}=y(e),{storefrontSettingsResource:s,settings:d}=function(e){const t=(0,a.Z)(e?{name:"ApiResource",options:{url:`/v3/business/users/${e}/storefront/settings/`}}:null);return{storefrontSettingsResource:t,settings:t.data||{}}}(t);return{countries:n,feedProfiles:r,isLoaded:i.isLoaded&&o.isLoaded&&s.isLoaded,refresh:()=>{o.refresh(),s.refresh()},settings:d,userId:t}}function f(){const{merchantId:e}=(0,l.Z)(),{feedProfilesResource:t,feedProfiles:i}=y(e),{userSettingsResource:n,userSettings:o}=function(){const e=(0,a.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}});return{userSettingsResource:e,userSettings:e.data}}();return{feedProfiles:i,isLoaded:t.isLoaded&&n.isLoaded,userSettings:o}}function x(){const{data:e}=(0,g.Z)(),t=(0,r.Z)(),i=(0,h.Z)({user:e,viewer:t}),n=(0,c.Z)();return{isORBACProfileManager:(0,u.q6)(t,null==e?void 0:e.id,n),ownProfile:i}}function b(){const{ownProfile:e}=x();return e}function P(){const{ownProfile:e,isORBACProfileManager:t}=x();return e||t}function w(){const{feedProfiles:e,userSettings:t,isLoaded:i}=f(),{merchantStorefrontSettings:{currentViewingLocale:{country:a,language:r}},updateLocaleStorefrontSetting:l}=(0,_.S)(),{countries:s}=v();(0,n.useEffect)((()=>{if(i&&(!a||!r||!(0,m.Ee)(e,a,r))){var n;const[i,a]=((0,o.qn)(p.Z.STOREFRONT_LOCALE_STORAGE_KEY)||"").split("/"),r=(0,m.b8)(e,s),c=(0,m.Ee)(r,i,a),u=(0,m.Ee)(r,null!==(n=null==t?void 0:t.country)&&void 0!==n?n:"",(0,m.Md)(null==t?void 0:t.locale)),[_]=[...r].sort(((e,t)=>(0,m.gE)(t)-(0,m.gE)(e))),h=c||u||_;var d;if(h)l(h.country||"",(0,m.Md)(h.locale),null!==(d=h.id)&&void 0!==d?d:"")}}))}},663925:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(832050);const a={BrandCatalogFeed:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3244,component:0,aux_data:{...e}})}},ProductFeed:{tapProductPin:function({commerceData:e},t){t({event_type:102,component:13700,view_type:4,view_parameter:3512,aux_data:{...e}})}},StorefrontFeed:{tapProductGroup:function({productGroupId:e},t){t({event_type:102,view_type:4,view_parameter:3512,component:13698,object_id_str:e})},useShoppingProfileViewLog:function(){(0,n.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function({productGroupId:e},t){t({event_type:120,view_type:4,view_parameter:3512,component:13698,object_id_str:e})}}};function o({entryPoint:e,objectId:t,groupType:i}){return{aux_data:{commerce_data:JSON.stringify({entrypoint:e}),product_group_type:i},component:13698,object_id_str:t,view_type:1,view_parameter:3515}}const r={BrandCatalog:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3513,component:13700,aux_data:{...e}})}},Categories:{tapCategoryBubble:function({entryPoint:e},t){t({event_type:102,view_type:1,view_parameter:3514,component:13699,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}},ProductGroups:{productGroupRendered:function({entryPoint:e,productGroupId:t,groupType:i},n){n({event_type:120,...o({entryPoint:e,objectId:t,groupType:i})})},tapProductGroup:function({entryPoint:e,productGroupId:t,groupType:i},n){n({event_type:102,...o({entryPoint:e,objectId:t,groupType:i})})}},ProductPins:{tapProductPin:function({commerceData:e,component:t},i){i({event_type:102,component:t,view_type:1,view_parameter:3513,aux_data:{...e}})},viewProductPinsFeed:function({component:e,entryPoint:t,category:i,productGroupId:n},a){a({event_type:13,component:e,view_type:1,view_parameter:3513,aux_data:{commerce_data:JSON.stringify({entrypoint:t}),category_title:i,product_group_id:n}})}},viewFeedPage:function({entryPoint:e,viewParameter:t},i){i({event_type:13,view_type:1,view_parameter:t,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}};var l=i(973177);const s={Control:a,DomainModule:{trackSeeMoreClick:function({viewParameter:e},t){t({event_type:102,component:13327,element:11829,view_type:3,view_parameter:e})}},Feeds:r,StructuredFeed:{viewStructuredFeed:function({merchantId:e,source:t},i){i({event_type:13,view_type:(0,l.Z)(t),view_parameter:3512,..."profile"===t?{object_id_str:e}:Object.freeze({})})},Categories:{viewCategory:function({id:e,source:t,title:i,bubble:n},a){a({event_type:120,component:13699,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:i,...n.aux_fields}})},tapCategory:function({id:e,source:t,title:i,bubble:n},a){a({event_type:102,component:13699,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:i,...n.aux_fields}})},tapSeeMoreCategories:function({id:e,source:t},i){i({event_type:102,component:13699,element:179,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_category_footer_button"}})}},ProductGroups:{tapProductGroup:function({productGroupId:e,source:t,groupType:i,componentType:n,index:a},o){o({event_type:102,component:n,object_id_str:e,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{product_group_type:i,grid_index:a}})},tapSeeMoreProductGroups:function({id:e,source:t},i){i({event_type:102,component:13698,element:179,aux_data:{story_id:e,story_type:"storefront_product_group_footer_button"},view_type:(0,l.Z)(t),view_parameter:3512})},viewProductGroup:function({productGroupId:e,source:t,groupType:i,componentType:n},a){a({event_type:120,component:n,object_id_str:e,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{product_group_type:i}})}},PinsFeed:{viewPinsFeed:function({id:e,OwnerUserId:t,pinsFeedTitle:i,source:n},a){a({event_type:120,component:13700,view_type:(0,l.Z)(n),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_pins_feed",pins_feed_title:i,owner_user_id:t}})},tapPin:function({commerceData:e,source:t},i){i({event_type:102,component:0,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{...e}})}}}}},973177:(e,t,i)=>{function n(e){return"profile"===e?4:1}i.d(t,{Z:()=>n})},443359:(e,t,i)=>{i.d(t,{Ee:()=>m,LT:()=>p,Md:()=>s,Q1:()=>h,QE:()=>l,S8:()=>y,WU:()=>x,YY:()=>f,b8:()=>P,c8:()=>_,cB:()=>g,gE:()=>d,mV:()=>v,u3:()=>c,yh:()=>r,z1:()=>u});var n=i(904062),a=i(162474),o=i(830577);const r="ALL_PRODUCTS",l=5e3,s=e=>e?e.split("-")[0].toLowerCase():"",d=e=>{var t;return e.allProductsPGItemCount||(null===(t=e.lastSuccessfulIngestion)||void 0===t?void 0:t.productCount)||0},c=e=>[e.country||"",s(e.locale)].join("/").toUpperCase(),u=(e,t)=>e&&t?`${e} (${s(t).toUpperCase()})`:"",p=(e,t)=>{const[i,n]=t.split("/");return u(e[i.toUpperCase()],n)},_=e=>!e||void 0===e.shop_visible||e.shop_visible,h=(e,t)=>{const i=t.map(c);return Object.keys(e).map((e=>e.toUpperCase())).filter(((t,n,a)=>i.includes(t)&&!_(e[t])&&a.indexOf(t)===n))},m=(e,t,i)=>t&&i?e.find((e=>e.country===t&&s(e.locale)===i)):void 0,g=e=>{if(!e)return"";const t=["488x488","976x976","368x368","736x","474x","originals","orig",Object.keys(e)[0]];for(const i of t)if(e[i])return e[i].url||"";return""},y=e=>e.filter((e=>Number.isInteger(e.featured_position))).map((({id:e})=>e)),v=(e,t)=>{const i=new Set(t),n=new Set(e);return{featureProductGroupsSet:new Set([...n.values()].filter((e=>!i.has(e)))),unfeatureProductGroupsSet:new Set([...i.values()].filter((e=>!n.has(e))))}},f=async(e,t,i="FEATURED")=>{const{featureProductGroupsSet:r,unfeatureProductGroupsSet:l}=t,{userId:s,feedProfileId:d,countrySetting:c,languageSetting:u,settings:p}=e,_=`${c}/${u.toUpperCase()}`,h=i===o.$B.CATEGORY?[]:[...r.values()].map((e=>n.Z.create("FeaturedProductGroupsResource",{feedProfileId:d,productGroupId:e}).callCreate())),m=i===o.$B.CATEGORY?[]:[...l.values()].map((e=>n.Z.create("FeaturedProductGroupsResource",{feedProfileId:d,productGroupId:e}).callDelete())),g=o.yK[i],y=p[_]&&p[_][g]||[],v=[...new Set([...y,...r.values()])].filter((e=>!l.has(e))),f={...p,[_]:{...p[_]||{},[g]:v}},x=(0,a.Z)({url:`/v3/business/users/${s}/storefront/settings/`,method:"PUT",data:{settings:JSON.stringify(f)}});await Promise.all([x,...h,...m])},x=(e,t)=>e.length===t.length&&t.every((t=>e.includes(t))),b=(e,t)=>u(t[e.country||""],e.locale),P=(e,t)=>e.reduce(((e,i)=>{const n=e.findIndex((e=>b(e,t)===b(i,t)));return-1===n?e.push(i):d(e[n])<d(i)&&(e[n]=i),e}),[])},920823:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(616550),a=i(233423);function o(){const{username:e}=(0,n.useParams)();return(0,a.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},117864:(e,t,i)=>{i.d(t,{Z:()=>r,f:()=>l});var n=i(904062),a=i(984862);function o(e){return n.Z.create("BoardFollowResource",{board_id:e})}function r(e){return t=>{o(e).callCreate().catch((()=>{t((0,a.md)(e,!1))})),t((0,a.md)(e,!0))}}function l(e){return t=>{o(e).callDelete().catch((()=>{t((0,a.md)(e,!0))})),t((0,a.md)(e,!1))}}},597698:(e,t,i)=>{function n(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function a(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function o(e,t,i,n,a){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:i,url:n,localPinId:a}}}function r(e){return{type:"PIN_UNSAVE",payload:{id:e}}}function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s({id:e,text:t,undoAction:i,undoActionOptions:n,undoText:a}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:i,undoActionOptions:n,undoText:a}}}function d(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function c(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function _(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function h(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}i.d(t,{Gb:()=>r,I1:()=>d,Ib:()=>u,NA:()=>s,Ur:()=>o,Vw:()=>l,b9:()=>_,i0:()=>p,mO:()=>a,q1:()=>c,yR:()=>n,yj:()=>h})},89679:(e,t,i)=>{i.d(t,{By:()=>d,IT:()=>s,N6:()=>a,br:()=>o,lU:()=>l,mk:()=>r});var n=i(162474);const a=(e,t)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}),o=(e,t)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}),r=e=>({type:"SET_ANIMATION_ON_BODY_FILTER",payload:{animated:e}}),l=(e,t,i)=>a=>{(0,n.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(t,i),a("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})},s=(e,t,i,a)=>o=>{(0,n.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:t}}).then(i,a),o("PERSONAL"===t?(e=>({type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}))(e):(e=>({type:"CLEAR_RECENT_SEARCH",payload:{query:e}}))(e))},d=e=>t=>{t((e=>({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}}))(e))}},55053:(e,t,i)=>{i.d(t,{ZN:()=>r,bJ:()=>s,fv:()=>l,hr:()=>o,lD:()=>d});var n=i(904062);function a(e,t){return n.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const o=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),r=(e,t)=>i=>{a(e,t).callCreate().catch((()=>i(o(e,!1)))),i(o(e,!0))},l=(e,t)=>i=>{a(e,t).callDelete().catch((()=>i(o(e,!0)))),i(o(e,!1))},s=e=>t=>{const i=e.reduce(((e,t)=>({...e,[t.id]:!t.is_followed})),{});return n.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:i}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:i})=>{t(o(e,!i))}))}))},d=(e,t="")=>i=>n.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((t=>{const n=e[t];i(o(t,n))}))}))},434850:(e,t,i)=>{i.d(t,{KF:()=>c,ZN:()=>l,fv:()=>d,kE:()=>p,yA:()=>s});var n=i(904062),a=i(162474),o=i(863762);function r(e,t,i,a){return n.Z.create("UserFollowResource",{user_id:e,invite_code:a||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:i})}function l(e,t=null,i,n){return a=>{r(e,t,i,n).callCreate().catch((()=>a((0,o.P_)(e,!1)))),a((0,o.P_)(e,!0))}}function s(e,t=null,i,n){return async a=>{a((0,o.P_)(e,!0)),await r(e,t,i,n).callCreate().catch((t=>{throw a((0,o.P_)(e,!1)),t}))}}function d(e,t=null,i){return n=>{r(e,t,i).callDelete().catch((()=>n((0,o.P_)(e,!0)))),n((0,o.P_)(e,!1))}}function c(e,t=null,i){return async n=>{n((0,o.P_)(e,!1)),await r(e,t,i).callDelete().catch((t=>{throw n((0,o.P_)(e,!0)),t}))}}const u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,a.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch((()=>t(u(e,!1)))),t(u(e,!0)))}},498898:(e,t,i)=>{i.d(t,{J:()=>m,Z:()=>f});var n=i(610767),a=i(916764),o=i(999330),r=i(258083),l=i(857147),s=i(516841),d=i(815443),c=i(681679);const u=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${c.Z.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:()=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:()=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:()=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:()=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},_={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/interests\/([0-9])+\/pins\//)?{type:c.Z.INTEREST_TAB_FEED,id:e.interestId}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:c.Z.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:c.Z.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?c.Z.AGGREGATED_COMMENT_REPLIES:c.Z.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:c.Z.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:c.Z.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:c.Z.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:c.Z.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:c.Z.PROFILE_BOARDS,id:(0,l.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:i,filters:n,query_pin_sigs:a,query:l,user:s},response:d})=>{var u;return{type:c.Z.SEARCH_PINS,id:(0,o.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:n,query:l,selectedPinImgSig:a,scope:i,user:s}),items:null!==(u=d.resource_response.data)&&void 0!==u&&u.results?(0,r.L)(d.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:c.Z.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:c.Z.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:c.Z.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:c.Z.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:c.Z.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:c.Z.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:c.Z.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:c.Z.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:c.Z.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:c.Z.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:c.Z.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},h=(e,{pinId:t,oldFeedId:i,newFeedId:n})=>i===n?e:((e,{pinId:t,feedId:i})=>e[i]?{...e,[i]:[{type:"pin",id:t},...e[i]]}:e)(((e,{pinId:t,feedId:i})=>e[i]?{...e,[i]:e[i].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:i}),{pinId:t,feedId:n}),m=(e,t)=>e in p?p[e](t):null,g=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,y=(e,t)=>e.map((({id:e,schema:i})=>i?{id:e,type:i,trackingParams:"pin"===i?t.pins[e].tracking_params:void 0,user_id:void 0}:null)).filter(Boolean),v=(e,t,i)=>Object.keys(e).reduce(((n,a)=>{const o=e[a]||[],r=o.filter((e=>!(e.type===t&&e.id===i)));return o.length!==r.length&&(n[a]=r),n}),{...e}),f=(e={},t)=>{switch(t.type){case a.zP:case a.aW:{const{payload:n}=t,{resource:o,options:r,normalizedResponse:l,schema:u}=n;if(l&&o in p){const i=((e,t,i)=>{const n=i||s.Z[e];if(n===d.LR)return t.result;if(n===d.sN)return t.result.map((e=>({id:e,schema:"board"})));if(n===d.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(n===d.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(n===d.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof n){const e=Object.entries(n).find((([e,t])=>t===d.LR));if(e)return t.result[e[0]]}return null})(o,l,u);if(i&&Array.isArray(i)){const n=p[o](r);if("ShoppingFeedModularizedResource"===o){const{board_id:t,saved_products_only:n}=null!=r?r:{},a=`board-shop-related:${t}`,o=`board-shop-saved:${t}`,s=`board-shop-saved-preview:${t}`,d=[...e[a]||[]],c=[...e[o]||[]],u=[...e[s]||[]];return y(i,l.entities).forEach((e=>{var i;n?c.push(e):l.entities.pins&&(null===(i=l.entities.pins[e.id])||void 0===i?void 0:i.board)===t?u.push(e):d.push(e)})),{...e,[a]:d,[o]:c,[s]:u}}if("BoardToolsFeedResource"===o||"SectionToolsFeedResource"===o)return{...e,[n]:i};{const o=(t.type===a.aW&&e[n]||[]).concat(y(i,l.entities));return{...e,[n]:o}}}}else{var i;const{data:o}=n.response.resource_response;if(null===(i=n.options)||void 0===i||!i.redux_normalize_feed)return e;const r=_[n.resource](n);if(r){const{type:i,id:n,items:l,reversed:s}=r;let d=(l||o||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===c.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,i)));s&&(d=d.reverse());const u=`${i}:${n}`,p=e[u];if(p||t.type!==a.aW){const i=p||[];let n=d;return t.type===a.aW&&(n=s?d.concat(i):i.concat(d)),{...e,[u]:n}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:i,feedId:a,itemType:o,targetItemId:r,sourceItemId:l}}=t,s=`${i}:${a}`,d=e[s]||[];let u=-1,p=-1;if([c.Z.BOARDFEED,c.Z.BOARD_SECTION_PINS,c.Z.BOARD_SECTIONS,"profileBoards"].includes(i)&&(u=d.findIndex((e=>e.type===o&&e.id===l)),p=d.findIndex((e=>e.type===o&&e.id===r))),-1!==u&&-1!==p)return{...e,[s]:(0,n.Z)(d,u,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:i,feedId:n,inverseSelection:a,itemType:o,itemIds:r=[]}}=t,l=`${i}:${n}`,s=e[l]||[];if(s&&s.length>0&&(i===c.Z.BOARD_SECTION_PINS||i===c.Z.BOARDFEED)){const t=s.filter((e=>{const t=r.includes(e.id);return!(e.type===o&&(a&&!t||!a&&t))})),i=!!t.find((e=>"pin"===e.type));return{...e,[l]:i?t:[]}}if(s&&s.length>0&&i===c.Z.BOARD_SECTIONS){const t=s.filter((e=>{const t=r.includes(e.id);return!(e.type===o&&t)}));return{...e,[l]:t}}if(s&&s.length>0&&(i===c.Z.AGGREGATED_COMMENTS||i===c.Z.BOARDLESS_PINS||i===c.Z.PROFILE_PINS_FEED||i===c.Z.STORY_PINS_FEED||i===c.Z.UNIFIED_COMMENTS||i===c.Z.TRIED_IT_FEED||i===c.Z.STORY_PIN_DATA)){const t=s.filter((e=>{const t=r.includes(e.id);return!(e.type===o&&t)}));return{...e,[l]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:i,feedId:n,itemType:a,itemIds:o=[],prepend:r}}=t,l=`${i}:${n}`,s=e[l]||[];if(s&&(i===c.Z.BOARD_SECTION_PINS||i===c.Z.BOARDFEED||i===c.Z.BOARDLESS_PINS)){const t=o.map((e=>({id:e,type:a})));let i=0;"story"===(s[0]||{}).type&&(i=1),"story"===(s[1]||{}).type&&(i=2);const n=[...s.slice(0,i),...t,...s.slice(i)];return{...e,[l]:n}}if(s&&i===c.Z.BOARD_SECTIONS){const t=[...o].reverse().map((e=>({id:e,type:"boardsection"}))),i=s?[...t,...s]:[...t];return{...e,[l]:i}}if(i===c.Z.AGGREGATED_COMMENTS||i===c.Z.AGGREGATED_COMMENT_REPLIES||i===c.Z.PROFILE_PINS_FEED||i===c.Z.STORY_PINS_FEED||i===c.Z.UNIFIED_COMMENTS){const t=o.map((e=>({id:e,type:a}))),i=s?[...r?t:s,...r?s:t]:t;return{...e,[l]:i}}if(i===c.Z.TRIED_IT_FEED){const t=o.map((e=>({id:e,type:a}))),i=s?[...t,...s]:t;return{...e,[l]:i}}break}case"FEED_INVALIDATE":{const{payload:{feedType:i,feedId:n}}=t,a=`${i}:${n}`;if(e[a]||[])return{...e,[a]:null};break}case"APPEND_FEED_ITEMS":{const{payload:{id:i,items:n,options:a}}=t,o=e[i];if(o){let t;return t=a.isPrepend?o[0]&&"story"===o[0].type?[].concat(o[0],n,o.slice(1)):n.concat(o):o.concat(n),{...e,[i]:t}}return{...e,[i]:n}}case"PIN_DELETE":{const{payload:{pinId:i}}=t;return v(e,"pin",i)}case"BOARD_ARCHIVE":{const{payload:{boardId:i,username:n}}=t,a=`profile-boards:${null!=n?n:""}`;if(e[a])return{...e,[a]:e[a].filter((e=>e.id!==i))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:i}}=t,n="archived-boards";if(e[n])return{...e,[n]:e[n].filter((e=>e.id!==i))};break}case"BOARD_DELETE":{const{payload:{boardId:i}}=t;return v(e,"board",i)}case"BOARD_SECTION_DELETE":{const{payload:{boardSectionId:i}}=t;return v(e,"boardsection",i)}case"PINS_MOVE":{const{payload:{source:i,target:n,pinIds:a,userId:o}}=t,r=i.boardlessPins&&o&&`boardless-pins:${o}`||i.boardId&&g(i.boardId,i.sectionId),l=g(n.boardId,n.sectionId);return a.reduce(((e,t)=>h(e,{pinId:t,oldFeedId:r,newFeedId:l})),e)}case"PINS_MOVE_ALL":{const{payload:{source:i,target:n,excludePinIds:a}}=t,o=g(i.boardId,i.sectionId),r=g(n.boardId,n.sectionId),l={...e,[o]:a.map((e=>({type:"pin",id:e})))};return delete l[r],l}case"PIN_EDIT":{const{payload:{pinId:i,boardId:n,sectionId:a="",source:{boardId:o,sectionId:r}}}=t,l=g(o,r),s=g(n,a);return h(e,{pinId:i,oldFeedId:l,newFeedId:s})}case a.AF:if(u.has(t.payload.resource)){const i=t.payload.response.resource_response.data,{board:n}=i;let a;if("quick_saves"===n.layout)a=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;a=e?`board-section-pins:${e}`:`boardfeed:${n.id}`}if(e[a]){const t={...e},n={id:i.id,type:"pin",trackingParams:null==i?void 0:i.tracking_params};return t[a]=[n].concat(e[a]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const i=t.payload.normalizedResponse.result,n=`board-sections:${t.payload.normalizedResponse.entities.boardsections[i].board}`;if(e[n]){const t={...e},a={id:i,type:"boardsection"};return t[n]=[a].concat(e[n]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const i={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},n=["aggregated-comments","unified-comments"];let a={...e};for(const o of n){const n=`${o}:${t.payload.options.objectId}`;e[n]&&(a={...a,[n]:[i].concat(a[n])})}return a}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const i=`${c.Z.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[i]:[...e[i]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:i,reaction_type:n}=t.payload.options;if("reaction"===t.payload.options.action_type){const a=`reactions:${t.payload.options.pin_id}`,o={...e},r={id:`${i}:${t.payload.options.user_id}:${n}`,type:"reaction",trackingParams:void 0};return o[a]=[r].concat(e[a]),o}if("unreaction"===t.payload.options.action_type){const n=`${i}:${t.payload.options.user_id}`;return v(e,"reaction",n)}}break;case"COMPLETE_STORY":{const{payload:{storyId:i}}=t;return v(e,"story",i)}}return e}},345317:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>(e=>(t,i)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,i)])(e)},416297:(e,t,i)=>{i.d(t,{Z:()=>y});var n=i(702664),a=i(616550),o=i(883119),r=i(234983),l=i(491190),s=i(434012),d=i(835686),c=i(217917),u=i(593954),p=i(780621),_=i(161452),h=i(55592),m=i(949413),g=i(785893);function y({alignIconLeft:e,bgColor:t,color:i,disableRedirect:y=!1,fallbackUrl:v,icon:f="arrow-back",onTouch:x,padding:b,placement:P,shouldUseFallbackUrl:w,size:S="lg",viewParameter:I,viewType:T,fallbackUrlForExp:A}){const k=(0,s.ZP)(),E=(0,h.HG)(),{checkExperiment:C}=(0,d.F)(),j=(0,a.useHistory)(),R=(0,a.useLocation)(),D=(0,n.useSelector)((e=>e.session.isAuthenticated)),O=(0,r.Z)(),L=(0,_.Z)(),z=!D&&A&&"/ideas"===v,{viewType:F,viewParameter:N}=(0,l.SU)(),[M,B]=T?[T,I]:[F,N],Z=()=>{const e=c.Z.getItem(m.pm);R.key||"/ideas"!==v?(0,p.My)(`pinner_conversion.back_button.${String(null==e?void 0:e[0].pageType)}`):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)(`web_back_button_click.${String(P)}.is_auth_${String(D)}`),L({action:"click",item:"back-button"}),M&&O({view_type:M,view_parameter:B,element:34,event_type:102}),x&&x(),y||((!R.key||R.state&&"redirect"===R.state.referrer||w)&&v?z?E&&C("web_unauth_backbutton_navigation").anyEnabled?(j.push(A||v),(0,p.My)("web.unauth.back_button.l1interest")):!E&&C("mweb_unauth_backbutton_navigation").anyEnabled?(j.push(A||v),(0,p.My)("mweb.unauth.back_button.l1interest")):j.push(v):j.push(v):R.pathname.includes("/password/reset/")&&R.search&&R.search.includes("?nativeShouldDismiss=true")?j.push("/login/?dismissWebview=true"):j.goBack())};return(0,g.jsx)(u.Z,{id:"back-button",children:e?(0,g.jsx)(o.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===f?-1:-2,children:(0,g.jsx)(o.hU,{accessibilityLabel:k.bt("", "Back", "navigation button", undefined, true),bgColor:t,iconColor:i||t&&!["white","lightGray","transparent"].includes(t)?i:"gray",icon:f,onClick:Z,padding:"auto"!==b?b:2,size:S})}):(0,g.jsx)(o.hU,{accessibilityLabel:k.bt("", "Back", "navigation button", undefined, true),bgColor:t,iconColor:i||t&&!["white","lightGray","transparent"].includes(t)?i:"gray",icon:f,onClick:Z,padding:"auto"!==b?b:2,size:S})})}},190462:(e,t,i)=>{i.d(t,{k:()=>o,s:()=>r});var n=i(667294);const a=(0,n.createContext)(Object.freeze({})),o=a.Provider;function r(){return(0,n.useContext)(a)}},249114:(e,t,i)=>{i.d(t,{Ac:()=>o,c7:()=>a,cg:()=>n});const n=-1,a=5,o=6},723546:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(904062),a=i(618365),o=i(89997);function r({history:e,i18n:t,logContextEvent:i,onSuccess:r,onUndo:l,originalPinId:s,pinId:d,trackingParams:c,disableRepinAnimation:u,showNewUserSavetoProfileAnimation:p,showRepinConfirmation:_,historyPush:h,savePinId:m}){return(g,y)=>{const{pins:v,session:f}=y(),{userId:x}=f,b=v[d],P={name:t.bt("  ", "Quick Saves", "quickSave.boardName", undefined, true),layout:"quick_saves",protected:!1,return_existing:!0,user_id:x};return n.Z.create("BoardResource",P).callCreate().then((n=>{var y,v,x,P;const w=n.resource_response.data;return new a.Z({boardId:w.id,dispatch:g,isQuickSave:!0,history:e,i18n:t,onSuccess:r,onUndo:l,originalPinId:s,pinId:d,section:void 0,showNewUserSavetoProfileAnimation:p,showRepinToasts:e=>_?_(e,u):void 0,trackingParams:c,userId:f.userId,historyPush:h,savePinId:m,pinData:{trackingParams:b?b.tracking_params:void 0,viewParameter:b?(0,o.A)({hasRichMetadata:!!b.rich_metadata,hasRichMetadataProducts:!(null===(y=b.rich_metadata)||void 0===y||!y.products),hasRichMetadataArticle:!(null===(v=b.rich_metadata)||void 0===v||!v.article),hasRichMetadataRecipe:!(null===(x=b.rich_metadata)||void 0===x||!x.recipe)}):void 0,pinnedToBoardId:b?null===(P=b.pinned_to_board)||void 0===P?void 0:P.id:void 0}}).processRepin(i)}))}}},77482:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(883119),a=i(182833),o=i(785893);function r({guide:e,guidedQuery:t,isSlot0Style:i=!1}){const{dominant_color:r,display:l}=e,s=(0,o.jsx)(n.iP,{role:"link",tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:r,whiteSpace:i?void 0:"nowrap"}},"data-test-id":"one-bar-module-3",minWidth:i?void 0:84,padding:4,rounding:"pill",children:(0,o.jsx)(n.xv,{align:i?"start":"center",color:i?(0,a.Yc)()?"inverse":"default":"inverse",lineClamp:i?2:void 0,size:"200",weight:i?"normal":"bold",children:l})})});return i?s:(0,o.jsx)(n.xu,{flex:"none",marginStart:-7,paddingX:4,children:s})}const l={REPLACE:-1,PREPEND:0,APPEND:1};function s({guides:e,isSlot0Style:t=!1,query:i}){const a=({position:e,term:t})=>e===l.REPLACE?t:e===l.PREPEND?`${t} ${i}`:`${i} ${t}`,s=()=>e.map((e=>(0,o.jsx)(r,{guide:e,guidedQuery:a(e),isSlot0Style:t},e.display)));return t?(0,o.jsx)(n.xu,{padding:2,children:(0,o.jsx)(n.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:s()})}):(0,o.jsx)(n.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,o.jsx)(n.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:s()})})}},405920:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),a=i(434012),o=i(785893);function r({buttonText:e,handleDrawerClose:t,isDrawerOpen:i,onClick:r,largeSize:l=!1,reversed:s=!1,invertWhenDrawerIsOpen:d=!1,hasProductFiltersApplied:c=!1}){const u=(0,a.ZP)(),p=d&&i,_=(0,o.jsx)(n.JO,{accessibilityLabel:"",icon:"filter",color:p?"light":"dark"},"filterIcon"),h=e&&(0,o.jsx)(n.xv,{align:"center",color:p?"inverse":"default",weight:"bold",children:e},e),m=s?[h,_]:[_,h];return(0,o.jsx)(n.iP,{onTap:()=>{i?t():r()},rounding:"pill",accessibilityLabel:u.bt("", "Filter", "productsFilterButton", undefined, true),children:(0,o.jsxs)(n.xu,{position:"relative",children:[(0,o.jsx)(n.xu,{display:"flex",justifyContent:"center",alignContent:"center",color:p?"dark":"secondary",rounding:"pill",minHeight:40,paddingX:4,dangerouslySetInlineStyle:l?{__style:{padding:"18px"}}:void 0,children:(0,o.jsx)(n.kC,{gap:{row:2,column:0},alignItems:"center",children:m})}),c&&(0,o.jsx)(n.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",rounding:"pill",top:!0,right:!0})]})})}},281724:(e,t,i)=>{i.d(t,{Z:()=>m,e:()=>p});var n=i(702664),a=i(240684),o=i(883119),r=i(303741),l=i(23668),s=i(967297),d=i(175769),c=i(785893);const u=(0,a.ZP)({resolved:{},chunkName:()=>"storyPins-duplo-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(67631),i.e(19596)]).then(i.bind(i,267442)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 267442}}),p=Object.freeze({white:"inverse",black:"default"}),_={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function h({titleText:e,videoPin:t,videoPlaceholderImage:i}){return(0,c.jsx)(u,{fallback:(0,c.jsx)(o.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:i||t.metadata.thumbnail}),aspectRatio:s.q4,controls:!1,poster:i||t.metadata.thumbnail,src:t.url})}function m({buttonAction:e,buttonCustomization:t,buttonText:i,experience:a,hideCompleteButton:u,imageAlt:p,imageUrl:m,openNewTab:g,storyType:y,titleText:v,titleTextColor:f,titleTextCustomization:x,videoPin:b,videoPlaceholderImage:P}){var w;const S=(0,n.useDispatch)(),{experience_id:I,placement_id:T}=a||{},A=(0,d.Z)({onVisibilityChanged:e=>{e&&a&&"viewed"!==a.status&&(a.status="viewed",S((0,r.UT)(T,I,!1,!0)))}}),k=(0,s.zn)(y),E=k?l.f8:l.hm,C=k?l.sH:l.HI,j=!k,{color:R,fontStyle:D,fontWeight:O,horizontalAlignment:L,fontSize:z}=(0,s.Mf)(x||{},"mweb"),{button_background_color:F,button_text_color:N}=t||{};return(0,c.jsx)(o.xu,{position:"relative",padding:1,marginBottom:2,ref:A,children:(0,c.jsxs)(o.rU,{accessibilityLabel:v,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),a&&S((0,r.CK)(T,I,!1,!0))},target:g?"blank":null,children:[(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,c.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,c.jsx)(o.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===y&&b?(0,c.jsx)(h,{titleText:v,videoPin:b,videoPlaceholderImage:P}):m&&(0,c.jsx)(o.Ee,{alt:p||v||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:m,fit:"cover"})}),j&&(0,c.jsx)(o.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:_.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,c.jsx)(E,{children:(0,c.jsx)(o.xv,{align:L,color:f,italic:"italics"===D,weight:O,children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(w=R||f)&&void 0!==w?w:void 0,fontSize:z}},children:v})})})]})}),!u&&(0,c.jsx)(C,{children:(0,c.jsx)(o.xu,{display:"flex",rounding:"pill",color:k?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:F}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,c.jsx)(o.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{color:N}},children:i})})})})]})})}},680627:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(667294),a=i(702664),o=i(883119),r=i(835686),l=i(578662),s=i(795137),d=i(836153),c=i(942425),u=i(785893);const p=43,_=2;function h({slotIndex:e,storyId:t,exactMatch:i=!1}){const{isAuth:h}=(0,l.Z)(),{checkExperiment:m}=(0,r.F)(),g=(0,d.S6)(),{action:y,aux_fields:v,objects:f,story_type:x,title:b}=(0,a.useSelector)((({stories:e})=>e[t])),P=f[0].id,w=f.slice(1,3).map((({id:e})=>g(e)));return!i&&w.length<2?null:m(h?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(s.qS,{auxData:{content_ids:w.map((e=>null==e?void 0:e.id)),story_id:t,story_type:x,...v},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:p,viewType:_,children:({impressionTrackerRef:e})=>(0,u.jsxs)(o.xu,{ref:e,children:[b&&(0,u.jsx)(o.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(o.xv,{align:"center",children:b.format})}),(0,u.jsx)(c.Z,{action:y,auxData:v,isPinnerAuthorityHero:i,userId:P,userPinsImages236x:i?void 0:w.map((e=>{var t;return null==e||null===(t=e.images)||void 0===t?void 0:t["236x"]})),userSearchRepStyle:i,viewParameter:p,viewType:_})]})}):(0,u.jsx)(s.Hs,{auxData:{content_ids:w.map((e=>null==e?void 0:e.id)),story_id:t,story_type:x,...v},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:p,viewType:_,children:(0,u.jsxs)(n.Fragment,{children:[b&&(0,u.jsx)(o.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(o.xv,{align:"center",children:b.format})}),(0,u.jsx)(c.Z,{action:y,auxData:v,isPinnerAuthorityHero:i,userId:P,userPinsImages236x:i?void 0:w.map((e=>{var t;return null==e||null===(t=e.images)||void 0===t?void 0:t["236x"]})),userSearchRepStyle:i,viewParameter:p,viewType:_})]})})}},623582:(e,t,i)=>{i.d(t,{UG:()=>_,ZP:()=>m,aG:()=>h});var n=i(667294),a=i(883119),o=i(658342),r=i(434012),l=i(405967),s=i(161452),d=i(315983),c=i(785893);const u=12,p=24,_={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},h={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function m({backgroundColor:e,bubbleId:t,bubbleUrl:i,coverImageUrl:m,curator:g,font:y,format:v,height:f,identifierIconType:x,onTap:b,pwtSurfaceContext:P,referringSource:w,subtitle:S,title:I,buttonFormat:T,contentAlign:A="center",textAlign:k="center",width:E="100%"}){const C=(0,r.ZP)(),j=(0,s.Z)(),[R,D]=(0,n.useState)("string"==typeof f?void 0:f),O=e=>{if(e){const t=e.offsetWidth,i="string"==typeof f?Number.parseFloat(f):100;D(t*i/100)}};if(!R)return(0,c.jsx)(a.xu,{ref:O,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof f?Number.parseFloat(f)+"%":"100%",width:E}}});const L=v===_.article,z=v===_.interest,F=y||R>250&&"lg"||R>140&&v&&[_.medium,_.small,_.article].includes(v)&&"md"||R<120&&v&&v===_.small&&"xs"||"sm";return(0,c.jsx)(a.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":w,children:(0,c.jsx)(d.MZ,{to:i,isAppUpsellDisabled:!0,onTouch:()=>{b&&(j({action:"click",item:"search-suggestion"}),b(t))},rounding:4,children:(0,c.jsxs)(a.zd,{rounding:4,children:[(0,c.jsx)(a.xu,{width:E,height:R,children:m&&(0,c.jsx)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{P&&P.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:m})}),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:h.bubbleOverlay,height:R,width:E,position:"absolute",top:!0,left:!0}),g&&!L&&(0,c.jsx)(a.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,c.jsx)(o.qE,{outline:!0,size:"xs",src:g.image_small_url,name:g.full_name})}),!!x&&x!==l.J&&(0,c.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:p,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:p,children:(0,c.jsx)(a.JO,{icon:(0,l.Z)(x),accessibilityLabel:C.bt(" ", "Shopping icon", "bubble.shoppingIcon.label", undefined, true),color:"default",size:u})}),(0,c.jsx)(a.xu,{display:"flex",position:"absolute",top:!0,width:E,height:R,padding:L||z?6:R>100?3:1,alignItems:L||z?"end":"center",justifyContent:A,children:(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[S&&(0,c.jsx)(a.xv,{align:k,color:"light",size:"lg"===F?"300":"100",overflow:"normal",children:S}),["lg","md"].includes(F)?(0,c.jsx)(a.X6,{align:k,size:"md"===F&&z?"500":"lg"===F?"600":"400",color:"light",overflow:"normal",children:I}):(0,c.jsx)(a.xv,{align:k,color:"light",size:"sm"===F?"300":"100",overflow:"normal",weight:"bold",children:I}),g&&L&&(0,c.jsxs)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,c.jsx)(a.xu,{marginEnd:2,children:(0,c.jsx)(o.qE,{outline:!0,size:"xs",src:g.image_small_url,name:g.full_name})}),(0,c.jsx)(a.xv,{size:"100",color:"light",weight:"bold",children:g.full_name})]}),T&&(0,c.jsx)(a.xu,{marginTop:4,children:(0,c.jsx)(a.ZP,{text:T.text,href:T.href,size:T.size,accessibilityLabel:T.accessibilityLabel})})]})})]})})})}},884086:(e,t,i)=>{i.d(t,{Z:()=>y});var n,a=i(667294),o=i(702664),r=(i(167912),i(883119)),l=i(234983),s=i(59674),d=i(405967),c=i(340289),u=i(795137),p=i(84419),_=i(785893);const h=void 0!==n?n:n=i(456778);function m({auxData:e,pattern:t,slotIndex:i,storyId:n,viewType:o,viewParameter:s,storyData:{storyType:h,referringSource:m,hasTitle:g,titleFormat:y,identifierIconName:v,actionUrl:f,actionText:x,bubblesData:b},storyGraphqlRef:P}){const w=(0,l.Z)(),S={story_type:h,story_id:n,content_ids:b.map((({type:e,id:t})=>e+":"+t)).join("|"),...e};return(0,_.jsx)(u.Hs,{loggingId:n,objectIdStr:n,viewParameter:s,viewType:o,slotIndex:i,component:200,auxData:S,children:(0,_.jsxs)(a.Fragment,{children:[g&&(0,_.jsxs)(r.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof v&&v!==d.J&&(0,_.jsx)(r.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,_.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:(0,d.Z)(v),size:14})}),(0,_.jsx)(r.xv,{weight:"bold",children:y})]}),(0,_.jsx)(p.Z,{pattern:t,referringSource:m,storyId:n,viewParameter:s,viewType:o,storyGraphqlRef:P}),f&&x&&(0,_.jsx)(r.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,_.jsx)(r.ZP,{accessibilityLabel:x,color:"gray",onClick:()=>{w({view_type:o,view_parameter:s,aux_data:S,event_type:102})},text:x,href:f,rel:(0,c.Z)(f)?"nofollow":void 0,target:(0,c.Z)(f)?"blank":void 0,size:"md"})})]})})}const{useStoryDerivedData:g}=(0,s.tK)(h,{useGraphQLAdapter:({storyType:e,storyTitle:t,referringSource:i,displayOptions:n,action:a,objects:o})=>({storyType:e,referringSource:i,hasTitle:!!t,titleFormat:null==t?void 0:t.format,identifierIconName:null==n?void 0:n.identifierIconName,actionUrl:null==a?void 0:a.url,actionText:(null==a?void 0:a.text)||void 0,bubblesData:(null==o?void 0:o.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||""}))).filter(Boolean))||[]}),useLegacyAdapter:e=>{var t,i,n,a;const r=((null==e?void 0:e.objects)||[]).map((e=>e.id))||[],l=(0,o.useSelector)((({articles:e})=>r.map((t=>{const i=e[t];return{type:i.type,id:i.id}}))));return e?{storyType:e.story_type,referringSource:e.referring_source,hasTitle:!!e.title,titleFormat:null===(t=e.title)||void 0===t?void 0:t.format,identifierIconName:null===(i=e.display_options)||void 0===i?void 0:i.identifier_icon_name,actionUrl:null===(n=e.action)||void 0===n?void 0:n.url,actionText:null===(a=e.action)||void 0===a?void 0:a.text,bubblesData:l}:null}});function y({storyGraphqlRef:e,storyId:t,...i}){const[n,a]=g(e?{graphqlRef:e}:t);return n&&(0,_.jsx)(m,{...i,storyId:t,storyData:n,storyGraphqlRef:a})}},84419:(e,t,i)=>{i.d(t,{Z:()=>p});var n,a=i(702664),o=(i(167912),i(883119)),r=i(59674),l=i(623582),s=i(901178),d=i(785893);function c({storyData:{storyType:e,bubblesData:t},onTouch:i,pattern:n=[l.UG.medium],pwtSurfaceContext:a,referringSource:r,storyId:c,viewParameter:u,viewType:p}){const _=t.map((({type:e,id:t})=>e+":"+t)).join("|");return(0,d.jsx)(o.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:t.map(((t,h)=>{var m;const g=n[h%n.length];return(0,d.jsx)(o.xu,{paddingY:1,width:[l.UG.small,l.UG.extra_small].includes(g)?"calc(50% - 4px)":"100%","data-test-id":`bubble-${h}`,children:(0,d.jsx)(s.ZP,{auxData:{content_ids:_,story_type:e,grid_index:h},bubbleId:t.id,format:g,height:([l.UG.medium,l.UG.extra_small].includes(g)?"50%":g===l.UG.article&&"73%")||"100%",onTouch:i,pwtSurfaceContext:a,referringSource:r,slotIndex:h,storyId:c,viewParameter:u,viewType:p,bubbleGraphqlRef:"ExploreArticle"===(null===(m=t.bubbleGraphqlRef)||void 0===m?void 0:m.__typename)?t.bubbleGraphqlRef:null})},`bubble-${h}`)}))})}const{useStoryDerivedData:u}=(0,r.tK)(void 0!==n?n:n=i(103018),{useGraphQLAdapter:e=>{var t;return{storyType:e.storyType,bubblesData:(null===(t=e.objects)||void 0===t?void 0:t.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||"",bubbleGraphqlRef:e}))).filter(Boolean))||[]}},useLegacyAdapter:e=>{const t=((null==e?void 0:e.objects)||[]).map((e=>e.id))||[],i=(0,a.useSelector)((({articles:e})=>t.map((t=>{const i=e[t];return{id:i.id,type:i.type}}))));return e?{storyType:e.type,bubblesData:i}:null}});function p({storyGraphqlRef:e,storyId:t,...i}){const[n]=u(e?{graphqlRef:e}:t);return n&&(0,d.jsx)(c,{...i,storyId:t,storyData:n})}},901178:(e,t,i)=>{i.d(t,{Bp:()=>m,VM:()=>h,ZP:()=>y});i(167912);var n,a=i(463839),o=i(234983),r=i(59674),l=i(835686),s=i(935057),d=i(578662),c=i(795137),u=i(623582),p=i(785893);const _=({storyCategory:e,query:t,referringSource:i,bubbleId:n,storyId:o,title:r})=>{const l=null!=e&&(0,a.y)(e),d=(0,s.XP)({q:t,rs:i||void 0,b_id:n,source_id:o}),c=l&&r?(0,a.x)({title:r,id:n,articleType:"discover"}):`/discover/article/${n}/`;return l?c:"/search/pins/"+(d?"?"+d:"")},h=e=>{var t,i,n,a,o,r,l,s,d;return{actionUrl:null===(t=e.action)||void 0===t?void 0:t.url,coverImage236xUrl:null===(i=e.cover_images[0]["236x"])||void 0===i?void 0:i.url,coverImage474xUrl:null===(n=e.cover_images[0]["474x"])||void 0===n?void 0:n.url,coverImage136x136Url:null===(a=e.cover_images[0]["136x136"])||void 0===a?void 0:a.url,coverImage170xUrl:null===(o=e.cover_images[0]["173x"])||void 0===o?void 0:o.url,coverImage222xUrl:null===(r=e.cover_images[0]["222x"])||void 0===r?void 0:r.url,coverImage90x90Url:null===(l=e.cover_images[0]["90x90"])||void 0===l?void 0:l.url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.full_name,curatorImageSmallUrl:null===(d=e.curator)||void 0===d?void 0:d.image_small_url,dominantColors:e.dominant_colors,id:e.id,identifierIconType:e.identifier_icon_type,storyCategory:e.story_category,titleFormat:e.title.format}};function m({auxData:e,bubbleData:{actionUrl:t,coverImage236xUrl:i,coverImage474xUrl:n,coverImage136x136Url:a,coverImage170xUrl:r,coverImage222xUrl:s,coverImage90x90Url:h,curatorFullName:m,curatorImageSmallUrl:g,dominantColors:y,id:v,identifierIconType:f,storyCategory:x,titleFormat:b},font:P,format:w,height:S,onTouch:I,pwtSurfaceContext:T,referringSource:A,slotIndex:k,storyId:E,viewParameter:C,viewType:j,width:R="100%"}){const D=(0,o.Z)(),O=(0,d.Z)(),{checkExperiment:L}=(0,l.F)();if(!((i||n||a||r||s||h)&&b))return null;const z=m&&g?{full_name:m,image_small_url:g}:void 0,{isAuth:F}=O,N={"236x":i,"474x":n,"136x136":a,"170x":r,"222x":s,"90x90":h};let M="",B="";if(F&&5===j){M=L("blp_explore_bubble_image_size").group;const e=M.split("_");e.length>1&&(B=e[1])}const Z=M.startsWith("enabled")&&B?N[B]:N["474x"]||N["236x"],U=t||_({storyCategory:x,query:b,referringSource:A,bubbleId:v,storyId:E,title:b}),G=w===u.UG.article?13865:200,H=w===u.UG.article?102:6940,K=y&&y.length?y[0]:void 0;return(0,p.jsx)(c.fv,{auxData:{story_id:E,...e},impressionData:{storyCategory:x,storyIdStr:E},impressionType:"articleImpressions",loggingId:E,slotIndex:k,viewParameter:C,viewType:j,children:(0,p.jsx)(u.ZP,{backgroundColor:K,bubbleId:v,bubbleUrl:U,coverImageUrl:Z,curator:z,font:P,format:w,height:S,identifierIconType:f,onTap:t=>{D({component:G,event_type:H,object_id_str:t,view_parameter:C,view_type:j,aux_data:{article_id:t,grid_index:k,...e}}),I&&I({query:b})},pwtSurfaceContext:T,referringSource:A,title:b,width:R})})}const{useExploreArticleDerivedData:g}=(0,r.n6)(void 0!==n?n:n=i(67153),{useGraphQLAdapter:e=>{var t,i,n,a,o,r,l,s,d,c;return{actionUrl:null===(t=e.action)||void 0===t?void 0:t.url,coverImage236xUrl:null===(i=e.coverImage236x)||void 0===i?void 0:i[0].url,coverImage474xUrl:null===(n=e.coverImage474x)||void 0===n?void 0:n[0].url,coverImage136x136Url:null===(a=e.coverImage136x136)||void 0===a?void 0:a[0].url,coverImage170xUrl:null===(o=e.coverImage170x)||void 0===o?void 0:o[0].url,coverImage222xUrl:null===(r=e.coverImage222x)||void 0===r?void 0:r[0].url,coverImage90x90Url:null===(l=e.coverImage90x90)||void 0===l?void 0:l[0].url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.fullName,curatorImageSmallUrl:null===(d=e.curator)||void 0===d?void 0:d.imageSmallUrl,dominantColors:e.dominantColors,id:e.entityId||"",identifierIconType:e.identifierIconType,storyCategory:e.storyCategory,titleFormat:null===(c=e.articleTitle)||void 0===c?void 0:c.format}},useLegacyAdapter:e=>e&&h(e)});function y({bubbleGraphqlRef:e,bubbleId:t,...i}){const[n]=g(e?{graphqlRef:e}:t);return n&&(0,p.jsx)(m,{...i,bubbleData:n})}},95849:(e,t,i)=>{i.d(t,{q:()=>a,z:()=>n});const n=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator"],a="checklist_education_feed_card"},933944:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(343224);const a=({containerTypeIsItemGrid:e,storyType:t})=>"BUBBLE_ONE_COL"===t||e&&!(0,n.Z)({storyType:t})},343224:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(95849);const a=({storyType:e})=>n.z.includes(e)},389416:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(883119),a=i(434012),o=i(714376),r=i(785893);function l({isPinRep:e}){const t=(0,a.ZP)(),i=e?"default":"inverse",l=(0,r.jsx)(n.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,r.jsx)(n.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,r.jsxs)(n.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(n.xu,{paddingY:4,children:(0,r.jsx)(n.JO,{accessibilityLabel:t.bt("  ", "Pin not available", "story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel", undefined, true),color:i,icon:"alert",size:20})}),(0,r.jsx)(n.xv,{align:"center",color:i,weight:"bold",children:t.bt(" ", "Unavailable", "story-pin.Closeup.UnavailableStoryPin.Unavailable", undefined, true)}),(0,r.jsx)(n.xu,{paddingY:1,children:(0,r.jsx)(n.xv,{align:"center",color:i,children:t.bt("    ", "Removed by the creator", "story-pin.Closeup.UnavailableStoryPin.Removed", undefined, true)})})]})})});return e?l:(0,r.jsx)(n.xu,{height:"100vh",children:(0,r.jsx)(o.Z,{children:l})})}},702012:(e,t,i)=>{i.d(t,{Ai:()=>S,B5:()=>h,CR:()=>c,Cc:()=>r,HG:()=>x,R_:()=>s,Wz:()=>l,_P:()=>f,dX:()=>P,gx:()=>u,h8:()=>a,hk:()=>d,lp:()=>g,lt:()=>_,oe:()=>b,r4:()=>v,rM:()=>w,tD:()=>p});var n=i(883119);const a={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},o={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},r={...o,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},l={...o,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},s=64,d=64,c=48,u=48,p=new n.Ry(5),_=new n.H3([p]),h=new n.H3([_]),m=new n.H3([p]),g=new n.H3([m]),y=2,v=4;function f(e){return e?{paddingX:0,paddingY:0}:{paddingX:y,paddingY:v}}const x=6,b=47,P=8,w=4,S=5},519024:(e,t,i)=>{i.d(t,{Z:()=>v});var n=i(883119),a=i(898524),o=i(434012),r=i(233423),l=i(55592),s=i(785893);const d=28,c=40,u=48,p=48,_=28,h="#696969";function m({ideaPinImages:e}){const t={1:d,2:c,3:u},i=e.map(((e,t)=>{var i,a,o;return(0,s.jsx)(n.xu,{height:p,width:_,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,s.jsx)(n.Ee,{alt:"",src:null!==(i=null==e?void 0:e.url)&&void 0!==i?i:"",color:h,fit:"cover",naturalHeight:null!==(a=null==e?void 0:e.height)&&void 0!==a?a:1,naturalWidth:null!==(o=null==e?void 0:e.width)&&void 0!==o?o:1})},t)}));return(0,s.jsx)(n.kC,{justifyContent:"center",children:(0,s.jsx)(n.kC,{justifyContent:"start",width:t[e.length],children:i})})}const g=3,y=5e3;function v({handleHide:e,text:t,userId:i,href:d,imageUrl:c}){const u=(0,o.ZP)(),p=(0,l.HG)(),_=(0,r.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:i}}),h=Array.isArray(t)?t.join(" "):t;if(0===(_.data||[]).length)return(0,s.jsx)(a.ZP,{duration:y,onHide:e,text:h,href:d,thumbnail:c?{image:(0,s.jsx)(n.Ee,{alt:u.bt("   ", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}:void 0});const v=(_.data||[]).slice(0,g).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[p?"236x":"170x"]})),f=(0,s.jsx)(m,{ideaPinImages:v});return(0,s.jsx)(a.ZP,{href:d,duration:y,onHide:e,_dangerouslySetThumbnail:f,text:h})}},524944:(e,t,i)=>{i.d(t,{Z:()=>w});var n,a=i(702664),o=i(167912),r=i(883119),l=i(260531),s=i(654571),d=i(55053),c=i(434012),u=i(443426),p=i(51506),_=i(785893);const h=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:i,isLego:n,isSelected:a,locale:o,nameTextSize:l,renderAsPill:s,showFollowerCount:d,topicName:h,followerCount:m,image:g})=>{var y;const v=(0,c.ZP)(),f=(0,u.Z)(),x=(0,_.jsx)(r.JO,{accessibilityLabel:v.bt("", "Selected", " - ", undefined, true),color:"inverse",icon:n?"check":"check-circle",size:n?12:24});return s?(0,_.jsx)(p.Z,{color:e||"#767676",image:g,isSelected:null!=a&&a,title:h}):(0,_.jsxs)(r.xu,{position:"relative","aria-selected":a,children:[(0,_.jsx)(r.zd,{rounding:n||i?4:2,children:(0,_.jsxs)(r.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,_.jsx)(r.xu,{bottom:!0,left:!0,padding:n&&a?1:0,position:"absolute",right:!0,rounding:n&&a?4:0,top:!0,children:(0,_.jsx)(r.Ee,{alt:h,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(y=g.url)&&void 0!==y?y:""})}),(0,_.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:n&&a?"4px solid #767676":"none"}},rounding:n?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),n&&a&&(0,_.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),i?(0,_.jsx)(r.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,_.jsx)(r.xv,{align:"center",color:"light",size:l,weight:"bold",children:h})}):(0,_.jsxs)(r.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,_.jsx)(r.xv,{color:"inverse",size:l,weight:"bold",children:h}),d&&m>=0&&(0,_.jsx)(r.xu,{paddingY:1,children:(0,_.jsxs)(r.xv,{color:"inverse",size:"100",children:[(0,_.jsx)(r.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:f(o,m,{shortform:!0,shortform_maximum_fraction_digits:1})}),v.bt("", "followers", " - ", undefined, true)]})})]}),a&&(0,_.jsx)(r.xu,{margin:2,position:"absolute",right:!0,top:!0,children:n?(0,_.jsx)(r.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:x}):x})]})},m=void 0!==n?n:n=i(944488),g=({topicRef:e,...t})=>{var i,n,a,r,l,s;const d=(0,o.useFragment)(m,e),c=d.images?{url:null!==(i=d.images.url)&&void 0!==i?i:"",width:null!==(n=d.images.width)&&void 0!==n?n:0,height:null!==(a=d.images.height)&&void 0!==a?a:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,_.jsx)(h,{backgroundColor:null!==(r=d.background_color)&&void 0!==r?r:"",topicName:null!==(l=d.name)&&void 0!==l?l:"",followerCount:null!==(s=d.follower_count)&&void 0!==s?s:0,image:c,...t})},y=({topic:e,topicBlob:t,topicInfoForContextualExp:i,...n})=>{const a=i||e||t||{},o=a.images["236x"]||a.images["400x"]||a.images["474x"]||a.images.orig||{height:1,url:"",width:1},r=a.follower_count||-1;return(0,_.jsx)(h,{backgroundColor:a.background_color,topicName:a.name,followerCount:r,image:o,...n})};var v;const f=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:n=!1,nameTextSize:o="lg",onTouch:c,padding:u=2,renderAsPill:p,showFollowButton:h=!1,showFollowerCount:m=!1,shouldClickthrough:v=!1,topic:f,viewParameter:x,viewType:b})=>{const P=(0,a.useDispatch)(),{locale:w}=(0,l.B)(),S=(0,_.jsxs)(r.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==f.type?(0,_.jsx)(y,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:w,nameTextSize:o,renderAsPill:p,showFollowerCount:m,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp}):(0,_.jsx)(g,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:w,nameTextSize:o,renderAsPill:p,showFollowerCount:m,topicRef:f.topicRef}),!!f&&h&&(0,_.jsx)(r.xu,{paddingY:2,children:(0,_.jsx)(s.Z,{textType:t?"AddRemove":"FollowFollowing",followEventType:601,id:f.id,invertColors:t,inline:t,isFollowed:f.is_followed,onFollow:e=>P((0,d.ZN)(e)),onUnfollow:e=>P((0,d.fv)(e)),size:"md",unfollowEventType:602,viewParameter:x||void 0,viewType:b||void 0})})]});let I="/";return f&&(I=`/topics/${f.id}`),v&&f.slug?(0,_.jsx)(r.iP,{role:"link",onTap:({event:e})=>{null==c||c(e)},tapStyle:"compress",rounding:2,href:I,children:(0,_.jsx)(r.xu,{padding:u,children:S})}):S},x=void 0!==v?v:v=i(897614),b=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:i,isLego:n,isSelected:a=!1,nameTextSize:r="lg",onTouch:l,padding:s=2,renderAsPill:d,showFollowButton:c=!1,showFollowerCount:u=!1,shouldClickthrough:p=!1,viewParameter:h,viewType:m})=>{var g,y;const v=(0,o.useFragment)(x,e);return(0,_.jsx)(f,{decreaseNamePadding:t,isHomefeedTuner:i,isLego:n,isSelected:a,nameTextSize:r,onTouch:l,padding:s,renderAsPill:d,showFollowButton:c,showFollowerCount:u,shouldClickthrough:p,viewParameter:h,viewType:m,topic:{id:null!==(g=v.entityId)&&void 0!==g?g:"",type:"graphql",is_followed:null!==(y=v.is_followed)&&void 0!==y&&y,topicRef:v}})},P=({id:e,topic:t,topicBlob:i,topicInfoForContextualExp:n,decreaseNamePadding:o=!1,isHomefeedTuner:r,isLego:l,isSelected:s=!1,nameTextSize:d="lg",onTouch:c,padding:u=2,renderAsPill:p,showFollowButton:h=!1,showFollowerCount:m=!1,shouldClickthrough:g=!1,viewParameter:y,viewType:v})=>{const x=(0,a.useSelector)((({topics:t})=>t[e])),b=null!=t?t:x;return(0,_.jsx)(f,{decreaseNamePadding:o,isHomefeedTuner:r,isLego:l,isSelected:s,nameTextSize:d,onTouch:c,padding:u,renderAsPill:p,showFollowButton:h,showFollowerCount:m,shouldClickthrough:g,viewParameter:y,viewType:v,topic:{id:e,is_followed:!(null==b||!b.is_followed),topic:b,topicBlob:i,topicInfoForContextualExp:n,type:"resource"}})},w=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:n=!1,nameTextSize:a="lg",onTouch:o,padding:r=2,renderAsPill:l,showFollowButton:s=!1,showFollowerCount:d=!1,shouldClickthrough:c=!1,viewParameter:u,viewType:p,...h})=>h.topicRef?(0,_.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,nameTextSize:a,onTouch:o,padding:r,renderAsPill:l,showFollowButton:s,showFollowerCount:d,shouldClickthrough:c,viewParameter:u,viewType:p,topicRef:h.topicRef}):(0,_.jsx)(P,{id:h.id,decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,nameTextSize:a,onTouch:o,padding:r,renderAsPill:l,showFollowButton:s,showFollowerCount:d,shouldClickthrough:c,topic:h.topic,topicBlob:h.topicBlob,topicInfoForContextualExp:h.topicInfoForContextualExp,viewParameter:u,viewType:p})},974865:(e,t,i)=>{i.d(t,{Z:()=>B});var n,a=i(667294),o=i(167912),r=i(616550),l=i(883119),s=i(545168),d=i(434012),c=i(376410),u=i(56397),p=i(426093),_=i(639429),h=i(301351),m=i(835686),g=i(260531),y=i(699372),v=i(835460),f=i(780621),x=i(966223),b=i(328227),P=i(833979),w=i(478124),S=i(836153),I=i(785893);const T=250,A=({children:e,onTap:t,testId:i})=>{const[n,o]=(0,a.useState)(!1);return(0,I.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem","data-test-id":`more-options-${i}`,children:(0,I.jsx)(l.iP,{onTap:t,onBlur:()=>o(!1),onFocus:()=>o(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:e})})},k=void 0!==n?n:n=i(823722),E=({i18n:e,pinId:t,showSignupModal:i,attributionLabelSource:n})=>(0,I.jsx)(A,{testId:"save",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:n}),i({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${n}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:t}}})},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:e.bt(" ", "Save image", "dweb.unauth.context_menu.link.save_image", undefined, true)})},"SaveMenuItem"),C=({i18n:e,pinTitle:t,pinDescription:i,pinId:n,bestPinImgSrc:a,attributionLabelSource:o,logContextEvent:r,pinCategory:s,checkExperiment:d,showSignupModal:c})=>(0,I.jsx)(A,{testId:"download",onTap:()=>{const{expName:e,expGroup:l,limitReached:u,oldCount:p,newCount:_}=(0,b.HM)(d,"dweb_download_in_context_menus_closeup");(0,f.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:o,expName:e,expGroup:l,limitReached:u,oldCount:p,newCount:_}),u?c({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${o}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:n}}}):(0,b.ZP)({filename:t||i||n,imgSrc:a||"",category:s,pinId:n,isUnauth:!0,platform:"web",expName:e,expGroup:l},r)},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:e.bt(" ", "Download image", "Button to download Pin image", undefined, true)})},"DownloadMenuItem"),j=({pinId:e,pinLink:t,fromEllipsisButton:i,attributionLabelSource:n,showSignupModal:a,i18n:o})=>(0,I.jsx)(A,{testId:"new-tab",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:n}),window.open(i?t:`/pin/${e}/`),i||a({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:o.bt("     ", "Open link in new tab", "dweb.unauth.context_menu.link.plp_new_tab", undefined, true)})},"NewTabMenuItem"),R=({history:e,levelOneInterestUrl:t,searchUrl:i,levelOneInterestName:n,i18n:a,interestTag:o,attributionLabelSource:r})=>(0,I.jsx)(A,{testId:"interests",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:r}),t?e.push(`${t}`):e.push(i)},children:n?(0,I.jsx)(l.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(a.bt("      {{levelOneInterestName}}", "See more ideas about {{levelOneInterestName}}", "dweb.unauth.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:n})}):(0,I.jsx)(l.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(a.bt("      {{interestTag}}", "See more ideas about {{interestTag}}", "dweb.unauth.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:o})})},"MoreInterestsMenuItem"),D=({history:e,sourceUserUsername:t,sourceUserFullname:i,i18n:n,attributionLabelSource:a})=>(0,I.jsx)(A,{testId:"from-creator",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.more_from_creator",{attributionLabelSource:a}),e.push(`/${t}/`)},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(n.bt("    {{full_name}}", "See more from {{full_name}}", "dweb.unauth.context_menu.link.more_from_creator", undefined, true),{full_name:i})})},"MoreFromCreatorMenuItem"),O=({attributionLabelSource:e,showSignupModal:t,i18n:i})=>(0,I.jsx)(a.Fragment,{children:(0,I.jsx)(A,{testId:"login-or-signup",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.login_signup",{attributionLabelSource:e}),t({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${e}_signup_or_login_button`,desktopOptions:{modalType:"login"}})},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:i.bt("       ", "Log in or sign up for more", "dweb.unauth.context_menu.link.login_signup", undefined, true)})})},"LoginSignupMenuItem"),L=({attributionLabelSource:e,reportLink:t,i18n:i})=>(0,I.jsx)(a.Fragment,{children:(0,I.jsx)(A,{testId:"netzdg",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.report_pin_netzdg",{attributionLabelSource:e}),window.open(t,"_blank")},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:i.bt("    NetzDG", "Report Pin for NetzDG", "dweb.unauth.context_menu.link.report_pin_netzdg", undefined, true)})})},"ReportForNetzDGMenuItem"),z=({attributionLabelSource:e,reportLink:t,i18n:i})=>(0,I.jsx)(a.Fragment,{children:(0,I.jsx)(A,{testId:"dsa",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:e}),window.open(t,"_blank")},children:(0,I.jsx)(l.xv,{size:"200",weight:"bold",children:i.bt("       ", "Report Pin for EU local law violation", "dweb.unauth.context_menu.link.report_pin_dsa", undefined, true)})})},"ReportForDSAMenuItem");function F({desktopContextMenuState:e,isMainPinImage:t,source:i,imagesUrls:n,embedSrc:a,embedType:o,sourceUserUsername:c,sourceUserFullname:p,pinJoinVisualAnnotation:_,pinJoinSeoBreadcrumbName:h,pinJoinSeoBreadcrumbUrl:f,pinId:x,pinLink:P,pinTitle:S,pinDescription:A,pinCategory:k,pinEligibleForDownload:F}){var N;const M=(0,d.ZP)(),B=(0,r.useHistory)(),{logContextEvent:Z}=(0,s.v)(),{countryFromIp:U,isAuthenticated:G,isBot:H,isSocialBot:K}=(0,g.B)(),{checkExperiment:V}=(0,m.F)(),W=G?V("web_auth_exclude_original_images").anyEnabled:V("web_unauth_exclude_original_images").anyEnabled,$=(0,u.Z)({imagesUrls:n,embedSrc:a,embedType:o,excludeOriginals:!H&&!K&&W}),q=h,Y=f,X=null!==(N=null==_?void 0:_[0])&&void 0!==N?N:void 0,J=(0,y.Z)(X),Q=`/search/pins/?q=${encodeURIComponent(J)}&rs=image_only_attribution`,ee=(0,v.Z)(),te="dweb.plp.ellipsis.button"===i,ie="DE"===U,{COUNTRY_CODES:ne}=w.LAW_CONFIGURATION.dsa,ae=ne.includes(U);if(!$)return null;const oe=(0,u.Z)({imagesUrls:n,embedSrc:a,embedType:o,excludeOriginals:!H&&!K&&W});let re="related_pin_right_click";te?re="action_bar_ellipsis":t&&(re="right_click");const le=[{component:()=>E({i18n:M,pinId:x,showSignupModal:ee,attributionLabelSource:re})},{component:()=>F&&(0,b.SU)(V,"dweb_download_in_context_menus_closeup")&&C({i18n:M,pinTitle:S,pinDescription:A,pinId:x,bestPinImgSrc:oe,attributionLabelSource:re,logContextEvent:Z,pinCategory:k,checkExperiment:V,showSignupModal:ee})},{component:()=>!(t||te&&!P)&&j({i18n:M,pinId:x,pinLink:P,fromEllipsisButton:te,showSignupModal:ee,attributionLabelSource:re})},{component:()=>!!(X||q&&Y)&&R({history:B,levelOneInterestUrl:Y,searchUrl:Q,levelOneInterestName:q,i18n:M,interestTag:X,attributionLabelSource:re})},{component:()=>!(!p||!c)&&D({history:B,sourceUserUsername:c,sourceUserFullname:p,i18n:M,attributionLabelSource:re})},{component:()=>!V("dweb_remove_login_signup_options_from_context_menus").anyEnabled&&O({showSignupModal:ee,i18n:M,attributionLabelSource:re})},{component:()=>ie&&V("lop_netzdg_launch").anyEnabled&&L({reportLink:`https://www.pinterest.com/about/netzdg/?pinId=${x}`,i18n:M,attributionLabelSource:re})},{component:()=>ae&&!ie&&V("lop_dsa_launch").anyEnabled&&z({reportLink:`https://www.pinterest.com/about/dsa/?pinId=${x}`,i18n:M,attributionLabelSource:re})}].map((({component:e})=>e())).filter((e=>!!e));return(0,I.jsxs)(l.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},zIndex:new l.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:T,children:[(0,I.jsx)(l.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,I.jsx)(l.JO,{icon:"pinterest",accessibilityLabel:M.bt(" Pinterest", "Pinterest logo", "dweb.unauth.context_menu.pinterest_logo", undefined, true),color:"brandPrimary"})}),le]})}function N({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:i,...n}){var a,r,l,s,d,c,u,m,g,y,v,f,b,P,w;const S=(0,o.useFragment)(k,e),T=(0,_.hy)(null==S?void 0:S.storyPinDataId),A=Boolean(null==S||null===(a=S.videos)||void 0===a?void 0:a.videoList),E=null==S?void 0:S.isUnsafe,C=!T&&!A&&!E,j=(0,x.Z)(S);let R;var D,O;(R=null!=S&&S.nativeCreator?S.nativeCreator:null!=S&&S.linkDomain?S.linkDomain.officialUser:(null==S?void 0:S.originPinner)||(null==S?void 0:S.pinner),R)||(R=null!==(D=null==S||null===(O=S.linkDomain)||void 0===O?void 0:O.officialUser)&&void 0!==D?D:null==S?void 0:S.pinner);const L=null==S?void 0:S.title,z=null==S?void 0:S.description,N=null==S?void 0:S.gridTitle,M=null!==(r=null==S||null===(l=S.richSummary)||void 0===l?void 0:l.displayName)&&void 0!==r?r:"",B=null!==(s=null==S||null===(d=S.richMetadata)||void 0===d?void 0:d.title)&&void 0!==s?s:"",Z=null!==(c=null==S||null===(u=S.richMetadata)||void 0===u?void 0:u.description)&&void 0!==c?c:"",U=null==S?void 0:S.storyPinDataId,G=null==S||null===(m=S.storyPinData)||void 0===m||null===(g=m.metadata)||void 0===g?void 0:g.pinTitle,H=(null==S||null===(y=S.pinJoin)||void 0===y?void 0:y.visualAnnotation)||void 0,K=null==S?void 0:S.closeupDescription,V=null==S?void 0:S.closeupUnifiedDescription,W=(null==S?void 0:S.category)||"",$=(0,h.Ly)({pinTitle:L,gridTitle:N,richSummaryDisplayName:M,richMetadataTitle:B,storyPinDataId:U,storyPinDataMetadataPinTitle:G,pinJoinVisualAnnotation:H}),q=(0,p.Z)({storyPinDataId:U,pinDescription:z,richMetadataDescription:Z,richSummaryDisplayName:M,closeupDescription:K,closeupUnifiedDescription:V});return(0,I.jsx)(F,{...n,embedSrc:(null==S?void 0:S.embed)&&S.embed.src,embedType:(null==S?void 0:S.embed)&&S.embed.type,imagesUrls:j,sourceUserUsername:null===(v=R)||void 0===v?void 0:v.username,sourceUserFullname:null===(f=R)||void 0===f?void 0:f.fullName,pinJoinVisualAnnotation:null==S||null===(b=S.pinJoin)||void 0===b?void 0:b.visualAnnotation,pinJoinSeoBreadcrumbName:(null==S||null===(P=S.pinJoin)||void 0===P?void 0:P.seoBreadcrumbs)&&(S.pinJoin.seoBreadcrumbs.length>0?S.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==S||null===(w=S.pinJoin)||void 0===w?void 0:w.seoBreadcrumbs)&&(S.pinJoin.seoBreadcrumbs.length>0?S.pinJoin.seoBreadcrumbs[0].url:null),pinId:t,pinTitle:$,pinDescription:q,pinCategory:W,pinEligibleForDownload:C})}function M({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:i,...n}){var a,o,r,l,s,d,c,u,m,g,y,v,f,x,b;const w=(0,S.S6)()(t),T=null==w?void 0:w.story_pin_data_id,A=null==w?void 0:w.videos,k=(0,_.hy)(T),E=!(null==A||!A.video_list),C=null==w?void 0:w.title,j=null==w?void 0:w.description,R=null==w?void 0:w.grid_title,D=null!==(a=null==w||null===(o=w.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==a?a:"",O=null==w?void 0:w.category,L=null==w?void 0:w.images,z=null!==(r=null==w||null===(l=w.rich_metadata)||void 0===l?void 0:l.description)&&void 0!==r?r:"",N=null!==(s=null==w||null===(d=w.rich_summary)||void 0===d?void 0:d.display_name)&&void 0!==s?s:"",M=null==w?void 0:w.closeup_description,B=null==w?void 0:w.closeup_unified_description,Z=null==w||null===(c=w.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,U=null==w||null===(m=w.pin_join)||void 0===m?void 0:m.visual_annotation,G=null==w?void 0:w.is_unsafe,H=!k&&!E&&!G,{link_domain:K,native_creator:V,origin_pinner:W,pinner:$}=w||{};let q=(0,P.wS)(K,V,W,$);var Y,X;q||(q=null!==(Y=null==w||null===(X=w.link_domain)||void 0===X?void 0:X.official_user)&&void 0!==Y?Y:null==w?void 0:w.pinner);const{full_name:J,username:Q}=null!==(g=q)&&void 0!==g?g:{},ee=(0,h.Ly)({pinTitle:C,gridTitle:R,richSummaryDisplayName:N,richMetadataTitle:D,storyPinDataId:T,storyPinDataMetadataPinTitle:Z,pinJoinVisualAnnotation:U}),te=(0,p.Z)({storyPinDataId:T,pinDescription:j,richMetadataDescription:z,richSummaryDisplayName:N,closeupDescription:M,closeupUnifiedDescription:B});return(0,I.jsx)(F,{...n,embedSrc:null==w||null===(y=w.embed)||void 0===y?void 0:y.src,embedType:null==w||null===(v=w.embed)||void 0===v?void 0:v.type,imagesUrls:L?Object.keys(L).reduce(((e,t)=>{var i;return t?{...e,[t]:null===(i=L[t])||void 0===i?void 0:i.url}:e}),{}):void 0,sourceUserUsername:Q,sourceUserFullname:J,pinJoinVisualAnnotation:null==w||null===(f=w.pin_join)||void 0===f?void 0:f.visual_annotation,pinJoinSeoBreadcrumbName:(null==w||null===(x=w.pin_join)||void 0===x?void 0:x.seo_breadcrumbs)&&(w.pin_join.seo_breadcrumbs.length>0?w.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==w||null===(b=w.pin_join)||void 0===b?void 0:b.seo_breadcrumbs)&&(w.pin_join.seo_breadcrumbs.length>0?w.pin_join.seo_breadcrumbs[0].url:null),pinId:t,pinTitle:ee,pinDescription:te,pinCategory:O,pinEligibleForDownload:H})}function B(e){return e.graphqlRef?(0,I.jsx)(N,{...e}):(0,I.jsx)(M,{...e})}},498562:(e,t,i)=>{i.d(t,{X:()=>c,f:()=>d});var n=i(667294),a=i(946689),o=i(639429);function r(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var l=i(785893);const{Provider:s,useHook:d}=(0,a.Z)("ReportData");function c({children:e}){const[t,i]=(0,n.useReducer)(r,null),a=(0,n.useCallback)((()=>i({type:"REPORT_CONTENT_DISMISS"})),[]),d=(0,n.useCallback)(((e,t,n)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:n}})),[]),c=(0,n.useCallback)(((e,t,n)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"conversation"}})),[]),u=(0,n.useCallback)(((e,t,n)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"}})),[]),p=(0,n.useCallback)(((e,t,n)=>{const{id:a,is_downstream_promotion:r,promoter:l,rich_metadata:s,rich_summary:d,videos:c}=e,u=(0,o.VX)(s,d),p=(0,o.jL)(r,!!l);let _;const h=null==c?void 0:c.video_list;if(h){const e=h[Object.keys(h)[0]];_=null==e?void 0:e.duration}i({type:"REPORT_CONTENT_SHOW",payload:{id:a,isProduct:u,isPromoted:p,videoDuration:_,viewParameter:t,viewType:n,type:"pin"}})}),[]),_=(0,n.useMemo)((()=>({reportData:t,dismiss:a,reportComment:d,reportConversation:c,reportImage:u,reportPin:p})),[t,a,d,c,u,p]);return(0,l.jsx)(s,{value:_,children:e})}},441706:(e,t,i)=>{i.d(t,{Z:()=>l});var n,a=i(667294),o=i(167912);const r=void 0!==n?n:n=i(782194),l=e=>{var t;const i=(0,o.useFragment)(r,e),n=null==i||null===(t=i.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray;return(0,a.useMemo)((()=>null==n?void 0:n.reduce(((e,{name:t,url:i})=>t?{...e,[t]:{name:t,url:i}}:e),{})),[n])}},942425:(e,t,i)=>{i.d(t,{Z:()=>S});var n=i(667294),a=i(702664),o=i(883119),r=i(234983),l=i(658342),s=i(434012),d=i(443426),c=i(376410),u=i(260531),p=i(340289),_=i(315983),h=i(654571),m=i(795137),g=i(434850),y=i(392407),v=i(785893);const f={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},x=({height:e,image:t,width:i})=>{var n,a,r;const l=(0,s.ZP)();return(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,v.jsxs)(o.xu,{position:"relative",children:[(0,v.jsx)(o.GH,{width:i,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,v.jsx)(o.Ee,{alt:l.bt(" ", "pin image", "alt text for pin image", undefined, true),color:t.dominant_color||void 0,naturalWidth:null!==(n=t.width)&&void 0!==n?n:1,naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,src:null!==(r=t.url)&&void 0!==r?r:""})}),(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:f,height:e,width:i,position:"absolute",top:!0,left:!0})]}):(0,v.jsx)(o.xu,{color:"secondary",width:i,height:e})})};var b=i(567187);const P=60,w=117;function S({action:e,auxData:t,isPinnerAuthorityHero:i=!1,userSearchRepStyle:f=!1,onFollowUser:S,onUnfollowUser:I,userId:T,userPinsImages236x:A,viewParameter:k,viewType:E,truncateName:C=!1}){const j=(0,s.ZP)(),R=(0,d.Z)(),D=(0,a.useDispatch)(),{locale:O}=(0,u.B)(),L=(0,r.Z)(),[z,F]=(0,n.useState)(f?window.innerWidth-16:null),N=(0,y.mN)()(T);if(!N)return null;const{contextual_pin_image_urls:M,explicitly_followed_by_me:B,follower_count:Z=0,full_name:U,image_medium_url:G,is_verified_merchant:H,recent_pin_images:K,username:V,verified_identity:W}=N,$=e=>z?(z-(e-1))/e:0,q=f?1.6*$(4):w,Y=A||[],X=(null==K?void 0:K["222x"])||(null==K?void 0:K["192x"])||[];let J=(null==M?void 0:M["222x"])||(null==M?void 0:M["192x"])||[];i&&0===J.length&&(J=X);const Q=f&&J.length<=0;let ee=f?J.concat(X).slice(0,4):Y.concat(X).slice(0,2);0===ee.length&&(ee=[void 0,void 0]);const te=!Q&&(z?(0,v.jsx)(o.zd,{rounding:4,children:(0,v.jsx)(o.kC,{children:ee.map(((e,t)=>(0,v.jsx)(x,{height:q,image:e,width:$(ee.length)},`pinImage-${t}`)))})}):(0,v.jsx)(o.xu,{height:q,ref:e=>{e&&F(e.offsetWidth)},width:"100%"})),ie=e=>(0,v.jsx)(o.kC,{justifyContent:"center",children:(0,v.jsx)(o.xu,{marginTop:e,height:P,width:P,children:(0,v.jsx)(l.qE,{outline:!0,name:null!=U?U:"",src:null!=G?G:""})})}),ne=e=>(0,v.jsxs)(o.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,v.jsx)(o.kC,{alignItems:"stretch",maxWidth:(f?(z||0)/2:z)||void 0,children:(0,v.jsx)(o.xv,{align:e,weight:"bold",lineClamp:C?1:void 0,children:H||null!=W&&W.verified?(0,v.jsx)(b.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=U?U:"",verifiedType:H?"verifiedMerchant":"verifiedIdentity",truncate:C}):U})}),(0,v.jsx)(o.xv,{inline:!0,size:"100",align:e,children:(0,c.nk)(j.nbt(["{{followers}}  ", "{{followers}}  ", "{{followers}}  ", "{{followers}}  ", "{{followers}}  ", "{{followers}}  "], Z, "PinnerAuthority.followersCount", true),{followers:R(O,Z,{shortform:!0})})})]}),ae=(0,v.jsx)(o.kC,{justifyContent:"center",children:e&&e.url?(0,v.jsx)(o.ZP,{accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{L({event_type:9029,object_id_str:T,view_type:E,view_parameter:k,aux_data:t})},rel:(0,p.Z)({url:e.url})?"nofollow":void 0,target:(0,p.Z)({url:e.url})?"blank":void 0}):(0,v.jsx)(h.Z,{id:T,isSecondaryButton:!0,isFollowed:B,onFollow:e=>{S&&S(),D((0,g.ZN)(e))},onUnfollow:e=>{I&&I(),D((0,g.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:k,viewType:E})});return(0,v.jsx)(m.Cy,{loggingId:T,objectIdStr:T,slotIndex:0,viewParameter:k,viewType:E,children:({impressionTrackerRef:e})=>(0,v.jsx)(o.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,v.jsx)(_.MZ,{to:`/${V}/`,onTouch:()=>{L({event_type:43,object_id_str:T,view_parameter:k,view_type:E})},children:(0,v.jsxs)(o.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[te,f?(0,v.jsx)(o.xu,{width:"100%",children:(0,v.jsxs)(o.kC,{justifyContent:"between",alignItems:"center",children:[(0,v.jsxs)(o.kC,{alignItems:"center",gap:{row:2,column:0},children:[ie(),ne("start")]}),ae]})}):(0,v.jsxs)(o.kC,{direction:"column",gap:{row:0,column:2},children:[ie(-10),ne("center"),ae]})]})})})})}},567187:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),a=i(883119),o=i(524209),r=i(785893);const l=function({badgeSize:e,badgeSpacing:t,fullName:i,verifiedType:l,truncate:s=!1}){const d=i.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,r.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(a.xv,{lineClamp:1,weight:"bold",children:i}),(0,r.jsx)(a.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,r.jsx)(o.Z,{isVerifiedMerchant:"verifiedMerchant"===l,size:e,showVerifiedIdentity:"verifiedIdentity"===l})})]}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)("span",{children:c}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u,"",(0,r.jsx)(a.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,r.jsx)(o.Z,{isVerifiedMerchant:"verifiedMerchant"===l,size:e,showVerifiedIdentity:"verifiedIdentity"===l})})]})]})}},739482:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(883119),a=i(765767),o=i(434012),r=i(785893);const l=24;function s({duration:e}){const t=(0,o.ZP)();return(0,r.jsxs)(n.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:l,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,r.jsx)(n.JO,{accessibilityLabel:t.bt("  ", "Video camera icon", "Video camera indicator icon for a Pin", undefined, true),color:"light",icon:"video-camera"}),(0,r.jsx)(n.xu,{marginStart:1,children:(0,r.jsx)(n.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,a.Z)(e)})})]})}},198354:(e,t,i)=>{i.d(t,{ZP:()=>S});var n=i(667294),a=i(23279),o=i.n(a),r=i(883119),l=i(545168),s=i(203598),d=i(356255),c=i(829241);function u(e){const{eventData:{videoEvent:{videoDuration:t,startTime:i,endTime:n,videoStartTime:a,videoEndTime:o,isAudible:r,height:l,width:s,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:_,viewability:h}},component:m,objectId:g,view:y,viewParameter:v,...f}=e;return{component:m,object_id_str:g,view_type:y,view_parameter:v,aux_data:{...f},event_data:{videoEventData:{videoDuration:t,time:i,endTime:n,videoTime:a,endVideoTime:o,isAudible:r,height:l,width:s,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:_,viewability:h}}}}var p=i(895331),_=i(785893);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const m=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],y="-64px 0px 0px 0px",v={rootMargin:y,threshold:g},f={rootMargin:y,threshold:c.i},x=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function b(){return(new Date).getTime()}function P(e){return!!e.volume&&e.volume>0}class w extends n.Component{constructor(e){super(e),h(this,"videoWrapperRef",(0,n.createRef)()),h(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:i}=this.currentInterval;e.height!==t||e.width!==i?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),h(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),h(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),h(this,"handleLoop",(()=>{this.videoTime=0})),h(this,"handleTimeChange",(e=>{const{seeking:t,ready:i}=this.state;if(!this.currentInterval.videoDuration)return;const n=1e3*e.time,a=function(e,t,i,n){if(e>t)return null;if(i<=0)return null;for(const a of n){const n=a*i;if(e<=n&&t>n)return a}return null}(this.videoTime,n,this.currentInterval.videoDuration,m);if("number"==typeof a&&this.props.playing&&!t&&i){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)})),h(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),h(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),h(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),h(this,"handleVisibilityChange",(e=>{if(0===e.length)return;const t=e.slice(-1)[0],i=function(e,t){for(let i=0;i<t.length;i+=1){const n=t[i],a=t[i+1];if(null==a)return n;if(n<=e&&e<a)return n}return null}(Number.parseFloat(t.intersectionRatio.toFixed(2)),g);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:x.PAUSED}):this.startNewInterval({viewability:i}))})),h(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),h(this,"handleClose",(()=>{this.startNewInterval()})),h(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=b();this.handleWindowResize=o()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:P(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const i={};P(e)&&!P(this.props)?i.isAudible=!1:!P(e)&&P(this.props)&&(i.isAudible=!0);const n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==n&&(i.playbackState=n),Object.keys(i).length>0&&this.startNewInterval(i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?x.PLAYING:x.PAUSED:x.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const i=this.videoWrapperRef.current;i.clientHeight&&i.clientWidth&&(e=i.clientHeight,t=i.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:i,contextLogData:n,logContextEvent:a}=this.props,{height:o,width:r,windowHeight:l,windowWidth:s,viewability:d,...c}=t;if(null!=o&&null!=r&&null!=l&&null!=s&&null!=d){const t={...c,height:o,width:r,windowHeight:l,windowWidth:s,viewability:i||d};a({event_type:e,...u({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=b();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{aspectRatio:e,backgroundColor:t,captions:i,contextLogData:n,controls:a,cropHeight:o,hlsConfig:l,inAdsDesktopVideoExperiment:c,isAutoPlay:u,loop:h,objectFit:m,onLoadedChange:g,onControlsPause:y,onControlsPlay:x,onSeek:b,onVolumeChange:P,playbackRate:w,playing:S,playsInline:I,poster:T,preload:A,rootMargin:k,src:E,surface:C,videoStartTime:j,volume:R}=this.props,{seeking:D}=this.state,O=c?f:v;return void 0!==k&&(O.rootMargin=C?(0,d.e)(C):k),(0,_.jsx)(s.Z,{options:O,onVisibilityChange:this.handleVisibilityChange,children:(0,_.jsx)(r.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:o?{display:"flex",alignItems:"center",height:`${o}px`}:{}},children:(0,_.jsx)(p.default,{aspectRatio:o?236/o:e,backgroundColor:t,captions:i,contextLogData:n,controls:a,hlsConfig:l,isAutoPlay:u,loop:h,objectFit:m,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:g,onLoop:this.handleLoop,onControlsPause:y,onControlsPlay:x,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:b,onTimeChange:this.handleTimeChange,onVolumeChange:P,playbackRate:w,playing:!D&&S,onPlay:()=>{},onPlayError:()=>{},playsInline:I,poster:T,preload:A,src:E,videoStartTime:j,visible:this.visible,volume:R})})})}}function S(e){const{logContextEvent:t}=(0,l.v)();return(0,_.jsx)(w,{...e,logContextEvent:t})}h(w,"defaultProps",r.nk.defaultProps)},418255:(e,t,i)=>{i.d(t,{Z:()=>dt});var n=i(55592),a=i(578662),o=i(167912),r=i(616550),l=i(883119),s=i(996141),d=i(434012),c=i(835686),u=i(444089),p=i(233423),_=i(1889),h=i(667294),m=i(702664),g=i(882345),y=i(554392),v=i(545168),f=i(842625),x=i(90096),b=i(396681),P=i(340439),w=i(790936),S=i(640003),I=i(589042),T=i(323386),A=i(272628),k=i(935057),E=i(278286);const C=.9;function j(e,t){let i=0,n=!1,a=-1;return e.forEach(((e,o)=>{const{x:r=0,y:l=0,h:s=0,w:d=0}=e,c=function(e,t){const{x:i,y:n,w:a,h:o}=e,{x:r,y:l,w:s,h:d}=t,c=a*o,u=s*d,p=Math.max(i,r),_=Math.min(i+a,r+s),h=Math.max(n,l),m=Math.min(n+o,l+d),g=p<_&&h<m?(_-p)*(m-h):0;return g/(c+u-g)}(t,{x:r,y:l,h:s,w:d});c>=C&&c>i&&(i=c,n=!0,a=o)})),{isCropAreaOnDotArea:n,dotIndexToHide:a}}var R=i(951108),D=i(878891),O=i(819555),L=i(627740),z=i(234983),F=i(655127),N=i(853156),M=i(785893);function B({pinDominantColor:e,url:t,closeupImageWidth:i,closeupImageHeight:n}){const a=(0,d.ZP)();return(0,M.jsx)(N.Z,{alt:a.bt(" ", "Pin image", "flashlight.cropper.closeupImage", undefined, true),color:e,isFlashlightPage:!0,naturalHeight:n,naturalWidth:i,placeholder:t,showSpinner:!1,src:t})}const Z=9,U=24,G=e=>{const{alt:t,src:i,top:n,left:a}=e;return(0,M.jsx)(l.xu,{position:"absolute",height:U,width:U,dangerouslySetInlineStyle:{__style:{top:n,left:a}},children:(0,M.jsx)(l.Ee,{alt:t,color:"transparent",naturalHeight:U,naturalWidth:U,src:i})})};var H=i(538282),K=i.n(H),V=i(129261),W=i.n(V),$=i(346184),q=i.n($),Y=i(136880),X=i.n(Y),J=i(416297);const Q=2,ee={backgroundColor:"#000000",opacity:"0.4"};function te({closeupImage:e,closeupImageDims:t,cropArea:{x:i,y:n,w:a,h:o},disableBorder:r,disableHandles:s,handleBackClick:c,onTouchEnd:u,onTouchMove:p,onTouchStart:_,pinDominantColor:h,showBackButton:m,viewParameter:g}){var y;const v=(0,d.ZP)(),f=null!==(y=null==e?void 0:e.url)&&void 0!==y?y:"",{closeupImageWidth:x,closeupImageHeight:b,closeupImageTop:P}=t,w=Math.floor(b*n),S=Math.floor(x*i),I=Math.floor(b*o),T=Math.floor(x*a),A=S+T,k=w+I;return(0,M.jsxs)(l.xu,{onTouchMove:p,onTouchStart:_,onTouchEnd:u,position:"relative",children:[(0,M.jsx)(B,{pinDominantColor:h,url:f,closeupImageWidth:x,closeupImageHeight:b}),(0,M.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:ee},height:w,left:!0,position:"absolute",top:!0,width:"100%"}),(0,M.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{...ee,top:w}},left:!0,height:I,position:"absolute",width:S}),(0,M.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{...ee,top:w,left:A}},height:I,position:"absolute",right:!0}),(0,M.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{...ee,top:k}},bottom:!0,left:!0,position:"absolute",width:"100%"}),m&&(0,M.jsx)(l.xu,{"data-test-id":"cancelButton",position:"absolute",left:!0,top:!0,margin:4,dangerouslySetInlineStyle:{__style:{top:-P}},children:(0,M.jsx)(J.Z,{color:"white",disableRedirect:!0,icon:"cancel",onTouch:c,padding:1,size:"md",viewParameter:g,viewType:427})}),!s&&(0,M.jsxs)(l.xu,{"data-test-id":"CropperHandles",children:[(0,M.jsx)(G,{alt:v.bt("   ", "Top left cropper handle", "flashlight.cropper.topLeftHandle", undefined, true),src:q(),top:w-Z,left:S-Z}),(0,M.jsx)(G,{alt:v.bt("   ", "Top right cropper handle", "flashlight.cropper.topRightHandle", undefined, true),src:X(),top:w-Z,left:A-(U-Z)}),(0,M.jsx)(G,{alt:v.bt("   ", "Bottom left cropper handle", "flashlight.cropper.bottomLeftHandle", undefined, true),src:K(),top:k-(U-Z),left:S-Z}),(0,M.jsx)(G,{alt:v.bt("   ", "Bottom right cropper handle", "flashlight.Cropper.BottomLeftHandle", undefined, true),src:W(),top:k-(U-Z),left:A-(U-Z)})]}),(0,M.jsx)(l.xu,{"data-test-id":"CroppedArea",position:"absolute",rounding:2,height:I+2*Q,width:T+2*Q,dangerouslySetInlineStyle:{__style:{top:w-Q,left:S-Q,border:r?void 0:`${Q}px solid #ffffff`}}})]})}var ie=i(251324);const ne=16,ae=32;function oe({auxData:e,onClick:t,shouldLogDotRender:i,showNoHalo:n,style:a,viewParameter:o,x:r,y:s}){const c=(0,d.ZP)(),u=(0,z.Z)(),p=ne,_=ae;return(0,E.Z)((()=>{i&&u({aux_data:e,element:1221,event_type:120,view_parameter:o,view_type:72})})),n?(0,M.jsx)("div",{"data-test-id":"dot",onClick:t,onKeyPress:t,role:"button",style:{position:"absolute",top:s-p/2,left:r-p/2,outline:"none",...a},"aria-label":c.bt("    ", "Select a specific item on image", "dot.accessibilityLabel", undefined, true),tabIndex:"0",children:(0,M.jsx)(l.xu,{"data-test-id":"dot",color:"light",position:"absolute",padding:0,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:p,height:p,border:"none",borderRadius:p}}})}):(0,M.jsx)("div",{"data-test-id":"dot",onClick:t,onKeyPress:t,role:"button",style:{position:"absolute",top:s-_/2,left:r-_/2,outline:"none",...a},"aria-label":c.bt("    ", "Select a specific item on image", "dot.accessibilityLabel", undefined, true),tabIndex:"0",children:(0,M.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.1)",width:_,height:_,border:"none",borderRadius:_,cursor:t?"pointer":"default"}},children:(0,M.jsx)(l.xu,{color:"light",position:"absolute",padding:0,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:p,height:p,border:"none",borderRadius:p,top:(_-p)/2,left:(_-p)/2}}})})})}var re=i(746448);const le="flashlightDotPop",se=(0,re.Ll)([`\n  ${le} {\n      0% {\n          opacity: 0;\n          transform: scale(0);\n      }\n\n      100% {\n          opacity: 1;\n          transform: scale(1);\n      }\n  }\n`,"labelReveal {\n    0% {\n      transform: scale(0, 1)\n    }\n\n    100% {\n      transform: scale(1, 1)\n    }\n  }\n"]),de=e=>{const t=parseFloat((.1*e).toFixed(2));return{animation:`${le} 0.3s ease-out ${t}s both`}};function ce({closeupImageTop:e,imageHeight:t,imageTop:i,imageWidth:n,onDotTap:a,pinId:o,pinImageSignature:r,setCropArea:l,shouldLogDotRender:s,showNoHalo:d,viewParameter:c,visualObjects:u,visualObjectToHide:p}){const _=(0,z.Z)();return(0,M.jsxs)(h.Fragment,{children:[(0,M.jsx)(b.Z,{unsafeCSS:se}),u.map(((h,m)=>{if(m===p)return null;const{x:g=0,y=0,w:v=0,h:f=0}=h,x={x:g,y,h:f,w:v},b=(0,ie.Z)({cropArea:h,scaledWidth:n,scaledHeight:t}),P=Math.floor(b.x+b.w/2),w=Math.floor(b.y+i+b.h/2)-e,S=de(m),I={pin_id:o,image_signature:r,visual_objects:JSON.stringify([x]),commerce_data:JSON.stringify({entrypoint:"flashlight",pin_is_stela:"false"})};return(0,M.jsx)(oe,{auxData:I,onClick:function(){_({aux_data:I,element:1221,event_type:102,view_parameter:c,view_type:72}),a({cropArea:x,cropSource:4,visualObjects:u}),null==l||l(x)},shouldLogDotRender:s,style:S,x:P,y:w,showNoHalo:d,viewParameter:c},JSON.stringify(x))}))]})}var ue=i(256807);const pe=U/2,_e={OUTSIDE:0,INSIDE:1,LEFT_CROPPER:2,RIGHT_CROPPER:3,TOP_CROPPER:4,BOTTOM_CROPPER:5,TOP_LEFT_HANDLE:6,TOP_RIGHT_HANDLE:7,BOTTOM_LEFT_HANDLE:8,BOTTOM_RIGHT_HANDLE:9,NONE:10};function he({closeupImage:e,closeupImageDims:t,cropArea:i,entryPoint:n,handleBackClick:a,handleChangeCloseupImageTop:o,handleCropperChange:r,headerHeight:s,inUnifiedFeedExp:d,pinDominantColor:c,pinId:u,pinImageSignature:p,viewParameter:_,visualObjects:m,visualObjectToHide:g}){const y=(0,z.Z)(),v=(0,h.useRef)(),[f,x]=(0,h.useState)(0),[b,P]=(0,h.useState)(0),[w,S]=(0,h.useState)(_e.NONE),[I,T]=(0,h.useState)(i),{current:A}=(0,F.Z)(),{x:k,y:E,w:C,h:j}=I,{closeupImageTop:R,closeupImageMinTop:D,closeupImageWidth:O,closeupImageHeight:L,minCropperWidthRatio:N,minCropperHeightRatio:B}=t,G=s||0,H={top:R};return(0,M.jsxs)(l.xu,{overflow:"hidden",position:"fixed",dangerouslySetInlineStyle:{__style:H},ref:v,maxWidth:ue.g6,width:"100%",children:[(0,M.jsx)(te,{closeupImage:e,closeupImageDims:t,cropArea:I,handleBackClick:a,onTouchEnd:()=>{if(![_e.NONE,_e.OUTSIDE].includes(w)){const e=w===_e.INSIDE?7603:7604;y({event_type:e,view_parameter:_,view_type:72}),r({cropArea:I,cropSource:6,visualObjects:m})}},onTouchMove:e=>{const{clientX:t,clientY:i}=e.touches[0];if(x(t),P(i),w===_e.NONE){const e=((e,t)=>{const i=t-R,n=e-(v.current?v.current.getBoundingClientRect().left:0),a=L*E,o=L*(E+j),r=O*k,l=O*(C+k);return i>a+pe&&i<o-pe&&n>r+pe&&n<l-pe?_e.INSIDE:n<=r+pe&&n>=r-pe&&i>=a+(U-Z)&&i<=o-(U-Z)?_e.LEFT_CROPPER:n<=l+pe&&n>=l-pe&&i>=a+(U-Z)&&i<=o-(U-Z)?_e.RIGHT_CROPPER:n<=l-(U-Z)&&n>=r+(U-Z)&&i>=a-pe&&i<=a+pe?_e.TOP_CROPPER:n<=l-(U-Z)&&n>=r+(U-Z)&&i>=o-pe&&i<=o+pe?_e.BOTTOM_CROPPER:n<=r-Z+U&&n>=r-pe&&i>=a-pe&&i<=a+U-Z?_e.TOP_LEFT_HANDLE:n<=l+pe&&n>=l-(U-Z)&&i>=a-pe&&i<=a+U-Z?_e.TOP_RIGHT_HANDLE:n<=r-Z+U&&n>=r-pe&&i>=o-(U-Z)&&i<=o+pe?_e.BOTTOM_LEFT_HANDLE:n<=l+pe&&n>=l-(U-Z)&&i>=o-(U-Z)&&i<=o+pe?_e.BOTTOM_RIGHT_HANDLE:_e.OUTSIDE})(t,i);S(e)}if(null!=N&&null!=B&&null!=D){const e=i-b,n=(t-f)/O,a=e/L,r=Math.min(k+C-N,Math.max(0,k+n)),l=C+(k-r),s=Math.min(E+j-B,Math.max(0,E+a)),d=j+(E-s),c=Math.min(1-k,Math.max(N,C+n)),u=Math.min(1-E,Math.max(B,j+a));switch(w){case _e.OUTSIDE:o(Math.floor(Math.max(D,Math.min(G,R+e))));break;case _e.INSIDE:T((e=>({...e,x:Math.max(0,Math.min(1-C,k+n)),y:Math.max(0,Math.min(1-j,E+a))})));break;case _e.LEFT_CROPPER:T((e=>({...e,x:r,w:l})));break;case _e.RIGHT_CROPPER:T((e=>({...e,w:c})));break;case _e.TOP_CROPPER:T((e=>({...e,y:s,h:d})));break;case _e.BOTTOM_CROPPER:T((e=>({...e,h:u})));break;case _e.TOP_LEFT_HANDLE:T({x:r,w:l,y:s,h:d});break;case _e.TOP_RIGHT_HANDLE:T((e=>({...e,w:c,y:s,h:d})));break;case _e.BOTTOM_LEFT_HANDLE:T((e=>({...e,h:u,x:r,w:l})));break;case _e.BOTTOM_RIGHT_HANDLE:T((e=>({...e,h:u,w:c})))}}},onTouchStart:e=>{const{clientX:t,clientY:i}=e.touches[0];x(t),P(i),S(_e.NONE)},pinDominantColor:c,showBackButton:d,viewParameter:_}),!!m.length&&0!==L&&0!==O&&(0,M.jsx)(l.xu,{"data-test-id":"FlashlightDots",children:(0,M.jsx)(ce,{closeupImageTop:R,entryPoint:n,imageHeight:L,imageTop:R,imageWidth:O,onDotTap:r,pinId:u,pinImageSignature:p,setCropArea:T,shouldLogDotRender:!A,showNoHalo:d,viewParameter:_,visualObjects:m,visualObjectToHide:g})})]})}var me=i(524294),ge=i(476089);const ye=e=>({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}});var ve=i(89679),fe=i(498898),xe=i(345317),be=i(233525),Pe=i(618446),we=i.n(Pe),Se=i(654504),Ie=i(260531),Te=i(780621),Ae=i(133318);function ke(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ee({filterIconShown:e,isRTL:t}){const i=t?"marginRight":"marginLeft",n=t?"marginLeft":"marginRight";return e?{[i]:38,[n]:50,marginTop:15,marginBottom:15}:{[i]:-10,[n]:50,marginTop:15,marginBottom:15}}const Ce={baseStyles:{transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom"}},je=0,Re=1,De=2;class Oe extends h.Component{constructor(...e){super(...e),ke(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,startY:0,scrollDirection:je,shouldAnimate:!1,headerHeight:this.props.headerHeight||0}),ke(this,"onTouchStart",(e=>{const{clientY:t}=e.touches[0];this.setState({startY:t,shouldAnimate:!1,scrollDirection:je})})),ke(this,"onTouchMove",(e=>{const{clientY:t}=e.touches[0],{startY:i,currentDistanceFromTop:n}=this.state,{canMoveModal:a,entryPoint:o,onDismiss:r,logContextEvent:l,maxDistanceFromTop:s,viewParameter:d}=this.props,c=t-i;a&&void 0!==s&&(("CloseupShop"===o||"CloseUpMainPinDrawer"===o)&&c>20&&n>s&&r?(l({event_type:108,view_parameter:d,view_type:427}),this.setState({currentDistanceFromTop:s,startY:0,scrollDirection:je},(()=>r(e)))):(c>0&&n>=0&&n<s&&window.scrollY<=0||c<0&&n<=s&&n>=0)&&this.setModalPosition(t))})),ke(this,"onTouchEnd",(()=>{const{entryPoint:e}=this.props;this.props.shouldSnapToEnds&&this.state.scrollDirection===De?(this.header&&Se.Z.removeObstruction("top",this.header),this.setState({currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0}),e&&(0,Te.My)(`mweb.${e}.snap_to_bottom`)):this.props.shouldSnapToEnds&&this.state.scrollDirection===Re&&(this.setState({currentDistanceFromTop:0,shouldAnimate:!0}),this.header&&Se.Z.addObstruction("top",this.header),e&&(0,Te.My)(`mweb.${e}.sliding_modal.snap_to_top`))})),ke(this,"handleHeaderTouch",(()=>{const{maxDistanceFromTop:e,minDistanceFromTop:t,entryPoint:i}=this.props,{currentDistanceFromTop:n,scrollDirection:a}=this.state;a===je&&(n===e?(this.setState({currentDistanceFromTop:t||0,shouldAnimate:!0}),(0,Te.My)(`mweb.${i}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({currentDistanceFromTop:e,shouldAnimate:!0}),(0,Te.My)(`mweb.${i}.sliding_modal.header_touch.snap_to_bottom`)))})),ke(this,"handleCloseIconTouch",(e=>{const{currentDistanceFromTop:t}=this.state,{onDismiss:i,logContextEvent:n,maxDistanceFromTop:a,viewParameter:o,viewType:r}=this.props;e.stopPropagation(),i&&(n({aux_data:{commerce_data:JSON.stringify({snapped_top:0===t})},element:75,event_type:102,view_parameter:o,view_type:r}),this.setState({currentDistanceFromTop:a,startY:0,scrollDirection:je},(()=>i(e))))})),ke(this,"getModalStyles",(()=>{const{shouldSnapToEnds:e}=this.props,{currentDistanceFromTop:t,shouldAnimate:i}=this.state,{baseStyles:n}=Ce;return{__style:{...n,animation:"modalReveal 0.3s ease-out both",top:t>-1?t:void 0,...e&&i?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}}})),ke(this,"setModalPosition",(e=>{const{startY:t,currentDistanceFromTop:i}=this.state,{maxDistanceFromTop:n,snapToEndThreshold:a,entryPoint:o}=this.props;if(n){const r=e-t,l="CloseupShop"===o||"CloseUpMainPinDrawer"===o?Math.max(0,i+r):Math.min(n,Math.max(0,i+r)),s=Math.floor(l);let d=je;if(void 0!==a&&a>=0){const e=Math.floor(a*n),t=Math.floor((1-a)*n);r<0?d=s>t?De:Re:r>0&&(d=s>e?De:Re)}this.setState({startY:e,currentDistanceFromTop:s,scrollDirection:d})}}))}componentDidMount(){const{isOpen:e}=this.props;e&&Se.Z.pause()}componentDidUpdate(e,t){const{domainFilters:i,priceFilters:n,cropSource:a,isOpen:o,logContextEvent:r,maxDistanceFromTop:l,setHasDraggedDrawerToFullScreen:s,minDistanceFromTop:d,entryPoint:c}=this.props,{currentDistanceFromTop:u}=this.state;if(o&&!e.isOpen?Se.Z.pause():!o&&e.isOpen&&Se.Z.resume(),"CloseUpMainPinDrawer"===c&&l<e.maxDistanceFromTop&&u>l&&this.handleHeaderTouch(),t.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&u===(d||0)&&s&&s(!0),i&&n&&(!we()(i,e.domainFilters)||!we()(n,e.priceFilters))){let e="";e="related_products"===(0,Ae.Z)(a)?3455:3456,r({event_type:13,view_parameter:e,view_type:72,element:11735})}}componentWillUnmount(){const{isOpen:e}=this.props;this.header&&Se.Z.removeObstruction("top",this.header),e&&Se.Z.resume()}render(){const{canMoveModal:e,childPaddingX:t,childPaddingY:i,children:n,headerChildren:a,heading:o,inUnifiedFeedExp:r,isOpen:s,isRTL:d,minDistanceFromTop:c,mobileAccessibilityCloseIconLabel:u,mobileHideCloseIcon:p,noDivider:_,showHandle:h}=this.props,{currentDistanceFromTop:m}=this.state,g=this.getModalStyles(),y=e&&m<=(c||0);return s?(0,M.jsx)(S.Z,{children:(0,M.jsx)(l.mh,{children:(0,M.jsx)(l.xu,{display:"inlineBlock",role:"dialog","aria-label":o,children:(0,M.jsx)(l.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:g,width:"100%",height:"100%",left:!0,onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,rounding:r?8:void 0,position:y?"absolute":"fixed",children:(0,M.jsx)(l.iP,{accessibilityLabel:this.props.i18n.bt("   ", "View all search results", "SlidingModal.Header.a11yLabel", undefined, true),onTap:this.handleHeaderTouch,children:(0,M.jsxs)(l.xu,{position:"relative",children:[h&&(0,M.jsx)(l.xu,{display:"flex",marginTop:2,marginBottom:6,justifyContent:"center",children:(0,M.jsx)("svg",{width:"37",height:"5",viewBox:"0 0 37 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,M.jsx)("rect",{width:"37",height:"5",rx:"2.5",fill:"#E9E9E9"})})}),!p&&(0,M.jsx)(l.Le,{top:this.state.headerHeight||0,children:(0,M.jsxs)(l.xu,{ref:e=>{this.header=e},color:"default",rounding:2,children:[(0,M.jsxs)(l.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,M.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,M.jsx)(l.hU,{accessibilityLabel:u||"Close visual search results",icon:"arrow-back",iconColor:"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,M.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:Ee({isRTL:d})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,M.jsx)(l.X6,{align:"center",size:"400",accessibilityLevel:2,children:o})})]}),a||null,!_&&(0,M.jsx)(l.iz,{})]})}),(0,M.jsx)(l.xu,{overflow:y?"auto":void 0,paddingX:t,paddingY:i,children:n})]})})})})})}):null}}function Le(e){const t=(0,d.ZP)(),i=(0,z.Z)(),{isRTL:n}=(0,Ie.B)();return(0,M.jsx)(Oe,{...e,i18n:t,isRTL:n,logContextEvent:i})}ke(Oe,"defaultProps",{childPaddingX:3,childPaddingY:3});const ze=.6,Fe=.4,Ne=50,Me=.1,Be=58,Ze=4,Ue="\n  html, body {\n    overscroll-behavior: none;\n  }\n";function Ge(){return Math.min(ue.g6,window.innerWidth)}function He(e,t){return Math.floor(Ge()/t*e)}function Ke(e,t){if(!e)return null;var i;if(!t)return null===(i=e.images)||void 0===i?void 0:i["736x"];const{carousel_slots:n=[]}=(0,g.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary})||{},a=n.find((e=>t===e.image_signature));return a?{...(0,y.Z)(a.images)}:null}function Ve(e,t,i){let n=0,a=0;const o=i||0;let r=0;if(e&&e.images){var l,s,d,c;const i=Ke(e,t);n=Ge(),a=He(null!==(l=null==i?void 0:i.height)&&void 0!==l?l:1,null!==(s=null==i?void 0:i.width)&&void 0!==s?s:1),r=function(e,t){const i=Math.floor(ze*window.innerHeight);return Math.min(i,He(e,t))}(null!==(d=null==i?void 0:i.height)&&void 0!==d?d:1,null!==(c=null==i?void 0:i.width)&&void 0!==c?c:1)}return{closeupImageWidth:n,closeupImageHeight:a,closeupImageMinTop:r-a,closeupImageTop:o,minCropperWidthRatio:n?Ne/n:0,minCropperHeightRatio:a?Ne/a:0,modalTop:r}}function We(e,t,i,n){let a=i?Number(i):Fe,o=n?Number(n):Me;e>0&&t>0&&(i||(a=(t-2*t*Me)/e),n||(o=t*Me/e));return{h:a,y:o}}const $e=(0,xe.Z)((e=>`visual-search:${e}`));function qe({cropArea:e,cropSource:t,headerHeight:i,inUnifiedFeedExp:n,pin:o,pinId:s,queryH:u,queryImageSignatureRef:p,queryY:_,searchResourceOptions:g,setCropSource:y,setState:A,state:k,visualSearchFlashlightUnifiedResource:C}){var R,z,F,N;const B=(0,w.E)(),Z=(0,d.ZP)(),{logContextEvent:U}=(0,v.v)(),G=(0,m.useDispatch)(),H=(0,r.useHistory)(),{previous:K}=(0,x.Hv)(),{checkExperiment:V}=(0,c.F)(),W=(0,r.useLocation)(),{isAuth:$}=(0,a.Z)(),q=(null!==(R=null==o?void 0:o.visual_objects)&&void 0!==R?R:[]).filter((e=>e.is_stela)),Y=(null!==(z=null==o?void 0:o.visual_objects)&&void 0!==z?z:[]).filter((e=>!!e.label)),X=(q.length>0||Y.length>0)&&!p.current&&(V("mweb_flashlight_show_more_stela_dots").anyEnabled?q:Y)||[],[J,Q]=(0,h.useState)(j(X,e)),{isCropAreaOnDotArea:ee,dotIndexToHide:te}=J,ie=e=>G(ye(e)),ne=(0,m.useSelector)((e=>$e(e,s))),{data:ae,fetchMore:oe,isAtEnd:re,isFetching:le,isLoaded:se}=C||{},de=(null==ae?void 0:ae.results)||[],ce=de.find((e=>"story"===e.type&&"unified_visual_feed_product_upsell"===e.story_type)),pe=de.filter((e=>"pin"===e.type)),_e=null==ce?void 0:ce.action,{url:xe=`/pin/${s}`,title:Pe=""}=_e||{},we=Z.bt("  ", "Shop similar", "mobileFlashlight.productUpsellTitle", undefined, true),Se=Z.bt("  ", "Image search", "mobileFlashlight.organicFeedTitle", undefined, true),Ie=Z.bt(" ", "Visual search", "Visual search results", undefined, true),Te=n&&(4===t||ee)?3462:3050,Ae=JSON.stringify({is_product_only_feed:!1}),ke=Ke(o,p.current),Ee=k.closeupImageDims.modalTop||0;function Ce(){U({component:14339,element:179,event_type:102,view_parameter:Te,view_type:72})}function je(){0!==K.length?H.goBack():H.replace(`/pin/${s}/`)}return(0,h.useEffect)((()=>{if(o){const e=Ve(o,p.current,i),{closeupImageHeight:t,modalTop:n=0}=e,a=We(t,n,Number(u),Number(_));A((t=>({...t,closeupImageDims:e,...a})))}}),[o]),(0,h.useEffect)((()=>{(ne&&ne.length>0||n&&se)&&B&&B.markConstraintComplete("VisualSearchFeedLoaded")})),(0,E.Z)((()=>{ie(t)})),o&&0!==k.closeupImageDims.modalTop?(0,M.jsxs)(h.Fragment,{children:[(0,M.jsx)(b.Z,{unsafeCSS:Ue}),(0,M.jsx)(D.Z,{auxData:n?{commerce_data:Ae}:void 0,viewParameter:n?3462:3050,viewType:72,children:(0,M.jsx)(T.Z,{view:72,children:(0,M.jsxs)(P.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,M.jsx)(me.Z,{text:Z.bt("  ", "Visual Search Page", "flashlight.accessibilityhiddenheading.fullpage", undefined, true)}),(0,M.jsxs)(l.xu,{color:"default",dangerouslySetInlineStyle:{__style:{touchAction:"none"}},height:"100vw",margin:"auto",maxWidth:ue.g6,children:[(0,M.jsx)(he,{closeupImage:ke,closeupImageDims:k.closeupImageDims,cropArea:e,entryPoint:"flashlight",handleBackClick:je,handleChangeCloseupImageTop:function(e){A((t=>({...t,closeupImageDims:{...t.closeupImageDims,closeupImageTop:e}})))},handleCropperChange:function({cropArea:e,cropSource:t,visualObjects:i}){ie(t),(e=>{G((0,ve.By)(e))})(s),Q(j(i,e)),y(t),A((t=>({...t,...e}))),H.replace(`/pin/${s}/visual-search/?x=${e.x}&y=${e.y}&h=${e.h}&w=${e.w}&cropSource=${t}`)},headerHeight:i,inUnifiedFeedExp:n,pinDominantColor:o.dominant_color||"#efefef",pinId:s,pinImageSignature:o.image_signature,viewParameter:Te,visualObjects:X,visualObjectToHide:te}),(0,M.jsxs)(Le,{canMoveModal:!0,childPaddingX:0,childPaddingY:0,cropSource:t,entryPoint:"flashlight",headerHeight:i,heading:Ie,inUnifiedFeedExp:n,isOpen:!0,location:W,maxDistanceFromTop:Ee,minDistanceFromTop:$?Be:i,mobileAccessibilityCloseIconLabel:Z.bt("   ", "Close visual search results", "close visual search results and go back to pin", undefined, true),mobileHideCloseIcon:n,noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:je,pinId:s,shouldSnapToEnds:!0,showHandle:n,snapToEndThreshold:0,viewParameter:Te,viewType:72,children:[(0,M.jsx)(l.$j,{accessibilityLabel:Z.bt("   ", "Loading visual search results", "mobileFlashlightPage.loadingSpinner", undefined, true),show:n&&!se}),n&&se&&(0,M.jsxs)(h.Fragment,{children:[ce&&(0,M.jsxs)(h.Fragment,{children:[(0,M.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:2,paddingX:Ze,children:[(0,M.jsx)(l.iP,{href:xe,onTap:({event:e})=>{e.stopPropagation(),Ce()},role:"link",tapStyle:"compress",children:(0,M.jsx)(l.X6,{accessibilityLevel:2,size:"400",children:we})}),(0,M.jsx)(l.hU,{accessibilityLabel:Pe||Z.bt(" ", "See more", "headerModule.headerModuleActionButton.iconButton", undefined, true),bgColor:"transparent",dataTestId:"product-upsell-action-button",href:xe,icon:"arrow-forward",iconColor:"darkGray",onClick:Ce,role:"link",size:"sm"})]}),(0,M.jsx)(l.xu,{marginBottom:-4,children:(0,M.jsx)(S.Z,{children:(0,M.jsx)(I.default,{component:14339,disableCarouselHeaderModule:!0,story:ce,storyGraphqlRef:null,surface:"ShoppingDynamicHeightGrid",view:72,viewParameter:3462})})})]}),(0,M.jsx)(l.xu,{marginBottom:3,paddingX:Ze,children:(0,M.jsx)(l.X6,{accessibilityLevel:2,size:"400",children:Se})}),(0,M.jsx)(l.xu,{color:"default",paddingX:f.D6,children:(0,M.jsx)(be.Z,{feedKey:null!==(F=(0,fe.J)("VisualSearchFlashlightUnifiedResource",g))&&void 0!==F?F:"",feedItems:pe,pagination:{loadNext:oe||(()=>{}),hasNext:!re||!1,isLoadingNext:le||!1,refetch:()=>{}},renderFeedItem:(e,t)=>(0,M.jsx)(L.cn,{children:(0,M.jsx)(ge.default,{auxData:{commerce_data:Ae},componentType:0,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams||void 0,viewParameter:3462,viewType:72,duploQueryRef:null})})})})]}),!n&&(0,M.jsx)(l.xu,{color:"default",paddingX:f.D6,children:(0,M.jsx)(O.ZP,{resourceConfig:{name:"VisualLiveSearchResource",options:g},feedItemProps:{viewParameter:3050,viewType:72},feedKey:null!==(N=(0,fe.J)("VisualLiveSearchResource",g))&&void 0!==N?N:"",trafficSource:"flashlight"})})]})]})]})})})]}):null}function Ye(e){const{searchResourceOptions:t}=e,i=(0,p.Z)({name:"VisualSearchFlashlightUnifiedResource",options:t});return(0,M.jsx)(qe,{...e,visualSearchFlashlightUnifiedResource:i})}function Xe({pin:e}){const{checkExperiment:t}=(0,c.F)(),{anyEnabled:i}=t("mweb_flashlight_unified_feed"),o=(0,r.useRouteMatch)(),{pinId:l}=(0,_.Z)(o.params.id||""),s=(0,r.useLocation)(),d=(0,k.mB)(s.search),{cropSource:u,image_signature:p,x:m,y:g,h:y,w:v}=d,{isAuth:f}=(0,a.Z)(),x=(0,n.ZP)(),b=!f&&(0,A.x9)(x)||void 0,P=(0,h.useRef)(p||""),[w,S]=(0,h.useState)((()=>{const t=Ve(e,p,b);t.closeupImageTop=0;const{closeupImageHeight:i,modalTop:n=0}=t,a=We(i,n,Number(y),Number(g));return{closeupImageDims:t,x:m?Number(m):Me,w:v?Number(v):1-2*Me,y:a.y,h:a.h}})),[I,T]=(0,h.useState)((()=>{const e=(0,R.Z)(Number(u));return e||(m&&g&&y&&v?6:5)})),E={x:w.x,y:w.y,w:w.w,h:w.h},C={pin_id:l,crop:E,crop_source:I,image_signature:P.current,is_shopping:!1,entry_source:"flashlight"},j={cropArea:E,cropSource:I,headerHeight:b,inUnifiedFeedExp:i,pin:e,pinId:l,queryH:y,queryImageSignatureRef:P,queryY:g,searchResourceOptions:C,setCropSource:T,setState:S,state:w};return i?(0,M.jsx)(Ye,{...j}):(0,M.jsx)(qe,{...j})}var Je,Qe=i(836153);const et=void 0!==Je?Je:Je=i(839914);function tt(e){var t,i,n;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(i=e.url)&&void 0!==i?i:"",height:null!==(n=e.height)&&void 0!==n?n:0}}function it(e){const t=[];return e.forEach((({additionalImages:e,spec:i})=>{var n;t.push(...null!==(n=function({additionalImages:e,spec:t}){const i=[];return null==e||e.forEach((e=>{var n;e.canonicalImage&&i.push({canonical_images:{[t]:tt(e.canonicalImage)},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""})})),i}({additionalImages:e,spec:i}))&&void 0!==n?n:[])})),t}function nt(e){return null==e?void 0:e.map((e=>{var t,i;return{id:null!==(t=e.itemId)&&void 0!==t?t:"",additional_images:null!==(i=it([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==i?i:[]}}))}function at(e){const t={};return e.forEach((({image:e,spec:i})=>{e&&(t[i]=tt(e))})),t}const ot=(0,s.Z)({useGraphQLAdapter:function({pinId:e}){var t,i,n,a,r;const l=null===(t=(0,o.useLazyLoadQuery)(et,{pinId:e}).v3GetPinQuery)||void 0===t?void 0:t.data;return l?{pin:{id:null!==(i=l.entityId)&&void 0!==i?i:"",dominant_color:null!==(n=l.dominantColor)&&void 0!==n?n:"",visual_objects:null!==(g=l.visualObjects,a=null==g?void 0:g.map((e=>{var t,i,n,a,o,r,l,s,d,c,u,p,_,h;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(i=e.h)&&void 0!==i?i:0,index:null!==(n=e.index)&&void 0!==n?n:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(o=e.label)&&void 0!==o?o:"",label_id:null!==(r=e.labelId)&&void 0!==r?r:0,label_x:null!==(l=e.labelX)&&void 0!==l?l:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(c=e.score)&&void 0!==c?c:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(_=e.w)&&void 0!==_?_:0,y:null!==(h=e.y)&&void 0!==h?h:0}})))&&void 0!==a?a:[],images:null!==(r=at([{image:l.imageOrig,spec:"orig"},{image:l.image736x,spec:"736x"},{image:l.image564x,spec:"564x"},{image:l.image474x,spec:"474x"},{image:l.image236x,spec:"236x"}]))&&void 0!==r?r:{},rich_metadata:(h=l.richMetadata,{products:null!==(m=nt(null==h?void 0:h.products))&&void 0!==m?m:[]}),rich_summary:(p=l.richSummary,{products:null!==(_=nt(null==p?void 0:p.products))&&void 0!==_?_:[]}),carousel_data:(s=l.carouselData,{carousel_slots:null!==(u=null==s?void 0:s.carouselSlots,d=null==u?void 0:u.map((e=>{var t,i;return{image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:"",images:null!==(i=at([{image:e.imageOrig,spec:"orig"},{image:e.image736x,spec:"736x"},{image:e.image564x,spec:"564x"},{image:e.image474x,spec:"474x"},{image:e.image236x,spec:"236x"}]))&&void 0!==i?i:{}}})))&&void 0!==d?d:[],index:null!==(c=null==s?void 0:s.index)&&void 0!==c?c:0}),type:"pin"}}:null;var s,d,c,u,p,_,h,m,g},useLegacyAdapter:function({pinId:e}){const{data:t}=(0,p.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),i=(0,Qe.S6)()(e),n=null!=t?t:i;return n?{pin:n}:null}});function rt(){const{checkExperiment:e}=(0,c.F)(),t=(0,d.ZP)(),i=(0,r.useRouteMatch)(),{pinId:n}=(0,_.Z)(i.params.id||"");return(0,M.jsx)(ot,{input:e("auth_mweb_graphql_flashlight_pinResource").anyEnabled||e("unauth_mweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:n},suspense:{fallback:(0,M.jsx)(l.$j,{accessibilityLabel:t.bt("   ", "Loading Pin data", "mobileFlashlightPage.loadingPinData", undefined, true),show:!0})}}:{enabled:!1,data:{pinId:n}},children:({data:e})=>!!e&&(0,M.jsx)(u.Z,{constraints:["VisualSearchFeedLoaded"],surface:"flashlight",children:(0,M.jsx)(Xe,{pin:e.pin})})})}var lt=i(561254),st=i(908384);const dt=function(){const e=(0,n.HG)(),t=(0,a.Z)();return e?t.isAuth?(0,M.jsx)(st.ZP,{}):(0,M.jsx)(lt.Z,{}):(0,M.jsx)(rt,{})}},294755:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(495608);const a=5e3;function o(){const e=new n.H("/resource/ApiSResource/create/","ApiSResource",(e=>({source:"browser",stats:e})),a);return{log:(t,i,n,a={})=>{const{sampleRate:o=.1,tags:r={}}=a,l=[t,i,n,o,r];e.enqueue(l)}}}},880254:(e,t,i)=>{i.d(t,{LY:()=>r,QX:()=>o,S0:()=>l,nP:()=>a});const n=(0,i(294755).Z)();function a(e,t){n.log(e,1,"c",t)}function o(e,t,i){n.log(e,t,"c",i)}function r(e,t,i){n.log(e,t,"ms",i)}function l(e,t,i){n.log(e,t,"g",i)}},82442:(e,t,i)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/visual-search"]=function(){return i(418255).Z}},373897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,t,i)=>{var n=i(373897);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,t,i)=>{var n=i(386116);e.exports=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){s=!0,r=e},f:function(){try{l||null==i.return||i.return()}finally{if(s)throw r}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:e=>{e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,t,i)=>{var n=i(238416);function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}e.exports=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,t,i)=>{var n=i(163405),a=i(379498),o=i(386116),r=i(742281);e.exports=function(e){return n(e)||a(e)||o(e)||r()},e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,t,i)=>{var n=i(373897);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},497326:(e,t,i)=>{function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}i.d(t,{Z:()=>n})},487462:(e,t,i)=>{function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n.apply(this,arguments)}i.d(t,{Z:()=>n})},875068:(e,t,i)=>{function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}i.d(t,{Z:()=>a})},172875:(e,t,i)=>{function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i.d(t,{Z:()=>o})},263366:(e,t,i)=>{function n(e,t){if(null==e)return{};var i,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}i.d(t,{Z:()=>n})}},e=>{e.O(0,[14865],(()=>{[97270,92982,47424,18081,48035,23057,1629,5035,89992,43473,22347,22538,1593].map(e.E)}),5);e.O(0,[97270,83119,67631,16550,35057,77313,53019,35303,8575,43084,62254,59796,76030,27159,16083,69136,75264,67945,95331,76909,67448,78124,67185],(()=>{return t=82442,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search.ar_SA-8d461f77ac14fb26.mjs.map